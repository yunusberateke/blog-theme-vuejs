{"remainingRequest":"/home/eke/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/eke/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/src/views/Portfolio.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/eke/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/src/views/Portfolio.vue","mtime":1620561243055},{"path":"/home/eke/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/eke/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/eke/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/eke/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQb3J0Zm9saW9EaWFsb2cgZnJvbSAiQC9jb21wb25lbnRzL1BvcnRmb2xpb0RpYWxvZy9wb3J0Zm9saW8tZGlhbG9nIgppbXBvcnQgUG9ydGZvbGlvQ2F0ZWdvcmllcyBmcm9tICJAL2NvbXBvbmVudHMvUG9ydGZvbGlvQ2F0ZWdvcmllcy9wb3J0Zm9saW8tY2F0ZWdvcmllcyIKaW1wb3J0IFBvcnRmb2xpb3NMaXN0IGZyb20gIkAvY29tcG9uZW50cy9Qb3J0Zm9saW9zTGlzdC9wb3J0Zm9saW9zLWxpc3QiCgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgUG9ydGZvbGlvRGlhbG9nLCBQb3J0Zm9saW9DYXRlZ29yaWVzLCBQb3J0Zm9saW9zTGlzdAogIH0sCiAgY29tcHV0ZWQ6ewogICAgaXRlbXMoKXsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLlBvcnRmb2xpb01vZHVsZS5wb3J0Zm9saW9zCiAgICB9LAogICAgY2F0ZWdvcmllcygpewogICAgICByZXR1cm4gW3tuYW1lOiJIZXBzaSJ9XS5jb25jYXQodGhpcy4kc3RvcmUuc3RhdGUuUG9ydGZvbGlvQ2F0ZWdvcnlNb2R1bGUucG9ydGZvbGlvX2NhdGVnb3J5KTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNoYW5nZURpYWxvZyhpdGVtKSB7CiAgICAgIHRoaXMuZGlhbG9nSXRlbSA9IGl0ZW07CiAgICAgIHRoaXMuZGlhbG9nTW9kZWwgPSB0cnVlOwogICAgfSwKICAgIGdldERhdGEoKSB7CiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgUHJvbWlzZS5hbGwoWwogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJQb3J0Zm9saW9Nb2R1bGUvZmluZEFsbCIsIHtwYWdlOnRoaXMucGFnZX0pLAogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJQb3J0Zm9saW9DYXRlZ29yeU1vZHVsZS9maW5kQWxsIikKICAgICAgXSkudGhlbigoKSA9PiB7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICB0aGlzLnNob3dJdGVtcyA9IHRoaXMuaXRlbXM7CiAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgdGhpcy5oaWRlU2hvd01vcmVCdXR0b24gPSB0aGlzLnBhZ2UgPCBNYXRoLmNlaWwodGhpcy5jb3VudC82KTsKICAgICAgICB9LCAxMDAwKTsKICAgICAgfSkKICAgIH0sCgogICAgbW9yZUl0ZW1zKCkgewogICAgICB0aGlzLmlzTG9hZGluZ1Nob3dNb3JlID0gdHJ1ZTsKICAgICAgdGhpcy5wYWdlID0gdGhpcy5wYWdlICsgMTsKCiAgICAgIGlmICh0aGlzLmN1cnJlbnRJbmRleCA9PSAwKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goIlBvcnRmb2xpb01vZHVsZS9maW5kQWxsIiwge3BhZ2U6dGhpcy5wYWdlfSkudGhlbigoKSA9PiB7CiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmdTaG93TW9yZSA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLnNob3dJdGVtcyA9IHRoaXMuc2hvd0l0ZW1zLmNvbmNhdCh0aGlzLml0ZW1zKTsKICAgICAgICAgICAgdGhpcy5oaWRlU2hvd01vcmVCdXR0b24gPSB0aGlzLnBhZ2UgPCBNYXRoLmNlaWwodGhpcy5jb3VudC82KTsKICAgICAgICAgIH0sIDEwMDApOwogICAgICAgIH0pCiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3QgY2F0ZWdvcnlJZCA9IHRoaXMuY2F0ZWdvcmllc1t0aGlzLmN1cnJlbnRJbmRleF0uaWQ7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goIlBvcnRmb2xpb01vZHVsZS9maW5kQnlDYXRlZ29yeUlkIiwge2NhdGVnb3J5SWQ6Y2F0ZWdvcnlJZCwgcGFnZTp0aGlzLnBhZ2V9KS50aGVuKChkYXRhKT0+ewogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpewogICAgICAgICAgICB0aGlzLmlzTG9hZGluZ1Nob3dNb3JlID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuc2hvd0l0ZW1zID0gdGhpcy5zaG93SXRlbXMuY29uY2F0KGRhdGEpOwogICAgICAgICAgICB0aGlzLmhpZGVTaG93TW9yZUJ1dHRvbiA9IHRoaXMucGFnZSA8IE1hdGguY2VpbCh0aGlzLmNvdW50LzYpOwogICAgICAgICAgfS5iaW5kKHRoaXMpLCA1MDApCiAgICAgICAgfSkKICAgICAgfQogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnBhZ2U9MTsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJQb3J0Zm9saW9Nb2R1bGUvY291bnQiKS50aGVuKChlKT0+ewogICAgICB0aGlzLmNvdW50ID0gZTsKICAgIH0pOwogICAgdGhpcy5nZXREYXRhKCk7CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY291bnQ6IG51bGwsCiAgICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICAgIGlzTG9hZGluZ1Nob3dNb3JlOmZhbHNlLAogICAgICBoaWRlU2hvd01vcmVCdXR0b246ZmFsc2UsCiAgICAgIGN1cnJlbnRJbmRleDogMCwKICAgICAgc2hvd0l0ZW1zOiBbXSwKICAgICAgc2VhcmNoSXRlbXM6IFtdLAogICAgICBkaWFsb2dNb2RlbDogZmFsc2UsCiAgICAgIGRpYWxvZ0l0ZW06bnVsbCwKICAgICAgcGFnZToxLAogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBjdXJyZW50SW5kZXgoZSkgewogICAgICB0aGlzLnBhZ2U9MTsKICAgICAgaWYgKGUgPT0gMCkgewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJQb3J0Zm9saW9Nb2R1bGUvY291bnQiKS50aGVuKChlKT0+ewogICAgICAgICAgdGhpcy5jb3VudCA9IGU7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5nZXREYXRhKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICAgIGNvbnN0IGNhdGVnb3J5SWQgPSB0aGlzLmNhdGVnb3JpZXNbZV0uaWQ7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goIlBvcnRmb2xpb01vZHVsZS9jb3VudEJ5Q2F0ZWdvcnlJZCIsIHtjYXRlZ29yeUlkOmNhdGVnb3J5SWR9KS50aGVuKChlKT0+ewogICAgICAgICAgdGhpcy5jb3VudCA9IGU7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goIlBvcnRmb2xpb01vZHVsZS9maW5kQnlDYXRlZ29yeUlkIiwge2NhdGVnb3J5SWQ6Y2F0ZWdvcnlJZCwgcGFnZTp0aGlzLnBhZ2V9KS50aGVuKChkYXRhKT0+ewogICAgICAgICAgdGhpcy5zaG93SXRlbXMgPSBkYXRhOwogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpewogICAgICAgICAgICB0aGlzLmlzTG9hZGluZz1mYWxzZTsKICAgICAgICAgICAgdGhpcy5oaWRlU2hvd01vcmVCdXR0b24gPSB0aGlzLnBhZ2UgPCBNYXRoLmNlaWwodGhpcy5jb3VudC82KTsKICAgICAgICAgIH0uYmluZCh0aGlzKSwgNTAwKQogICAgICAgIH0pCiAgICAgIH0KICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["Portfolio.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Portfolio.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"px-10 py-10\">\n    <portfolio-dialog\n      v-if=\"dialogModel\"\n      :dialog=\"dialogModel\"\n      :image=\"dialogItem.image\"\n      :title=\"dialogItem.title\"\n      :description=\"dialogItem.description\"\n      @changeDialogModel=\"dialogModel = false\"\n    >\n    </portfolio-dialog>\n    <h3>Portfolyo </h3>\n    <v-row style=\"height:40vh\" v-if=\"isLoading\">\n      <v-progress-circular\n        indeterminate\n        color=\"primary\"\n        class=\"mx-auto my-auto\"\n      ></v-progress-circular>\n    </v-row>\n    <portfolio-categories\n      v-if=\"!isLoading\"\n      :currentIndex.sync=\"currentIndex\"\n      :categories=\"categories\"\n    >\n    </portfolio-categories>\n    <portfolios-list\n      v-if=\"!isLoading\"\n      :showItems=\"showItems\"\n      :hideShowMoreButton=\"hideShowMoreButton\"\n      :isLoadingShowMore=\"isLoadingShowMore\"\n      :dialogItem.sync=\"dialogItem\"\n      :dialogModel.sync=\"dialogModel\"\n      @clickMoreItems=\"moreItems\"\n    >\n    </portfolios-list>\n  </div>\n</template>\n\n<script>\nimport PortfolioDialog from \"@/components/PortfolioDialog/portfolio-dialog\"\nimport PortfolioCategories from \"@/components/PortfolioCategories/portfolio-categories\"\nimport PortfoliosList from \"@/components/PortfoliosList/portfolios-list\"\n\nexport default {\n  components: {\n    PortfolioDialog, PortfolioCategories, PortfoliosList\n  },\n  computed:{\n    items(){\n      return this.$store.state.PortfolioModule.portfolios\n    },\n    categories(){\n      return [{name:\"Hepsi\"}].concat(this.$store.state.PortfolioCategoryModule.portfolio_category);\n    }\n  },\n  methods: {\n    changeDialog(item) {\n      this.dialogItem = item;\n      this.dialogModel = true;\n    },\n    getData() {\n      this.isLoading = true;\n      Promise.all([\n        this.$store.dispatch(\"PortfolioModule/findAll\", {page:this.page}),\n        this.$store.dispatch(\"PortfolioCategoryModule/findAll\")\n      ]).then(() => {\n        setTimeout(() => {\n          this.showItems = this.items;\n          this.isLoading = false;\n          this.hideShowMoreButton = this.page < Math.ceil(this.count/6);\n        }, 1000);\n      })\n    },\n\n    moreItems() {\n      this.isLoadingShowMore = true;\n      this.page = this.page + 1;\n\n      if (this.currentIndex == 0) {\n        this.$store.dispatch(\"PortfolioModule/findAll\", {page:this.page}).then(() => {\n          setTimeout(() => {\n            this.isLoadingShowMore = false;\n            this.showItems = this.showItems.concat(this.items);\n            this.hideShowMoreButton = this.page < Math.ceil(this.count/6);\n          }, 1000);\n        })\n      } else {\n        const categoryId = this.categories[this.currentIndex].id;\n        this.$store.dispatch(\"PortfolioModule/findByCategoryId\", {categoryId:categoryId, page:this.page}).then((data)=>{\n          setTimeout(function(){\n            this.isLoadingShowMore = false;\n            this.showItems = this.showItems.concat(data);\n            this.hideShowMoreButton = this.page < Math.ceil(this.count/6);\n          }.bind(this), 500)\n        })\n      }\n    },\n  },\n  mounted() {\n    this.page=1;\n    this.$store.dispatch(\"PortfolioModule/count\").then((e)=>{\n      this.count = e;\n    });\n    this.getData();\n  },\n  data() {\n    return {\n      count: null,\n      isLoading: false,\n      isLoadingShowMore:false,\n      hideShowMoreButton:false,\n      currentIndex: 0,\n      showItems: [],\n      searchItems: [],\n      dialogModel: false,\n      dialogItem:null,\n      page:1,\n    };\n  },\n  watch: {\n    currentIndex(e) {\n      this.page=1;\n      if (e == 0) {\n        this.$store.dispatch(\"PortfolioModule/count\").then((e)=>{\n          this.count = e;\n        });\n        this.getData();\n      } else {\n        this.isLoading = true;\n        const categoryId = this.categories[e].id;\n        this.$store.dispatch(\"PortfolioModule/countByCategoryId\", {categoryId:categoryId}).then((e)=>{\n          this.count = e;\n        });\n        this.$store.dispatch(\"PortfolioModule/findByCategoryId\", {categoryId:categoryId, page:this.page}).then((data)=>{\n          this.showItems = data;\n          setTimeout(function(){\n            this.isLoading=false;\n            this.hideShowMoreButton = this.page < Math.ceil(this.count/6);\n          }.bind(this), 500)\n        })\n      }\n    },\n  },\n};\n</script>\n\n<style>\n</style>\n"]}]}