{"remainingRequest":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/src/views/AdminTemplate/EditPortfolio.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/src/views/AdminTemplate/EditPortfolio.vue","mtime":1623001631999},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IFZ1ZUVkaXRvciB9IGZyb20gInZ1ZTItZWRpdG9yIjsKaW1wb3J0IHNlcnZlckNsaWVudCBmcm9tICJAL3N0b3JlL2h0dHBfY2xpZW50IjsKaW1wb3J0IExvYWRlciBmcm9tICJAL2NvbXBvbmVudHMvTG9hZGVyL2xvYWRlci52dWUiOwppbXBvcnQgQWRkUG9ydGZvbGlvQ2F0ZWdvcnlEaWFsb2cgZnJvbSAiQC9jb21wb25lbnRzL0FkZFBvcnRmb2xpb0NhdGVnb3J5RGlhbG9nL2FkZC1wb3J0Zm9saW8tY2F0ZWdvcnktZGlhbG9nLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IFZ1ZUVkaXRvciwgTG9hZGVyLCBBZGRQb3J0Zm9saW9DYXRlZ29yeURpYWxvZyB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb250ZW50OiAiIiwKICAgICAgc2hvd0ltYWdlOiAiIiwKICAgICAgaW1hZ2U6IG51bGwsCiAgICAgIGZvcm1EYXRhOiB7CiAgICAgICAgdGl0bGU6IG51bGwsCiAgICAgICAgY2F0ZWdvcnlfaWQ6IG51bGwsCiAgICAgICAgZ2l0aHViX3VybDogbnVsbCwKICAgICAgfSwKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgY2F0ZWdvcmllcygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLlBvcnRmb2xpb0NhdGVnb3J5TW9kdWxlLnBvcnRmb2xpb19jYXRlZ29yeTsKICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICAgIGdldERhdGEoKXsKICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgIFByb21pc2UuYWxsKFsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goIlBvcnRmb2xpb01vZHVsZS9maW5kQnlJZCIsIHsKICAgICAgICBpZDogdGhpcy4kcm91dGUucGFyYW1zLmlkLAogICAgICB9KSwKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goIlBvcnRmb2xpb0NhdGVnb3J5TW9kdWxlL2ZpbmRBbGwiKSwKICAgIF0pLnRoZW4oKHJlcykgPT4gewogICAgICB0aGlzLmZvcm1EYXRhID0gcmVzWzBdOwogICAgICB0aGlzLmNvbnRlbnQgPSByZXNbMF0uZGVzY3JpcHRpb247CiAgICAgIHRoaXMuc2hvd0ltYWdlID0gcmVzWzBdLmltYWdlOwogICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgfSk7CiAgICAgIH0sCiAgICBoYW5kbGVJbWFnZUFkZGVkOiBmdW5jdGlvbiAoZmlsZSwgRWRpdG9yLCBjdXJzb3JMb2NhdGlvbiwgcmVzZXRVcGxvYWRlcikgewogICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCJmaWxlIiwgZmlsZSk7CgogICAgICBzZXJ2ZXJDbGllbnQKICAgICAgICAucG9zdCgiL2ZpbGUiLCBmb3JtRGF0YSkKICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgICBsZXQgdXJsID0gIi9zdG9yYWdlLyIgKyByZXN1bHQuZGF0YS5maWxlOyAvLyBHZXQgdXJsIGZyb20gcmVzcG9uc2UKICAgICAgICAgIEVkaXRvci5pbnNlcnRFbWJlZChjdXJzb3JMb2NhdGlvbiwgImltYWdlIiwgdXJsKTsKICAgICAgICAgIHJlc2V0VXBsb2FkZXIoKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIH0pOwogICAgfSwKICAgIHVwZGF0ZUZvcm1EYXRhKCkgewogICAgICB0aGlzLmZvcm1EYXRhLmRlc2NyaXB0aW9uID0gdGhpcy5jb250ZW50OwoKICAgICAgaWYgKHRoaXMuaW1hZ2UpIHsKICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICBpbWFnZS5hcHBlbmQoImZpbGUiLCB0aGlzLmltYWdlKTsKCiAgICAgICAgc2VydmVyQ2xpZW50CiAgICAgICAgICAucG9zdCgiL2ZpbGUiLCBpbWFnZSkKICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgICAgdGhpcy5mb3JtRGF0YS5pbWFnZSA9CiAgICAgICAgICAgICAgIi9zdG9yYWdlLyIgKyByZXN1bHQuZGF0YS5maWxlOyAvLyBHZXQgdXJsIGZyb20gcmVzcG9uc2UKICAgICAgICAgICAgdGhpcy4kc3RvcmUKICAgICAgICAgICAgICAuZGlzcGF0Y2goIlBvcnRmb2xpb01vZHVsZS91cGRhdGUiLCB0aGlzLmZvcm1EYXRhKQogICAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJHRvYXN0LnN1Y2Nlc3MoIkJhxZ9hcsSxeWxhIGtheWRlZGlsZGkiLCB7CiAgICAgICAgICAgICAgICAgIHRvcDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgcmlnaHQ6IHRydWUsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRoaXMuZ2V0RGF0YSgpCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdC5mYWlsKGBLYXlkZWRpbGlya2VuIGJpciBoYXRhIG9sdcWfdHUgJHtlcnJvcn1gLCB7CiAgICAgICAgICAgICAgICAgIHRvcDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgcmlnaHQ6IHRydWUsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgIHRoaXMuJHRvYXN0LmZhaWwoYEtheWRlZGlsaXJrZW4gYmlyIGhhdGEgb2x1xZ90dSAke2Vycm9yfWAsIHsKICAgICAgICAgICAgICB0b3A6IHRydWUsCiAgICAgICAgICAgICAgcmlnaHQ6IHRydWUsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kc3RvcmUKICAgICAgICAgIC5kaXNwYXRjaCgiUG9ydGZvbGlvTW9kdWxlL3VwZGF0ZSIsIHRoaXMuZm9ybURhdGEpCiAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuJHRvYXN0LnN1Y2Nlc3MoIkJhxZ9hcsSxeWxhIGtheWRlZGlsZGkiLCB7CiAgICAgICAgICAgICAgdG9wOiB0cnVlLAogICAgICAgICAgICAgIHJpZ2h0OiB0cnVlLAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy5nZXREYXRhKCkKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgIHRoaXMuJHRvYXN0LmZhaWwoYEtheWRlZGlsaXJrZW4gYmlyIGhhdGEgb2x1xZ90dSAke2Vycm9yfWAsIHsKICAgICAgICAgICAgICB0b3A6IHRydWUsCiAgICAgICAgICAgICAgcmlnaHQ6IHRydWUsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5nZXREYXRhKCkKICB9LAp9Owo="},{"version":3,"sources":["EditPortfolio.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EditPortfolio.vue","sourceRoot":"src/views/AdminTemplate","sourcesContent":["<template>\n  <div>\n    <loader v-if=\"isLoading\"></loader>\n    <v-card class=\"col-12 col-md-11 col-lg-10 mx-auto\" v-if=\"!isLoading\">\n      <v-card-text style=\"min-height: 85vh\">\n        <v-form>\n          <v-card width=\"200\" height=\"200\">\n            <v-img :src=\"showImage\" height=\"200\" width=\"200\"></v-img>\n          </v-card>\n          <v-file-input\n            v-model=\"image\"\n            prepend-icon=\"mdi-camera\"\n            accept=\"image/png, image/jpeg, image/bmp\"\n            label=\"Resim\"\n          ></v-file-input>\n          <v-text-field label=\"İsmi\" v-model=\"formData.title\"></v-text-field>\n          <v-row class=\"ma-0 pa-0\">\n            <v-autocomplete\n              item-text=\"name\"\n              item-value=\"id\"\n              :items=\"categories\"\n              v-model=\"formData.category_id\"\n              label=\"Kategori\"\n            ></v-autocomplete>\n            <add-portfolio-category-dialog\n              class=\"my-auto ml-2\"\n              :dialog.sync=\"dialog\"\n              :categories=\"categories\"\n            ></add-portfolio-category-dialog>\n          </v-row>\n          <v-text-field\n            label=\"Github Url\"\n            v-model=\"formData.github_url\"\n          ></v-text-field>\n        </v-form>\n        <vue-editor\n          placeholder=\"İçerik\"\n          id=\"editor\"\n          use-custom-image-handler\n          @image-added=\"handleImageAdded\"\n          v-model=\"content\"\n          lang=\"tr\"\n          style=\"mim-height: 63vh\"\n        >\n        </vue-editor>\n        <v-row class=\"my-5\">\n          <v-btn\n            @click=\"updateFormData\"\n            outlined\n            class=\"my-2 mx-auto\"\n            color=\"primary\"\n            ><v-icon left>mdi-content-save</v-icon> Güncelle\n          </v-btn>\n        </v-row>\n      </v-card-text>\n    </v-card>\n  </div>\n</template>\n\n<script>\nimport { VueEditor } from \"vue2-editor\";\nimport serverClient from \"@/store/http_client\";\nimport Loader from \"@/components/Loader/loader.vue\";\nimport AddPortfolioCategoryDialog from \"@/components/AddPortfolioCategoryDialog/add-portfolio-category-dialog.vue\";\nexport default {\n  components: { VueEditor, Loader, AddPortfolioCategoryDialog },\n  data() {\n    return {\n      content: \"\",\n      showImage: \"\",\n      image: null,\n      formData: {\n        title: null,\n        category_id: null,\n        github_url: null,\n      },\n      isLoading: false,\n      dialog: false,\n    };\n  },\n  computed: {\n    categories() {\n      return this.$store.state.PortfolioCategoryModule.portfolio_category;\n    },\n  },\n  methods: {\n      getData(){\n          this.isLoading = true;\n    Promise.all([\n      this.$store.dispatch(\"PortfolioModule/findById\", {\n        id: this.$route.params.id,\n      }),\n      this.$store.dispatch(\"PortfolioCategoryModule/findAll\"),\n    ]).then((res) => {\n      this.formData = res[0];\n      this.content = res[0].description;\n      this.showImage = res[0].image;\n      this.isLoading = false;\n    });\n      },\n    handleImageAdded: function (file, Editor, cursorLocation, resetUploader) {\n      var formData = new FormData();\n      formData.append(\"file\", file);\n\n      serverClient\n        .post(\"/file\", formData)\n        .then((result) => {\n          let url = \"/storage/\" + result.data.file; // Get url from response\n          Editor.insertEmbed(cursorLocation, \"image\", url);\n          resetUploader();\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    updateFormData() {\n      this.formData.description = this.content;\n\n      if (this.image) {\n        var image = new FormData();\n        image.append(\"file\", this.image);\n\n        serverClient\n          .post(\"/file\", image)\n          .then((result) => {\n            this.formData.image =\n              \"/storage/\" + result.data.file; // Get url from response\n            this.$store\n              .dispatch(\"PortfolioModule/update\", this.formData)\n              .then(() => {\n                this.$toast.success(\"Başarıyla kaydedildi\", {\n                  top: true,\n                  right: true,\n                });\n                this.getData()\n              })\n              .catch((error) => {\n                this.$toast.fail(`Kaydedilirken bir hata oluştu ${error}`, {\n                  top: true,\n                  right: true,\n                });\n              });\n          })\n          .catch((error) => {\n            this.$toast.fail(`Kaydedilirken bir hata oluştu ${error}`, {\n              top: true,\n              right: true,\n            });\n          });\n      } else {\n        this.$store\n          .dispatch(\"PortfolioModule/update\", this.formData)\n          .then(() => {\n            this.$toast.success(\"Başarıyla kaydedildi\", {\n              top: true,\n              right: true,\n            });\n            this.getData()\n          })\n          .catch((error) => {\n            this.$toast.fail(`Kaydedilirken bir hata oluştu ${error}`, {\n              top: true,\n              right: true,\n            });\n          });\n      }\n    },\n  },\n  mounted() {\n    this.getData()\n  },\n};\n</script>\n\n<style>\n</style>"]}]}