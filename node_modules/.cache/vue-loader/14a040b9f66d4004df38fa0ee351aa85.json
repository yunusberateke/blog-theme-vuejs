{"remainingRequest":"/home/eke/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/eke/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/src/views/Blog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/eke/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/src/views/Blog.vue","mtime":1620562579583},{"path":"/home/eke/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/eke/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/eke/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/eke/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQb3J0Zm9saW9DYXRlZ29yaWVzIGZyb20gIkAvY29tcG9uZW50cy9Qb3J0Zm9saW9DYXRlZ29yaWVzL3BvcnRmb2xpby1jYXRlZ29yaWVzIgppbXBvcnQgUG9zdHNMaXN0IGZyb20gIkAvY29tcG9uZW50cy9Qb3N0c0xpc3QvcG9zdHMtbGlzdCIKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBQb3J0Zm9saW9DYXRlZ29yaWVzLCBQb3N0c0xpc3QKICB9LAogIGNvbXB1dGVkOiB7CiAgICBpdGVtcygpewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuUG9zdE1vZHVsZS5wb3N0cwogICAgfSwKICAgIGNhdGVnb3JpZXMoKXsKICAgICAgcmV0dXJuIFt7bmFtZToiSGVwc2kifV0uY29uY2F0KHRoaXMuJHN0b3JlLnN0YXRlLlBvc3RDYXRlZ29yeU1vZHVsZS5wb3N0X2NhdGVnb3J5KTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldERhdGEoKSB7CiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgUHJvbWlzZS5hbGwoWwogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJQb3N0TW9kdWxlL2ZpbmRBbGwiLCB7cGFnZTp0aGlzLnBhZ2V9KSwKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiUG9zdENhdGVnb3J5TW9kdWxlL2ZpbmRBbGwiKQogICAgICBdKS50aGVuKCgpID0+IHsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHRoaXMuc2hvd0l0ZW1zID0gdGhpcy5pdGVtczsKICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICB0aGlzLmhpZGVTaG93TW9yZUJ1dHRvbiA9IHRoaXMucGFnZSA8IE1hdGguY2VpbCh0aGlzLmNvdW50LzYpOwogICAgICAgIH0sIDEwMDApOwogICAgICB9KQogICAgfSwKICAgIG1vcmVJdGVtcygpIHsKICAgICAgdGhpcy5pc0xvYWRpbmdTaG93TW9yZSA9IHRydWU7CiAgICAgIHRoaXMucGFnZSA9IHRoaXMucGFnZSArIDE7CgogICAgICBpZiAodGhpcy5jdXJyZW50SW5kZXggPT0gMCkgewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJQb3N0TW9kdWxlL2ZpbmRBbGwiLCB7cGFnZTp0aGlzLnBhZ2V9KS50aGVuKCgpID0+IHsKICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICB0aGlzLmlzTG9hZGluZ1Nob3dNb3JlID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuc2hvd0l0ZW1zID0gdGhpcy5zaG93SXRlbXMuY29uY2F0KHRoaXMuaXRlbXMpOwogICAgICAgICAgICB0aGlzLmhpZGVTaG93TW9yZUJ1dHRvbiA9IHRoaXMucGFnZSA8IE1hdGguY2VpbCh0aGlzLmNvdW50LzYpOwogICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgfSkKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zdCBjYXRlZ29yeUlkID0gdGhpcy5jYXRlZ29yaWVzW3RoaXMuY3VycmVudEluZGV4XS5pZDsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiUG9zdE1vZHVsZS9maW5kQnlDYXRlZ29yeUlkIiwge2NhdGVnb3J5SWQ6Y2F0ZWdvcnlJZCwgcGFnZTp0aGlzLnBhZ2V9KS50aGVuKChkYXRhKT0+ewogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpewogICAgICAgICAgICB0aGlzLmlzTG9hZGluZ1Nob3dNb3JlID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuc2hvd0l0ZW1zID0gdGhpcy5zaG93SXRlbXMuY29uY2F0KGRhdGEpOwogICAgICAgICAgICB0aGlzLmhpZGVTaG93TW9yZUJ1dHRvbiA9IHRoaXMucGFnZSA8IE1hdGguY2VpbCh0aGlzLmNvdW50LzYpOwogICAgICAgICAgfS5iaW5kKHRoaXMpLCA1MDApCiAgICAgICAgfSkKICAgICAgfQogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnBhZ2U9MTsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJQb3N0TW9kdWxlL2NvdW50IikudGhlbigoZSk9PnsKICAgICAgdGhpcy5jb3VudCA9IGU7CiAgICB9KTsKICAgIHRoaXMuZ2V0RGF0YSgpOwogIH0sCiAgZGF0YSgpewogICAgcmV0dXJuewogICAgICBjb3VudDogbnVsbCwKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgaXNMb2FkaW5nU2hvd01vcmU6ZmFsc2UsCiAgICAgIGhpZGVTaG93TW9yZUJ1dHRvbjpmYWxzZSwKICAgICAgY3VycmVudEluZGV4OiAwLAogICAgICBzaG93SXRlbXM6IFtdLAogICAgICBzZWFyY2hJdGVtczogW10sCiAgICAgIGRpYWxvZ01vZGVsOiBmYWxzZSwKICAgICAgZGlhbG9nSXRlbTpudWxsLAogICAgICBwYWdlOjEsCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgY3VycmVudEluZGV4KGUpIHsKICAgICAgdGhpcy5wYWdlPTE7CiAgICAgIGlmIChlID09IDApIHsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiUG9zdE1vZHVsZS9jb3VudCIpLnRoZW4oKGUpPT57CiAgICAgICAgICB0aGlzLmNvdW50ID0gZTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmdldERhdGEoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgICAgY29uc3QgY2F0ZWdvcnlJZCA9IHRoaXMuY2F0ZWdvcmllc1tlXS5pZDsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiUG9zdE1vZHVsZS9jb3VudEJ5Q2F0ZWdvcnlJZCIsIHtjYXRlZ29yeUlkOmNhdGVnb3J5SWR9KS50aGVuKChlKT0+ewogICAgICAgICAgdGhpcy5jb3VudCA9IGU7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goIlBvc3RNb2R1bGUvZmluZEJ5Q2F0ZWdvcnlJZCIsIHtjYXRlZ29yeUlkOmNhdGVnb3J5SWQsIHBhZ2U6dGhpcy5wYWdlfSkudGhlbigoZGF0YSk9PnsKICAgICAgICAgIHRoaXMuc2hvd0l0ZW1zID0gZGF0YTsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmc9ZmFsc2U7CiAgICAgICAgICAgIHRoaXMuaGlkZVNob3dNb3JlQnV0dG9uID0gdGhpcy5wYWdlIDwgTWF0aC5jZWlsKHRoaXMuY291bnQvNik7CiAgICAgICAgICB9LmJpbmQodGhpcyksIDUwMCkKICAgICAgICB9KQogICAgICB9CiAgICB9LAogIH0KfTsK"},{"version":3,"sources":["Blog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Blog.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"px-10 py-10\">\n      <h3 >Blog Yazılarım</h3>\n      <v-row style=\"height:40vh\" v-if=\"isLoading\">\n        <v-progress-circular\n          indeterminate\n          color=\"primary\"\n          class=\"mx-auto my-auto\"\n        ></v-progress-circular>\n      </v-row>\n      <portfolio-categories\n        v-if=\"!isLoading\"\n        :currentIndex.sync=\"currentIndex\"\n        :categories=\"categories\"\n      >\n      </portfolio-categories>\n      <v-row>\n      <posts-list\n        v-if=\"!isLoading\"\n        :showItems=\"showItems\"\n        :hideShowMoreButton=\"hideShowMoreButton\"\n        :isLoadingShowMore=\"isLoadingShowMore\"\n        :dialogItem.sync=\"dialogItem\"\n        :dialogModel.sync=\"dialogModel\"\n        @clickMoreItems=\"moreItems\"\n      >\n      </posts-list>\n    </v-row>\n  </div>\n</template>\n\n<script>\nimport PortfolioCategories from \"@/components/PortfolioCategories/portfolio-categories\"\nimport PostsList from \"@/components/PostsList/posts-list\"\n\nexport default {\n  components: {\n    PortfolioCategories, PostsList\n  },\n  computed: {\n    items(){\n      return this.$store.state.PostModule.posts\n    },\n    categories(){\n      return [{name:\"Hepsi\"}].concat(this.$store.state.PostCategoryModule.post_category);\n    }\n  },\n  methods: {\n    getData() {\n      this.isLoading = true;\n      Promise.all([\n        this.$store.dispatch(\"PostModule/findAll\", {page:this.page}),\n        this.$store.dispatch(\"PostCategoryModule/findAll\")\n      ]).then(() => {\n        setTimeout(() => {\n          this.showItems = this.items;\n          this.isLoading = false;\n          this.hideShowMoreButton = this.page < Math.ceil(this.count/6);\n        }, 1000);\n      })\n    },\n    moreItems() {\n      this.isLoadingShowMore = true;\n      this.page = this.page + 1;\n\n      if (this.currentIndex == 0) {\n        this.$store.dispatch(\"PostModule/findAll\", {page:this.page}).then(() => {\n          setTimeout(() => {\n            this.isLoadingShowMore = false;\n            this.showItems = this.showItems.concat(this.items);\n            this.hideShowMoreButton = this.page < Math.ceil(this.count/6);\n          }, 1000);\n        })\n      } else {\n        const categoryId = this.categories[this.currentIndex].id;\n        this.$store.dispatch(\"PostModule/findByCategoryId\", {categoryId:categoryId, page:this.page}).then((data)=>{\n          setTimeout(function(){\n            this.isLoadingShowMore = false;\n            this.showItems = this.showItems.concat(data);\n            this.hideShowMoreButton = this.page < Math.ceil(this.count/6);\n          }.bind(this), 500)\n        })\n      }\n    },\n  },\n  mounted() {\n    this.page=1;\n    this.$store.dispatch(\"PostModule/count\").then((e)=>{\n      this.count = e;\n    });\n    this.getData();\n  },\n  data(){\n    return{\n      count: null,\n      isLoading: false,\n      isLoadingShowMore:false,\n      hideShowMoreButton:false,\n      currentIndex: 0,\n      showItems: [],\n      searchItems: [],\n      dialogModel: false,\n      dialogItem:null,\n      page:1,\n    }\n  },\n  watch: {\n    currentIndex(e) {\n      this.page=1;\n      if (e == 0) {\n        this.$store.dispatch(\"PostModule/count\").then((e)=>{\n          this.count = e;\n        });\n        this.getData();\n      } else {\n        this.isLoading = true;\n        const categoryId = this.categories[e].id;\n        this.$store.dispatch(\"PostModule/countByCategoryId\", {categoryId:categoryId}).then((e)=>{\n          this.count = e;\n        });\n        this.$store.dispatch(\"PostModule/findByCategoryId\", {categoryId:categoryId, page:this.page}).then((data)=>{\n          this.showItems = data;\n          setTimeout(function(){\n            this.isLoading=false;\n            this.hideShowMoreButton = this.page < Math.ceil(this.count/6);\n          }.bind(this), 500)\n        })\n      }\n    },\n  }\n};\n</script>\n\n<style>\n\n</style>\n"]}]}