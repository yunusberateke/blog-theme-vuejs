{"remainingRequest":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/src/components/AddPostCategoryDialog/add-post-category-dialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/src/components/AddPostCategoryDialog/add-post-category-dialog.vue","mtime":1623001444882},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBzZXJ2ZXJDbGllbnQgZnJvbSAiQC9zdG9yZS9odHRwX2NsaWVudCI7CgpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIGRpYWxvZzogewogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgIH0sCiAgICBjYXRlZ29yaWVzOiB7CiAgICAgIGRlZmF1bHQ6IFtdLAogICAgfSwKICAgIGVkaXQ6IHsKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICB9LAogICAgY2F0ZWdvcnlJZDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICB9LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpYWxvZ01vZGVsOiB0aGlzLmRpYWxvZywKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgaW1hZ2U6IG51bGwsCiAgICAgIGZvcm1EYXRhOiB7CiAgICAgICAgbmFtZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogbnVsbCwKICAgICAgICBwYXJlbnQ6IG51bGwsCiAgICAgICAgaW1hZ2U6IG51bGwsCiAgICAgIH0sCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY2xvc2VEaWFsb2coKSB7CiAgICAgIHRoaXMuJGVtaXQoInVwZGF0ZTpkaWFsb2ciLCBmYWxzZSk7CiAgICB9LAoKICAgIHNhdmUoKSB7CiAgICAgIHZhciBpbWFnZSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBpbWFnZS5hcHBlbmQoImZpbGUiLCB0aGlzLmltYWdlKTsKCiAgICAgIGlmICh0aGlzLmVkaXQpIHsKICAgICAgICBzZXJ2ZXJDbGllbnQKICAgICAgICAgIC5wb3N0KCIvZmlsZSIsIGltYWdlKQogICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgICB0aGlzLmZvcm1EYXRhLmltYWdlID0KICAgICAgICAgICAgICAiL3N0b3JhZ2UvIiArIHJlc3VsdC5kYXRhLmZpbGU7IC8vIEdldCB1cmwgZnJvbSByZXNwb25zZQogICAgICAgICAgICB0aGlzLiRzdG9yZQogICAgICAgICAgICAgIC5kaXNwYXRjaCgiQ2F0ZWdvcnlNb2R1bGUvdXBkYXRlIiwgdGhpcy5mb3JtRGF0YSkKICAgICAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdC5zdWNjZXNzKCJCYcWfYXLEsXlsYSBFa2xlbmRpISIsIHsKICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICJ0b3AtcmlnaHQiLAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmZvcm0ucmVzZXQoKTsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlCiAgICAgICAgICAgICAgICAgIC5kaXNwYXRjaCgiQ2F0ZWdvcnlNb2R1bGUvZmluZEFsbCIpCiAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlRGlhbG9nKCk7CiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdC5lcnJvcigKICAgICAgICAgICAgICAgICAgICAgIGBLYXlkZWRpbGlya2VuIGJpciBoYXRhIG9sdcWfdHUgJHtlcnJvcn1gLAogICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogInRvcC1yaWdodCIsCiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICB0aGlzLiR0b2FzdC5mYWlsKGBLYXlkZWRpbGlya2VuIGJpciBoYXRhIG9sdcWfdHUgJHtlcnJvcn1gLCB7CiAgICAgICAgICAgICAgdG9wOiB0cnVlLAogICAgICAgICAgICAgIHJpZ2h0OiB0cnVlLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHNlcnZlckNsaWVudAogICAgICAgICAgLnBvc3QoIi9maWxlIiwgaW1hZ2UpCiAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgICAgIHRoaXMuZm9ybURhdGEuaW1hZ2UgPQogICAgICAgICAgICAgICJodHRwOi8vbG9jYWxob3N0OjgwMDAvc3RvcmFnZS8iICsgcmVzdWx0LmRhdGEuZmlsZTsgLy8gR2V0IHVybCBmcm9tIHJlc3BvbnNlCiAgICAgICAgICAgIHRoaXMuJHN0b3JlCiAgICAgICAgICAgICAgLmRpc3BhdGNoKCJDYXRlZ29yeU1vZHVsZS9zYXZlIiwgdGhpcy5mb3JtRGF0YSkKICAgICAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdC5zdWNjZXNzKCJCYcWfYXLEsXlsYSBFa2xlbmRpISIsIHsKICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICJ0b3AtcmlnaHQiLAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmZvcm0ucmVzZXQoKTsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlCiAgICAgICAgICAgICAgICAgIC5kaXNwYXRjaCgiQ2F0ZWdvcnlNb2R1bGUvZmluZEFsbCIpCiAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdC5zdWNjZXNzKGBCYcWfYXLEsXlsYSBla2xlbmRpYCwgewogICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICJ0b3AtcmlnaHQiLAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VEaWFsb2coKTsKICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuJHRvYXN0LmVycm9yKAogICAgICAgICAgICAgICAgICAgICAgYEtheWRlZGlsaXJrZW4gYmlyIGhhdGEgb2x1xZ90dSAke2Vycm9yfWAsCiAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAidG9wLXJpZ2h0IiwKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgIHRoaXMuJHRvYXN0LmZhaWwoYEtheWRlZGlsaXJrZW4gYmlyIGhhdGEgb2x1xZ90dSAke2Vycm9yfWAsIHsKICAgICAgICAgICAgICB0b3A6IHRydWUsCiAgICAgICAgICAgICAgcmlnaHQ6IHRydWUsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgaWYgKHRoaXMuZWRpdCkgewogICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICB0aGlzLiRzdG9yZQogICAgICAgIC5kaXNwYXRjaCgiQ2F0ZWdvcnlNb2R1bGUvZmluZEJ5SWQiLCB0aGlzLmNhdGVnb3J5SWQpCiAgICAgICAgLnRoZW4oKGUpID0+IHsKICAgICAgICAgIHRoaXMuZm9ybURhdGEgPSBlOwogICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0pOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGRpYWxvZygpIHsKICAgICAgdGhpcy5kaWFsb2dNb2RlbCA9IHRoaXMuZGlhbG9nOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["add-post-category-dialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"add-post-category-dialog.vue","sourceRoot":"src/components/AddPostCategoryDialog","sourcesContent":["<template>\n  <div>\n    <v-btn icon @click=\"$emit('update:dialog', true)\" v-if=\"!edit\"\n      ><v-icon>mdi-plus</v-icon></v-btn\n    >\n\n    <v-dialog v-model=\"dialogModel\" width=\"500\" persistent>\n      <v-card>\n        <v-card-title class=\"headline grey lighten-2\">\n          Post Kategori Ekle\n        </v-card-title>\n        <v-progress-circular\n          v-if=\"isLoading\"\n          color=\"primary\"\n          indeterminate\n        ></v-progress-circular>\n        <v-card-text v-else>\n          <v-form ref=\"form\">\n            <v-file-input\n              v-model=\"image\"\n              prepend-icon=\"mdi-camera\"\n              accept=\"image/png, image/jpeg, image/bmp\"\n              label=\"Resim\"\n            ></v-file-input>\n            <v-text-field label=\"İsim\" v-model=\"formData.name\"></v-text-field>\n            <v-autocomplete\n              item-text=\"name\"\n              item-value=\"id\"\n              :items=\"categories\"\n              label=\"Üst Kategorisi\"\n              v-model=\"formData.parent\"\n            ></v-autocomplete>\n            <v-textarea\n              label=\"Açıklama\"\n              v-model=\"formData.description\"\n            ></v-textarea>\n          </v-form>\n        </v-card-text>\n\n        <v-divider></v-divider>\n\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"primary\" text @click=\"save\"> Kaydet </v-btn>\n          <v-btn color=\"error\" text @click=\"closeDialog\"> İptal </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n\n<script>\nimport serverClient from \"@/store/http_client\";\n\nexport default {\n  props: {\n    dialog: {\n      default: false,\n    },\n    categories: {\n      default: [],\n    },\n    edit: {\n      default: false,\n    },\n    categoryId: {\n      type: Number,\n    },\n  },\n  data() {\n    return {\n      dialogModel: this.dialog,\n      isLoading: false,\n      image: null,\n      formData: {\n        name: null,\n        description: null,\n        parent: null,\n        image: null,\n      },\n    };\n  },\n  methods: {\n    closeDialog() {\n      this.$emit(\"update:dialog\", false);\n    },\n\n    save() {\n      var image = new FormData();\n      image.append(\"file\", this.image);\n\n      if (this.edit) {\n        serverClient\n          .post(\"/file\", image)\n          .then((result) => {\n            this.formData.image =\n              \"/storage/\" + result.data.file; // Get url from response\n            this.$store\n              .dispatch(\"CategoryModule/update\", this.formData)\n              .then(() => {\n                this.$toast.success(\"Başarıyla Eklendi!\", {\n                  position: \"top-right\",\n                });\n                this.$refs.form.reset();\n                this.$store\n                  .dispatch(\"CategoryModule/findAll\")\n                  .then(() => {\n                    this.closeDialog();\n                  })\n                  .catch((error) => {\n                    this.$toast.error(\n                      `Kaydedilirken bir hata oluştu ${error}`,\n                      {\n                        position: \"top-right\",\n                      }\n                    );\n                  });\n              });\n          })\n          .catch((error) => {\n            this.$toast.fail(`Kaydedilirken bir hata oluştu ${error}`, {\n              top: true,\n              right: true,\n            });\n          });\n      } else {\n        serverClient\n          .post(\"/file\", image)\n          .then((result) => {\n            this.formData.image =\n              \"http://localhost:8000/storage/\" + result.data.file; // Get url from response\n            this.$store\n              .dispatch(\"CategoryModule/save\", this.formData)\n              .then(() => {\n                this.$toast.success(\"Başarıyla Eklendi!\", {\n                  position: \"top-right\",\n                });\n                this.$refs.form.reset();\n                this.$store\n                  .dispatch(\"CategoryModule/findAll\")\n                  .then(() => {\n                    this.$toast.success(`Başarıyla eklendi`, {\n                      position: \"top-right\",\n                    });\n                    this.closeDialog();\n                  })\n                  .catch((error) => {\n                    this.$toast.error(\n                      `Kaydedilirken bir hata oluştu ${error}`,\n                      {\n                        position: \"top-right\",\n                      }\n                    );\n                  });\n              });\n          })\n          .catch((error) => {\n            this.$toast.fail(`Kaydedilirken bir hata oluştu ${error}`, {\n              top: true,\n              right: true,\n            });\n          });\n      }\n    },\n  },\n  mounted() {\n    if (this.edit) {\n      this.isLoading = false;\n      this.$store\n        .dispatch(\"CategoryModule/findById\", this.categoryId)\n        .then((e) => {\n          this.formData = e;\n          this.isLoading = false;\n        })\n        .catch(() => {\n          this.isLoading = false;\n        });\n    }\n  },\n  watch: {\n    dialog() {\n      this.dialogModel = this.dialog;\n    },\n  },\n};\n</script>\n\n<style>\n</style>"]}]}