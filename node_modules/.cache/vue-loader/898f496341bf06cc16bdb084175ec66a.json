{"remainingRequest":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/src/views/AdminTemplate/Posts.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/src/views/AdminTemplate/Posts.vue","mtime":1622987643081},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXRlbXNQZXJQYWdlOiA2LAogICAgICBkZWxldGVJdGVtOiBudWxsLAogICAgICBkaWFsb2c6IGZhbHNlLAogICAgICBwYWdlOiAxLAogICAgICBwYWdlQ291bnQ6IE1hdGguY2VpbCh0aGlzLmNvdW50IC8gNiksCiAgICAgIHZlcmlmeUl0ZW1zOiBbCiAgICAgICAgeyB0ZXh0OiAiT25heWxhbWEiLCB2YWx1ZTogMCB9LAogICAgICAgIHsgdGV4dDogIk9uYXlsYSIsIHZhbHVlOiAxIH0sCiAgICAgIF0sCiAgICAgIGhlYWRlcnM6IFsKICAgICAgICB7CiAgICAgICAgICB0ZXh0OiAixLBzaW0iLAogICAgICAgICAgYWxpZ246ICJzdGFydCIsCiAgICAgICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgICAgICB2YWx1ZTogInRpdGxlIiwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRleHQ6ICJSZXNpbSIsCiAgICAgICAgICBhbGlnbjogImRzdGFydCIsCiAgICAgICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgICAgICB2YWx1ZTogInNob3dfaW1hZ2UiLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGV4dDogIkthdGVnb3JpIElkIiwKICAgICAgICAgIGFsaWduOiAic3RhcnQiLAogICAgICAgICAgc29ydGFibGU6IGZhbHNlLAogICAgICAgICAgdmFsdWU6ICJjYXRlZ29yeV9pZCIsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0ZXh0OiAiT2x1xZ90dXJ1bG1hIFRhcmloaSIsCiAgICAgICAgICBhbGlnbjogInN0YXJ0IiwKICAgICAgICAgIHNvcnRhYmxlOiBmYWxzZSwKICAgICAgICAgIHZhbHVlOiAiY3JlYXRlZF9hdF9zaG93IiwKICAgICAgICB9LAogICAgICAgIHsgdGV4dDogIkFjdGlvbnMiLCB2YWx1ZTogImFjdGlvbnMiLCBzb3J0YWJsZTogZmFsc2UgfSwKICAgICAgXSwKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXREYXRhKHBhZ2UpIHsKICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICBQcm9taXNlLmFsbChbCiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goIlBvc3RNb2R1bGUvZmluZEFsbCIsIHsgcGFnZTogcGFnZSB9KSwKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiUG9zdE1vZHVsZS9jb3VudCIpLAogICAgICBdKS50aGVuKCgpID0+IHsKICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBjaGFuZ2VEaWFsb2coaXRlbSkgewogICAgICB0aGlzLmRlbGV0ZUl0ZW0gPSBpdGVtOwogICAgICB0aGlzLmRpYWxvZyA9IHRydWU7CiAgICB9LAogICAgdXBkYXRlQ29tbWVudChpdGVtKSB7CiAgICAgIHRoaXMuJHN0b3JlCiAgICAgICAgLmRpc3BhdGNoKCJDb21tZW50TW9kdWxlL3VwZGF0ZSIsIGl0ZW0pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy4kdG9hc3Quc3VjY2VzcygiQmHFn2FyxLF5bGEgS2F5ZGVkaWxkaSIpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgdGhpcy4kdG9hc3QuZXJyb3IoYEtheWRlZGlsaXJrZW4gYmlyIGhhdGEgb2x1xZ90dSAke2Vycm9yfWApOwogICAgICAgIH0pCiAgICAgICAgLmZpbmFsbHkoKCkgPT4gewogICAgICAgICAgdGhpcy5wYWdlID0gMTsKICAgICAgICAgIHRoaXMuZ2V0RGF0YSgpOwogICAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZUl0ZW1NKCl7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJQb3N0TW9kdWxlL2RlbGV0ZSIsIHtpZDp0aGlzLmRlbGV0ZUl0ZW0uaWR9KS50aGVuKCgpPT57CiAgICAgICAgdGhpcy4kdG9hc3Quc3VjY2VzcygiQmHFn2FyxLF5bGEgU2lsaW5kaSIpOwogICAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2U7CiAgICAgICAgdGhpcy5nZXREYXRhKHRoaXMucGFnZSk7CiAgICAgIH0pLmNhdGNoKCgpPT57CiAgICAgICAgdGhpcy4kdG9hc3QuZXJyb3IoIlNpbGluaXJrZW4gYmlyIGhhdGEgb2x1xZ90dSIpCiAgICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZTsKICAgICAgICB0aGlzLmdldERhdGEodGhpcy5wYWdlKTsKICAgICAgfSkKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBkYXRhKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuUG9zdE1vZHVsZS5wb3N0czsKICAgIH0sCiAgICBjb3VudCgpIHsKICAgICAgcmV0dXJuIE1hdGguY2VpbCh0aGlzLiRzdG9yZS5zdGF0ZS5Qb3N0TW9kdWxlLmNvdW50IC8gNik7CiAgICB9LAogIH0sCgogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldERhdGEoMSk7CiAgfSwKCiAgd2F0Y2g6IHsKICAgIHBhZ2UoZSkgewogICAgICB0aGlzLmdldERhdGEoZSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Posts.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Posts.vue","sourceRoot":"src/views/AdminTemplate","sourcesContent":["<template>\n  <div>\n    <v-dialog v-model=\"dialog\" v-if=\"dialog\" width=\"300\">\n      <v-card>\n        <v-card-title style=\"background-color: grey\">\n          Emin misin?\n        </v-card-title>\n        <v-card-text> {{ deleteItem.title }} isimli post silinecek </v-card-text>\n        <v-card-actions>\n          <v-btn @click=\"deleteItemM\"> Sil </v-btn>\n          <v-btn @click=\"dialog = false\">Vazgeç</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <div v-if=\"isLoading\">\n      <v-progress-circular color=\"primary\" indeterminate></v-progress-circular>\n    </div>\n    <div v-else class=\"col-12 col-md-11 col-lg-10 mx-auto\">\n      <v-data-table\n        class=\"mx-auto elevation-1\"\n        :items=\"data\"\n        :items-per-page=\"itemsPerPage\"\n        :page.sync=\"page\"\n        :headers=\"headers\"\n        hide-default-footer\n      >\n        <template v-slot:item.veritfy_manipulated=\"{ item }\">\n          <v-menu bottom left>\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn icon v-bind=\"attrs\" v-on=\"on\">\n                <v-icon v-if=\"item.verify\" color=\"green\">mdi-check</v-icon>\n                <v-icon v-else color=\"error\">mdi-close</v-icon>\n              </v-btn>\n            </template>\n\n            <v-list>\n              <v-list-item\n                link\n                v-for=\"(verifyItem, index) in verifyItems\"\n                :key=\"index\"\n              >\n                <v-list-item-title @click=\"item.verify = index\">{{\n                  verifyItem.text\n                }}</v-list-item-title>\n              </v-list-item>\n            </v-list>\n          </v-menu>\n        </template>\n        <template v-slot:item.show_image=\"{ item }\">\n          <v-card height=\"100\" width=\"100\" elevation=\"3\">\n            <v-img :src=\"item.image\" width=\"200\" height=\"200\"></v-img>\n          </v-card>\n        </template>\n\n        <template v-slot:item.created_at_show=\"{ item }\">\n          {{ new Date(item.created_at).toLocaleString(\"tr-TR\") }}\n        </template>\n        <template v-slot:item.actions=\"{ item }\">\n          <v-btn icon @click=\"$router.push(`/iamboss46/post-edit/${item.id}`)\">\n            <v-icon small>mdi-pencil</v-icon>\n          </v-btn>\n          <v-btn icon @click=\"changeDialog(item)\">\n            <v-icon small>mdi-delete</v-icon>\n          </v-btn>\n        </template>\n        <template v-slot:no-data>\n          <v-btn color=\"primary\" @click=\"getData\"> Reset </v-btn>\n        </template>\n      </v-data-table>\n      <v-pagination v-model=\"page\" :length=\"count\"></v-pagination>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      itemsPerPage: 6,\n      deleteItem: null,\n      dialog: false,\n      page: 1,\n      pageCount: Math.ceil(this.count / 6),\n      verifyItems: [\n        { text: \"Onaylama\", value: 0 },\n        { text: \"Onayla\", value: 1 },\n      ],\n      headers: [\n        {\n          text: \"İsim\",\n          align: \"start\",\n          sortable: false,\n          value: \"title\",\n        },\n        {\n          text: \"Resim\",\n          align: \"dstart\",\n          sortable: false,\n          value: \"show_image\",\n        },\n        {\n          text: \"Kategori Id\",\n          align: \"start\",\n          sortable: false,\n          value: \"category_id\",\n        },\n        {\n          text: \"Oluşturulma Tarihi\",\n          align: \"start\",\n          sortable: false,\n          value: \"created_at_show\",\n        },\n        { text: \"Actions\", value: \"actions\", sortable: false },\n      ],\n      isLoading: false,\n    };\n  },\n  methods: {\n    getData(page) {\n      this.isLoading = true;\n      Promise.all([\n        this.$store.dispatch(\"PostModule/findAll\", { page: page }),\n        this.$store.dispatch(\"PostModule/count\"),\n      ]).then(() => {\n        this.isLoading = false;\n      });\n    },\n    changeDialog(item) {\n      this.deleteItem = item;\n      this.dialog = true;\n    },\n    updateComment(item) {\n      this.$store\n        .dispatch(\"CommentModule/update\", item)\n        .then(() => {\n          this.$toast.success(\"Başarıyla Kaydedildi\");\n        })\n        .catch((error) => {\n          this.$toast.error(`Kaydedilirken bir hata oluştu ${error}`);\n        })\n        .finally(() => {\n          this.page = 1;\n          this.getData();\n        });\n    },\n    deleteItemM(){\n      this.$store.dispatch(\"PostModule/delete\", {id:this.deleteItem.id}).then(()=>{\n        this.$toast.success(\"Başarıyla Silindi\");\n        this.dialog = false;\n        this.getData(this.page);\n      }).catch(()=>{\n        this.$toast.error(\"Silinirken bir hata oluştu\")\n        this.dialog = false;\n        this.getData(this.page);\n      })\n    }\n  },\n  computed: {\n    data() {\n      return this.$store.state.PostModule.posts;\n    },\n    count() {\n      return Math.ceil(this.$store.state.PostModule.count / 6);\n    },\n  },\n\n  created() {\n    this.getData(1);\n  },\n\n  watch: {\n    page(e) {\n      this.getData(e);\n    },\n  },\n};\n</script>\n\n<style>\n</style>"]}]}