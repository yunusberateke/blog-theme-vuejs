{"remainingRequest":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/babel-loader/lib/index.js!/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js?{}!/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-utils/src/dom/scroll.js","dependencies":[{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-utils/src/dom/scroll.js","mtime":499162500000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDIxLCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIHV0aWxzL2RvbS9zY3JvbGwKICovCmltcG9ydCBpc1JhbmdlIGZyb20gJy4vaXNyYW5nZSc7CmltcG9ydCBSZWN0IGZyb20gJy4vcmVjdCc7CmltcG9ydCBpc1RleHQgZnJvbSAnLi9pc3RleHQnOwp2YXIgdXRpbHMgPSB7fTsKLyoqCiAqIE1ha2VzIGFueSBwYWdlIGBIVE1MRWxlbWVudGAgb3IgYFJhbmdlYCAoYHRhcmdldGApIHZpc2libGUgaW5zaWRlIHRoZSBicm93c2VyIHZpZXdwb3J0LgogKiBUaGlzIGhlbHBlciB3aWxsIHNjcm9sbCBhbGwgYHRhcmdldGAgYW5jZXN0b3JzIGFuZCB0aGUgd2ViIGJyb3dzZXIgdmlld3BvcnQgdG8gcmV2ZWFsIHRoZSB0YXJnZXQgdG8KICogdGhlIHVzZXIuIElmIHRoZSBgdGFyZ2V0YCBpcyBhbHJlYWR5IHZpc2libGUsIG5vdGhpbmcgd2lsbCBoYXBwZW4uCiAqCiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8UmFuZ2V9IG9wdGlvbnMudGFyZ2V0IEEgdGFyZ2V0LCB3aGljaCBzdXBwb3NlZCB0byBiZWNvbWUgdmlzaWJsZSB0byB0aGUgdXNlci4KICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnZpZXdwb3J0T2Zmc2V0XSBBbiBvZmZzZXQgZnJvbSB0aGUgZWRnZSBvZiB0aGUgdmlld3BvcnQgKGluIHBpeGVscykKICogdGhlIGB0YXJnZXRgIHdpbGwgYmUgbW92ZWQgYnkgd2hlbiB0aGUgdmlld3BvcnQgaXMgc2Nyb2xsZWQuIEl0IGVuaGFuY2VzIHRoZSB1c2VyIGV4cGVyaWVuY2UKICogYnkga2VlcGluZyB0aGUgYHRhcmdldGAgc29tZSBkaXN0YW5jZSBmcm9tIHRoZSBlZGdlIG9mIHRoZSB2aWV3cG9ydCBhbmQgdGh1cyBtYWtpbmcgaXQgZWFzaWVyIHRvCiAqIHJlYWQgb3IgZWRpdCBieSB0aGUgdXNlci4KICovCgpleHBvcnQgZnVuY3Rpb24gc2Nyb2xsVmlld3BvcnRUb1Nob3dUYXJnZXQoX3JlZikgewogIHZhciB0YXJnZXQgPSBfcmVmLnRhcmdldCwKICAgICAgX3JlZiR2aWV3cG9ydE9mZnNldCA9IF9yZWYudmlld3BvcnRPZmZzZXQsCiAgICAgIHZpZXdwb3J0T2Zmc2V0ID0gX3JlZiR2aWV3cG9ydE9mZnNldCA9PT0gdm9pZCAwID8gMCA6IF9yZWYkdmlld3BvcnRPZmZzZXQ7CiAgdmFyIHRhcmdldFdpbmRvdyA9IGdldFdpbmRvdyh0YXJnZXQpOwogIHZhciBjdXJyZW50V2luZG93ID0gdGFyZ2V0V2luZG93OwogIHZhciBjdXJyZW50RnJhbWUgPSBudWxsOyAvLyBJdGVyYXRlIG92ZXIgYWxsIHdpbmRvd3MsIHN0YXJ0aW5nIGZyb20gdGFyZ2V0J3MgcGFyZW50IHdpbmRvdyB1cCB0byB3aW5kb3cjdG9wLgoKICB3aGlsZSAoY3VycmVudFdpbmRvdykgewogICAgdmFyIGZpcnN0QW5jZXN0b3JUb1Njcm9sbCA9IHZvaWQgMDsgLy8gTGV0J3Mgc2Nyb2xsIHRhcmdldCdzIGFuY2VzdG9ycyBmaXJzdCB0byByZXZlYWwgaXQuIFRoZW4sIG9uY2UgdGhlIGFuY2VzdG9yIHNjcm9sbHMKICAgIC8vIHNldHRsZWQgZG93biwgdGhlIGFsZ29yaXRobSBjYW4gZXZlbnR1YWxseSBzY3JvbGwgdGhlIHZpZXdwb3J0IG9mIHRoZSBjdXJyZW50IHdpbmRvdy4KICAgIC8vCiAgICAvLyBOb3RlOiBJZiB0aGUgY3VycmVudCB3aW5kb3cgaXMgdGFyZ2V0J3MgKipvcmlnaW5hbCoqIHdpbmRvdyAoZS5nLiB0aGUgZmlyc3Qgb25lKSwKICAgIC8vIHN0YXJ0IHNjcm9sbGluZyB0aGUgY2xvc2VzdCBwYXJlbnQgb2YgdGhlIHRhcmdldC4gSWYgbm90LCBzY3JvbGwgdGhlIGNsb3Nlc3QgcGFyZW50CiAgICAvLyBvZiBhbiBpZnJhbWUgdGhhdCByZXNpZGVzIGluIHRoZSBjdXJyZW50IHdpbmRvdy4KCiAgICBpZiAoY3VycmVudFdpbmRvdyA9PSB0YXJnZXRXaW5kb3cpIHsKICAgICAgZmlyc3RBbmNlc3RvclRvU2Nyb2xsID0gZ2V0UGFyZW50RWxlbWVudCh0YXJnZXQpOwogICAgfSBlbHNlIHsKICAgICAgZmlyc3RBbmNlc3RvclRvU2Nyb2xsID0gZ2V0UGFyZW50RWxlbWVudChjdXJyZW50RnJhbWUpOwogICAgfSAvLyBTY3JvbGwgdGhlIHRhcmdldCdzIGFuY2VzdG9ycyBmaXJzdC4gT25jZSBkb25lLCBzY3JvbGxpbmcgdGhlIHZpZXdwb3J0IGlzIGVhc3kuCgoKICAgIHNjcm9sbEFuY2VzdG9yc1RvU2hvd1JlY3QoZmlyc3RBbmNlc3RvclRvU2Nyb2xsLCBmdW5jdGlvbiAoKSB7CiAgICAgIC8vIE5vdGU6IElmIHRoZSB0YXJnZXQgZG9lcyBub3QgYmVsb25nIHRvIHRoZSBjdXJyZW50IHdpbmRvdyAqKmRpcmVjdGx5KiosCiAgICAgIC8vIGkuZS4gaXQgcmVzaWRlcyBpbiBhbiBpZnJhbWUgYmVsb25naW5nIHRvIHRoZSB3aW5kb3csIG9idGFpbiB0aGUgdGFyZ2V0J3MgcmVjdAogICAgICAvLyBpbiB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIGN1cnJlbnQgd2luZG93LiBCeSBkZWZhdWx0LCBhIFJlY3QgcmV0dXJucyBnZW9tZXRyeQogICAgICAvLyByZWxhdGl2ZSB0byB0aGUgY3VycmVudCB3aW5kb3cncyB2aWV3cG9ydC4gVG8gbWFrZSBpdCB3b3JrIGluIGEgcGFyZW50IHdpbmRvdywKICAgICAgLy8gaXQgbXVzdCBiZSBzaGlmdGVkLgogICAgICByZXR1cm4gZ2V0UmVjdFJlbGF0aXZlVG9XaW5kb3codGFyZ2V0LCBjdXJyZW50V2luZG93KTsKICAgIH0pOyAvLyBPYnRhaW4gdGhlIHJlY3Qgb2YgdGhlIHRhcmdldCBhZnRlciBpdCBoYXMgYmVlbiBzY3JvbGxlZCB3aXRoaW4gaXRzIGFuY2VzdG9ycy4KICAgIC8vIEl0J3MgdGltZSB0byBzY3JvbGwgdGhlIHZpZXdwb3J0LgoKICAgIHZhciB0YXJnZXRSZWN0ID0gZ2V0UmVjdFJlbGF0aXZlVG9XaW5kb3codGFyZ2V0LCBjdXJyZW50V2luZG93KTsKICAgIHNjcm9sbFdpbmRvd1RvU2hvd1JlY3QoY3VycmVudFdpbmRvdywgdGFyZ2V0UmVjdCwgdmlld3BvcnRPZmZzZXQpOwoKICAgIGlmIChjdXJyZW50V2luZG93LnBhcmVudCAhPSBjdXJyZW50V2luZG93KSB7CiAgICAgIC8vIEtlZXAgdGhlIHJlZmVyZW5jZSB0byB0aGUgPGlmcmFtZT4gZWxlbWVudCB0aGUgInByZXZpb3VzIGN1cnJlbnQgd2luZG93IiB3YXMKICAgICAgLy8gcmVuZGVyZWQgd2l0aGluLiBJdCB3aWxsIGJlIHVzZWZ1bCB0byByZeKAk2NhbGN1bGF0ZSB0aGUgcmVjdCBvZiB0aGUgdGFyZ2V0CiAgICAgIC8vIGluIHRoZSBwYXJlbnQgd2luZG93J3MgcmVsYXRpdmUgZ2VvbWV0cnkuIFRoZSB0YXJnZXQncyByZWN0IG11c3QgYmUgc2hpZnRlZAogICAgICAvLyBieSBpdCdzIGlmcmFtZSdzIHBvc2l0aW9uLgogICAgICBjdXJyZW50RnJhbWUgPSBjdXJyZW50V2luZG93LmZyYW1lRWxlbWVudDsKICAgICAgY3VycmVudFdpbmRvdyA9IGN1cnJlbnRXaW5kb3cucGFyZW50OyAvLyBJZiB0aGUgY3VycmVudCB3aW5kb3cgaGFzIHNvbWUgcGFyZW50IGJ1dCBmcmFtZUVsZW1lbnQgaXMgaW5hY2Nlc3NpYmxlLCB0aGVuIHRoZXkgaGF2ZQogICAgICAvLyBkaWZmZXJlbnQgZG9tYWlucy9wb3J0cyBhbmQsIGR1ZSB0byBzZWN1cml0eSByZWFzb25zLCBhY2Nlc3NpbmcgYW5kIHNjcm9sbGluZwogICAgICAvLyB0aGUgcGFyZW50IHdpbmRvdyB3b24ndCBiZSBwb3NzaWJsZS4KICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ja2VkaXRvci9ja2VkaXRvcjUvaXNzdWVzLzkzMC4KCiAgICAgIGlmICghY3VycmVudEZyYW1lKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBjdXJyZW50V2luZG93ID0gbnVsbDsKICAgIH0KICB9Cn0KLyoqCiAqIE1ha2VzIGFueSBwYWdlIGBIVE1MRWxlbWVudGAgb3IgYFJhbmdlYCAodGFyZ2V0KSB2aXNpYmxlIHdpdGhpbiBpdHMgc2Nyb2xsYWJsZSBhbmNlc3RvcnMsCiAqIGUuZy4gaWYgdGhleSBoYXZlIGBvdmVyZmxvdzogc2Nyb2xsYCBDU1Mgc3R5bGUuCiAqCiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8UmFuZ2V9IHRhcmdldCBBIHRhcmdldCwgd2hpY2ggc3VwcG9zZWQgdG8gYmVjb21lIHZpc2libGUgdG8gdGhlIHVzZXIuCiAqLwoKZXhwb3J0IGZ1bmN0aW9uIHNjcm9sbEFuY2VzdG9yc1RvU2hvd1RhcmdldCh0YXJnZXQpIHsKICB2YXIgdGFyZ2V0UGFyZW50ID0gZ2V0UGFyZW50RWxlbWVudCh0YXJnZXQpOwogIHNjcm9sbEFuY2VzdG9yc1RvU2hvd1JlY3QodGFyZ2V0UGFyZW50LCBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gbmV3IFJlY3QodGFyZ2V0KTsKICB9KTsKfSAvLyBUT0RPOiBVc2luZyBhIHByb3BlcnR5IHZhbHVlIHNob3J0aGFuZCBpbiB0aGUgdG9wIG9mIHRoZSBmaWxlCi8vIGNhdXNlcyBKU0RvYyB0byB0aHJvdyBlcnJvcnMuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vY2tzb3VyY2UvZG9jcy1idWlsZGVyL2lzc3Vlcy83NS4KCk9iamVjdC5hc3NpZ24odXRpbHMsIHsKICBzY3JvbGxWaWV3cG9ydFRvU2hvd1RhcmdldDogc2Nyb2xsVmlld3BvcnRUb1Nob3dUYXJnZXQsCiAgc2Nyb2xsQW5jZXN0b3JzVG9TaG93VGFyZ2V0OiBzY3JvbGxBbmNlc3RvcnNUb1Nob3dUYXJnZXQKfSk7IC8vIE1ha2VzIGEgZ2l2ZW4gcmVjdCB2aXNpYmxlIHdpdGhpbiBpdHMgcGFyZW50IHdpbmRvdy4KLy8KLy8gTm90ZTogQXZvaWQgdGhlIHNpdHVhdGlvbiB3aGVyZSB0aGUgY2FyZXQgaXMgc3RpbGwgaW4gdGhlIHZpZXdwb3J0LCBidXQgdG90YWxseQovLyBhdCB0aGUgZWRnZSBvZiBpdC4gSW4gc3VjaCBzaXR1YXRpb24sIGlmIGl0IG1vdmVkIGJleW9uZCB0aGUgdmlld3BvcnQgaW4gdGhlIG5leHQKLy8gYWN0aW9uIGUuZy4gYWZ0ZXIgcGFzdGUsIHRoZSBzY3JvbGxpbmcgd291bGQgbW92ZSBpdCB0byB0aGUgdmlld3BvcnRPZmZzZXQgbGV2ZWwKLy8gYW5kIGl0IGFsbCB3b3VsZCBsb29rIGxpa2UgdGhlIGNhcmV0IHZpc3VhbGx5IG1vdmVkIHVwL2Rvd246Ci8vCi8vIDEuCi8vCQl8IGZvb1tdCi8vCQl8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC0tLSBOIHB4IG9mIHNwYWNlIGJlbG93IHRoZSBjYXJldAovLwkJKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS4uLgovLwovLyAyLiAqcGFzdGUqCi8vIDMuCi8vCQl8Ci8vCQl8Ci8vCQkrLWZvby0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLi4uCi8vCQkgIGJhcltdICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC0tLSBjYXJldCBiZWxvdyB2aWV3cG9ydCwgc2Nyb2xsaW5nLi4uCi8vCi8vIDQuICpzY3JvbGxpbmcqCi8vIDUuCi8vCQl8Ci8vCQl8IGZvbwovLwkJfCBiYXJbXSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwtLS0gY2FyZXQgcHJlY2lzZWx5IGF0IHRoZSBlZGdlCi8vCQkrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLi4uCi8vCi8vIFRvIHByZXZlbnQgdGhpcywgdGhpcyBtZXRob2QgY2hlY2tzIHRoZSByZWN0cyBtb3ZlZCBieSB0aGUgdmlld3BvcnRPZmZzZXQgdG8gY292ZXIKLy8gdGhlIHVwcGVyL2xvd2VyIGVkZ2Ugb2YgdGhlIHZpZXdwb3J0LiBJdCBtYWtlcyBzdXJlIGlmIHRoZSBhY3Rpb24gcmVwZWF0cywgdGhlcmUncwovLyBubyB0d2l0Y2hpbmcg4oCTIGl0J3MgYSBwdXJlbHkgdmlzdWFsIGltcHJvdmVtZW50OgovLwovLyA1LiAoYWZ0ZXIgZml4KQovLwkJfAovLwkJfCBmb28KLy8JCXwgYmFyW10KLy8JCXwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8LS0tIE4gcHggb2Ygc3BhY2UgYmVsb3cgdGhlIGNhcmV0Ci8vCQkrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLi4uCi8vCi8vIEBwcml2YXRlCi8vIEBwYXJhbSB7V2luZG93fSB3aW5kb3cgQSB3aW5kb3cgd2hpY2ggaXMgc2Nyb2xsZWQgdG8gcmV2ZWFsIHRoZSByZWN0LgovLyBAcGFyYW0ge21vZHVsZTp1dGlscy9kb20vcmVjdH5SZWN0fSByZWN0IEEgcmVjdCB3aGljaCBpcyB0byBiZSByZXZlYWxlZC4KLy8gQHBhcmFtIHtOdW1iZXJ9IHZpZXdwb3J0T2Zmc2V0IFNlZSBzY3JvbGxWaWV3cG9ydFRvU2hvd1RhcmdldC4KCmZ1bmN0aW9uIHNjcm9sbFdpbmRvd1RvU2hvd1JlY3Qod2luZG93LCByZWN0LCB2aWV3cG9ydE9mZnNldCkgewogIHZhciB0YXJnZXRTaGlmdGVkRG93blJlY3QgPSByZWN0LmNsb25lKCkubW92ZUJ5KDAsIHZpZXdwb3J0T2Zmc2V0KTsKICB2YXIgdGFyZ2V0U2hpZnRlZFVwUmVjdCA9IHJlY3QuY2xvbmUoKS5tb3ZlQnkoMCwgLXZpZXdwb3J0T2Zmc2V0KTsKICB2YXIgdmlld3BvcnRSZWN0ID0gbmV3IFJlY3Qod2luZG93KS5leGNsdWRlU2Nyb2xsYmFyc0FuZEJvcmRlcnMoKTsKICB2YXIgcmVjdHMgPSBbdGFyZ2V0U2hpZnRlZFVwUmVjdCwgdGFyZ2V0U2hpZnRlZERvd25SZWN0XTsKCiAgaWYgKCFyZWN0cy5ldmVyeShmdW5jdGlvbiAocmVjdCkgewogICAgcmV0dXJuIHZpZXdwb3J0UmVjdC5jb250YWlucyhyZWN0KTsKICB9KSkgewogICAgdmFyIHNjcm9sbFggPSB3aW5kb3cuc2Nyb2xsWCwKICAgICAgICBzY3JvbGxZID0gd2luZG93LnNjcm9sbFk7CgogICAgaWYgKGlzQWJvdmUodGFyZ2V0U2hpZnRlZFVwUmVjdCwgdmlld3BvcnRSZWN0KSkgewogICAgICBzY3JvbGxZIC09IHZpZXdwb3J0UmVjdC50b3AgLSByZWN0LnRvcCArIHZpZXdwb3J0T2Zmc2V0OwogICAgfSBlbHNlIGlmIChpc0JlbG93KHRhcmdldFNoaWZ0ZWREb3duUmVjdCwgdmlld3BvcnRSZWN0KSkgewogICAgICBzY3JvbGxZICs9IHJlY3QuYm90dG9tIC0gdmlld3BvcnRSZWN0LmJvdHRvbSArIHZpZXdwb3J0T2Zmc2V0OwogICAgfSAvLyBUT0RPOiBXZWIgYnJvd3NlcnMgc2Nyb2xsIG5hdGl2ZWx5IHRvIHBsYWNlIHRoZSB0YXJnZXQgaW4gdGhlIG1pZGRsZQogICAgLy8gb2YgdGhlIHZpZXdwb3J0LiBJdCdzIG5vdCBhIHZlcnkgcG9wdWxhciBjYXNlLCB0aG91Z2guCgoKICAgIGlmIChpc0xlZnRPZihyZWN0LCB2aWV3cG9ydFJlY3QpKSB7CiAgICAgIHNjcm9sbFggLT0gdmlld3BvcnRSZWN0LmxlZnQgLSByZWN0LmxlZnQgKyB2aWV3cG9ydE9mZnNldDsKICAgIH0gZWxzZSBpZiAoaXNSaWdodE9mKHJlY3QsIHZpZXdwb3J0UmVjdCkpIHsKICAgICAgc2Nyb2xsWCArPSByZWN0LnJpZ2h0IC0gdmlld3BvcnRSZWN0LnJpZ2h0ICsgdmlld3BvcnRPZmZzZXQ7CiAgICB9CgogICAgd2luZG93LnNjcm9sbFRvKHNjcm9sbFgsIHNjcm9sbFkpOwogIH0KfSAvLyBSZWN1cnNpdmVseSBzY3JvbGxzIGVsZW1lbnQgYW5jZXN0b3JzIHRvIHZpc3VhbGx5IHJldmVhbCBhIHJlY3QuCi8vCi8vIEBwcml2YXRlCi8vIEBwYXJhbSB7SFRNTEVsZW1lbnR9IEEgcGFyZW50IFRoZSBmaXJzdCBhbmNlc3RvcnMgdG8gc3RhcnQgc2Nyb2xsaW5nLgovLyBAcGFyYW0ge0Z1bmN0aW9ufSBnZXRSZWN0IEEgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyB0aGUgUmVjdCwgd2hpY2ggaXMgdG8gYmUgcmV2ZWFsZWQuCgoKZnVuY3Rpb24gc2Nyb2xsQW5jZXN0b3JzVG9TaG93UmVjdChwYXJlbnQsIGdldFJlY3QpIHsKICB2YXIgcGFyZW50V2luZG93ID0gZ2V0V2luZG93KHBhcmVudCk7CiAgdmFyIHBhcmVudFJlY3QsIHRhcmdldFJlY3Q7CgogIHdoaWxlIChwYXJlbnQgIT0gcGFyZW50V2luZG93LmRvY3VtZW50LmJvZHkpIHsKICAgIHRhcmdldFJlY3QgPSBnZXRSZWN0KCk7CiAgICBwYXJlbnRSZWN0ID0gbmV3IFJlY3QocGFyZW50KS5leGNsdWRlU2Nyb2xsYmFyc0FuZEJvcmRlcnMoKTsKCiAgICBpZiAoIXBhcmVudFJlY3QuY29udGFpbnModGFyZ2V0UmVjdCkpIHsKICAgICAgaWYgKGlzQWJvdmUodGFyZ2V0UmVjdCwgcGFyZW50UmVjdCkpIHsKICAgICAgICBwYXJlbnQuc2Nyb2xsVG9wIC09IHBhcmVudFJlY3QudG9wIC0gdGFyZ2V0UmVjdC50b3A7CiAgICAgIH0gZWxzZSBpZiAoaXNCZWxvdyh0YXJnZXRSZWN0LCBwYXJlbnRSZWN0KSkgewogICAgICAgIHBhcmVudC5zY3JvbGxUb3AgKz0gdGFyZ2V0UmVjdC5ib3R0b20gLSBwYXJlbnRSZWN0LmJvdHRvbTsKICAgICAgfQoKICAgICAgaWYgKGlzTGVmdE9mKHRhcmdldFJlY3QsIHBhcmVudFJlY3QpKSB7CiAgICAgICAgcGFyZW50LnNjcm9sbExlZnQgLT0gcGFyZW50UmVjdC5sZWZ0IC0gdGFyZ2V0UmVjdC5sZWZ0OwogICAgICB9IGVsc2UgaWYgKGlzUmlnaHRPZih0YXJnZXRSZWN0LCBwYXJlbnRSZWN0KSkgewogICAgICAgIHBhcmVudC5zY3JvbGxMZWZ0ICs9IHRhcmdldFJlY3QucmlnaHQgLSBwYXJlbnRSZWN0LnJpZ2h0OwogICAgICB9CiAgICB9CgogICAgcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGU7CiAgfQp9IC8vIERldGVybWluZXMgaWYgYSBnaXZlbiBgUmVjdGAgZXh0ZW5kcyBiZXlvbmQgdGhlIGJvdHRvbSBlZGdlIG9mIHRoZSBzZWNvbmQgYFJlY3RgLgovLwovLyBAcHJpdmF0ZQovLyBAcGFyYW0ge21vZHVsZTp1dGlscy9kb20vcmVjdH5SZWN0fSBmaXJzdFJlY3QKLy8gQHBhcmFtIHttb2R1bGU6dXRpbHMvZG9tL3JlY3R+UmVjdH0gc2Vjb25kUmVjdAoKCmZ1bmN0aW9uIGlzQmVsb3coZmlyc3RSZWN0LCBzZWNvbmRSZWN0KSB7CiAgcmV0dXJuIGZpcnN0UmVjdC5ib3R0b20gPiBzZWNvbmRSZWN0LmJvdHRvbTsKfSAvLyBEZXRlcm1pbmVzIGlmIGEgZ2l2ZW4gYFJlY3RgIGV4dGVuZHMgYmV5b25kIHRoZSB0b3AgZWRnZSBvZiB0aGUgc2Vjb25kIGBSZWN0YC4KLy8KLy8gQHByaXZhdGUKLy8gQHBhcmFtIHttb2R1bGU6dXRpbHMvZG9tL3JlY3R+UmVjdH0gZmlyc3RSZWN0Ci8vIEBwYXJhbSB7bW9kdWxlOnV0aWxzL2RvbS9yZWN0flJlY3R9IHNlY29uZFJlY3QKCgpmdW5jdGlvbiBpc0Fib3ZlKGZpcnN0UmVjdCwgc2Vjb25kUmVjdCkgewogIHJldHVybiBmaXJzdFJlY3QudG9wIDwgc2Vjb25kUmVjdC50b3A7Cn0gLy8gRGV0ZXJtaW5lcyBpZiBhIGdpdmVuIGBSZWN0YCBleHRlbmRzIGJleW9uZCB0aGUgbGVmdCBlZGdlIG9mIHRoZSBzZWNvbmQgYFJlY3RgLgovLwovLyBAcHJpdmF0ZQovLyBAcGFyYW0ge21vZHVsZTp1dGlscy9kb20vcmVjdH5SZWN0fSBmaXJzdFJlY3QKLy8gQHBhcmFtIHttb2R1bGU6dXRpbHMvZG9tL3JlY3R+UmVjdH0gc2Vjb25kUmVjdAoKCmZ1bmN0aW9uIGlzTGVmdE9mKGZpcnN0UmVjdCwgc2Vjb25kUmVjdCkgewogIHJldHVybiBmaXJzdFJlY3QubGVmdCA8IHNlY29uZFJlY3QubGVmdDsKfSAvLyBEZXRlcm1pbmVzIGlmIGEgZ2l2ZW4gYFJlY3RgIGV4dGVuZHMgYmV5b25kIHRoZSByaWdodCBlZGdlIG9mIHRoZSBzZWNvbmQgYFJlY3RgLgovLwovLyBAcHJpdmF0ZQovLyBAcGFyYW0ge21vZHVsZTp1dGlscy9kb20vcmVjdH5SZWN0fSBmaXJzdFJlY3QKLy8gQHBhcmFtIHttb2R1bGU6dXRpbHMvZG9tL3JlY3R+UmVjdH0gc2Vjb25kUmVjdAoKCmZ1bmN0aW9uIGlzUmlnaHRPZihmaXJzdFJlY3QsIHNlY29uZFJlY3QpIHsKICByZXR1cm4gZmlyc3RSZWN0LnJpZ2h0ID4gc2Vjb25kUmVjdC5yaWdodDsKfSAvLyBSZXR1cm5zIHRoZSBjbG9zZXN0IHdpbmRvdyBvZiBhbiBlbGVtZW50IG9yIHJhbmdlLgovLwovLyBAcHJpdmF0ZQovLyBAcGFyYW0ge0hUTUxFbGVtZW50fFJhbmdlfSBmaXJzdFJlY3QKLy8gQHJldHVybnMge1dpbmRvd30KCgpmdW5jdGlvbiBnZXRXaW5kb3coZWxlbWVudE9yUmFuZ2UpIHsKICBpZiAoaXNSYW5nZShlbGVtZW50T3JSYW5nZSkpIHsKICAgIHJldHVybiBlbGVtZW50T3JSYW5nZS5zdGFydENvbnRhaW5lci5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3OwogIH0gZWxzZSB7CiAgICByZXR1cm4gZWxlbWVudE9yUmFuZ2Uub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldzsKICB9Cn0gLy8gUmV0dXJucyB0aGUgY2xvc2VzdCBwYXJlbnQgb2YgYW4gZWxlbWVudCBvciBET00gcmFuZ2UuCi8vCi8vIEBwcml2YXRlCi8vIEBwYXJhbSB7SFRNTEVsZW1lbnR8UmFuZ2V9IGZpcnN0UmVjdAovLyBAcmV0dXJucyB7SFRNTGVsZW1lbnR9CgoKZnVuY3Rpb24gZ2V0UGFyZW50RWxlbWVudChlbGVtZW50T3JSYW5nZSkgewogIGlmIChpc1JhbmdlKGVsZW1lbnRPclJhbmdlKSkgewogICAgdmFyIHBhcmVudCA9IGVsZW1lbnRPclJhbmdlLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyOyAvLyBJZiBhIFJhbmdlIGlzIGF0dGFjaGVkIHRvIHRoZSBUZXh0LCB1c2UgdGhlIGNsb3Nlc3QgZWxlbWVudCBhbmNlc3Rvci4KCiAgICBpZiAoaXNUZXh0KHBhcmVudCkpIHsKICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGU7CiAgICB9CgogICAgcmV0dXJuIHBhcmVudDsKICB9IGVsc2UgewogICAgcmV0dXJuIGVsZW1lbnRPclJhbmdlLnBhcmVudE5vZGU7CiAgfQp9IC8vIFJldHVybnMgdGhlIHJlY3Qgb2YgYW4gZWxlbWVudCBvciByYW5nZSByZXNpZGluZyBpbiBhbiBpZnJhbWUuCi8vIFRoZSByZXN1bHQgcmVjdCBpcyByZWxhdGl2ZSB0byB0aGUgZ2VvbWV0cnkgb2YgdGhlIHBhc3NlZCB3aW5kb3cgaW5zdGFuY2UuCi8vCi8vIEBwcml2YXRlCi8vIEBwYXJhbSB7SFRNTEVsZW1lbnR8UmFuZ2V9IHRhcmdldCBFbGVtZW50IG9yIHJhbmdlIHdoaWNoIHJlY3Qgc2hvdWxkIGJlIHJldHVybmVkLgovLyBAcGFyYW0ge1dpbmRvd30gcmVsYXRpdmVXaW5kb3cgQSB3aW5kb3cgdGhlIHJlY3Qgc2hvdWxkIGJlIHJlbGF0aXZlIHRvLgovLyBAcmV0dXJucyB7bW9kdWxlOnV0aWxzL2RvbS9yZWN0flJlY3R9CgoKZnVuY3Rpb24gZ2V0UmVjdFJlbGF0aXZlVG9XaW5kb3codGFyZ2V0LCByZWxhdGl2ZVdpbmRvdykgewogIHZhciB0YXJnZXRXaW5kb3cgPSBnZXRXaW5kb3codGFyZ2V0KTsKICB2YXIgcmVjdCA9IG5ldyBSZWN0KHRhcmdldCk7CgogIGlmICh0YXJnZXRXaW5kb3cgPT09IHJlbGF0aXZlV2luZG93KSB7CiAgICByZXR1cm4gcmVjdDsKICB9IGVsc2UgewogICAgdmFyIGN1cnJlbnRXaW5kb3cgPSB0YXJnZXRXaW5kb3c7CgogICAgd2hpbGUgKGN1cnJlbnRXaW5kb3cgIT0gcmVsYXRpdmVXaW5kb3cpIHsKICAgICAgdmFyIGZyYW1lID0gY3VycmVudFdpbmRvdy5mcmFtZUVsZW1lbnQ7CiAgICAgIHZhciBmcmFtZVJlY3QgPSBuZXcgUmVjdChmcmFtZSkuZXhjbHVkZVNjcm9sbGJhcnNBbmRCb3JkZXJzKCk7CiAgICAgIHJlY3QubW92ZUJ5KGZyYW1lUmVjdC5sZWZ0LCBmcmFtZVJlY3QudG9wKTsKICAgICAgY3VycmVudFdpbmRvdyA9IGN1cnJlbnRXaW5kb3cucGFyZW50OwogICAgfQogIH0KCiAgcmV0dXJuIHJlY3Q7Cn0="},{"version":3,"sources":["/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-utils/src/dom/scroll.js"],"names":["isRange","Rect","isText","utils","scrollViewportToShowTarget","target","viewportOffset","targetWindow","getWindow","currentWindow","currentFrame","firstAncestorToScroll","getParentElement","scrollAncestorsToShowRect","getRectRelativeToWindow","targetRect","scrollWindowToShowRect","parent","frameElement","scrollAncestorsToShowTarget","targetParent","Object","assign","window","rect","targetShiftedDownRect","clone","moveBy","targetShiftedUpRect","viewportRect","excludeScrollbarsAndBorders","rects","every","contains","scrollX","scrollY","isAbove","top","isBelow","bottom","isLeftOf","left","isRightOf","right","scrollTo","getRect","parentWindow","parentRect","document","body","scrollTop","scrollLeft","parentNode","firstRect","secondRect","elementOrRange","startContainer","ownerDocument","defaultView","commonAncestorContainer","relativeWindow","frame","frameRect"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module utils/dom/scroll\n */\n\nimport isRange from './isrange';\nimport Rect from './rect';\nimport isText from './istext';\n\nconst utils = {};\n\n/**\n * Makes any page `HTMLElement` or `Range` (`target`) visible inside the browser viewport.\n * This helper will scroll all `target` ancestors and the web browser viewport to reveal the target to\n * the user. If the `target` is already visible, nothing will happen.\n *\n * @param {HTMLElement|Range} options.target A target, which supposed to become visible to the user.\n * @param {Number} [options.viewportOffset] An offset from the edge of the viewport (in pixels)\n * the `target` will be moved by when the viewport is scrolled. It enhances the user experience\n * by keeping the `target` some distance from the edge of the viewport and thus making it easier to\n * read or edit by the user.\n */\nexport function scrollViewportToShowTarget( { target, viewportOffset = 0 } ) {\n\tconst targetWindow = getWindow( target );\n\tlet currentWindow = targetWindow;\n\tlet currentFrame = null;\n\n\t// Iterate over all windows, starting from target's parent window up to window#top.\n\twhile ( currentWindow ) {\n\t\tlet firstAncestorToScroll;\n\n\t\t// Let's scroll target's ancestors first to reveal it. Then, once the ancestor scrolls\n\t\t// settled down, the algorithm can eventually scroll the viewport of the current window.\n\t\t//\n\t\t// Note: If the current window is target's **original** window (e.g. the first one),\n\t\t// start scrolling the closest parent of the target. If not, scroll the closest parent\n\t\t// of an iframe that resides in the current window.\n\t\tif ( currentWindow == targetWindow ) {\n\t\t\tfirstAncestorToScroll = getParentElement( target );\n\t\t} else {\n\t\t\tfirstAncestorToScroll = getParentElement( currentFrame );\n\t\t}\n\n\t\t// Scroll the target's ancestors first. Once done, scrolling the viewport is easy.\n\t\tscrollAncestorsToShowRect( firstAncestorToScroll, () => {\n\t\t\t// Note: If the target does not belong to the current window **directly**,\n\t\t\t// i.e. it resides in an iframe belonging to the window, obtain the target's rect\n\t\t\t// in the coordinates of the current window. By default, a Rect returns geometry\n\t\t\t// relative to the current window's viewport. To make it work in a parent window,\n\t\t\t// it must be shifted.\n\t\t\treturn getRectRelativeToWindow( target, currentWindow );\n\t\t} );\n\n\t\t// Obtain the rect of the target after it has been scrolled within its ancestors.\n\t\t// It's time to scroll the viewport.\n\t\tconst targetRect = getRectRelativeToWindow( target, currentWindow );\n\n\t\tscrollWindowToShowRect( currentWindow, targetRect, viewportOffset );\n\n\t\tif ( currentWindow.parent != currentWindow ) {\n\t\t\t// Keep the reference to the <iframe> element the \"previous current window\" was\n\t\t\t// rendered within. It will be useful to re–calculate the rect of the target\n\t\t\t// in the parent window's relative geometry. The target's rect must be shifted\n\t\t\t// by it's iframe's position.\n\t\t\tcurrentFrame = currentWindow.frameElement;\n\t\t\tcurrentWindow = currentWindow.parent;\n\n\t\t\t// If the current window has some parent but frameElement is inaccessible, then they have\n\t\t\t// different domains/ports and, due to security reasons, accessing and scrolling\n\t\t\t// the parent window won't be possible.\n\t\t\t// See https://github.com/ckeditor/ckeditor5/issues/930.\n\t\t\tif ( !currentFrame ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else {\n\t\t\tcurrentWindow = null;\n\t\t}\n\t}\n}\n\n/**\n * Makes any page `HTMLElement` or `Range` (target) visible within its scrollable ancestors,\n * e.g. if they have `overflow: scroll` CSS style.\n *\n * @param {HTMLElement|Range} target A target, which supposed to become visible to the user.\n */\nexport function scrollAncestorsToShowTarget( target ) {\n\tconst targetParent = getParentElement( target );\n\n\tscrollAncestorsToShowRect( targetParent, () => {\n\t\treturn new Rect( target );\n\t} );\n}\n\n// TODO: Using a property value shorthand in the top of the file\n// causes JSDoc to throw errors. See https://github.com/cksource/docs-builder/issues/75.\nObject.assign( utils, {\n\tscrollViewportToShowTarget,\n\tscrollAncestorsToShowTarget\n} );\n\n// Makes a given rect visible within its parent window.\n//\n// Note: Avoid the situation where the caret is still in the viewport, but totally\n// at the edge of it. In such situation, if it moved beyond the viewport in the next\n// action e.g. after paste, the scrolling would move it to the viewportOffset level\n// and it all would look like the caret visually moved up/down:\n//\n// 1.\n//\t\t| foo[]\n//\t\t|                                    <--- N px of space below the caret\n//\t\t+---------------------------------...\n//\n// 2. *paste*\n// 3.\n//\t\t|\n//\t\t|\n//\t\t+-foo-----------------------------...\n//\t\t  bar[]                              <--- caret below viewport, scrolling...\n//\n// 4. *scrolling*\n// 5.\n//\t\t|\n//\t\t| foo\n//\t\t| bar[]                              <--- caret precisely at the edge\n//\t\t+---------------------------------...\n//\n// To prevent this, this method checks the rects moved by the viewportOffset to cover\n// the upper/lower edge of the viewport. It makes sure if the action repeats, there's\n// no twitching – it's a purely visual improvement:\n//\n// 5. (after fix)\n//\t\t|\n//\t\t| foo\n//\t\t| bar[]\n//\t\t|                                    <--- N px of space below the caret\n//\t\t+---------------------------------...\n//\n// @private\n// @param {Window} window A window which is scrolled to reveal the rect.\n// @param {module:utils/dom/rect~Rect} rect A rect which is to be revealed.\n// @param {Number} viewportOffset See scrollViewportToShowTarget.\nfunction scrollWindowToShowRect( window, rect, viewportOffset ) {\n\tconst targetShiftedDownRect = rect.clone().moveBy( 0, viewportOffset );\n\tconst targetShiftedUpRect = rect.clone().moveBy( 0, -viewportOffset );\n\tconst viewportRect = new Rect( window ).excludeScrollbarsAndBorders();\n\n\tconst rects = [ targetShiftedUpRect, targetShiftedDownRect ];\n\n\tif ( !rects.every( rect => viewportRect.contains( rect ) ) ) {\n\t\tlet { scrollX, scrollY } = window;\n\n\t\tif ( isAbove( targetShiftedUpRect, viewportRect ) ) {\n\t\t\tscrollY -= viewportRect.top - rect.top + viewportOffset;\n\t\t} else if ( isBelow( targetShiftedDownRect, viewportRect ) ) {\n\t\t\tscrollY += rect.bottom - viewportRect.bottom + viewportOffset;\n\t\t}\n\n\t\t// TODO: Web browsers scroll natively to place the target in the middle\n\t\t// of the viewport. It's not a very popular case, though.\n\t\tif ( isLeftOf( rect, viewportRect ) ) {\n\t\t\tscrollX -= viewportRect.left - rect.left + viewportOffset;\n\t\t} else if ( isRightOf( rect, viewportRect ) ) {\n\t\t\tscrollX += rect.right - viewportRect.right + viewportOffset;\n\t\t}\n\n\t\twindow.scrollTo( scrollX, scrollY );\n\t}\n}\n\n// Recursively scrolls element ancestors to visually reveal a rect.\n//\n// @private\n// @param {HTMLElement} A parent The first ancestors to start scrolling.\n// @param {Function} getRect A function which returns the Rect, which is to be revealed.\nfunction scrollAncestorsToShowRect( parent, getRect ) {\n\tconst parentWindow = getWindow( parent );\n\tlet parentRect, targetRect;\n\n\twhile ( parent != parentWindow.document.body ) {\n\t\ttargetRect = getRect();\n\t\tparentRect = new Rect( parent ).excludeScrollbarsAndBorders();\n\n\t\tif ( !parentRect.contains( targetRect ) ) {\n\t\t\tif ( isAbove( targetRect, parentRect ) ) {\n\t\t\t\tparent.scrollTop -= parentRect.top - targetRect.top;\n\t\t\t} else if ( isBelow( targetRect, parentRect ) ) {\n\t\t\t\tparent.scrollTop += targetRect.bottom - parentRect.bottom;\n\t\t\t}\n\n\t\t\tif ( isLeftOf( targetRect, parentRect ) ) {\n\t\t\t\tparent.scrollLeft -= parentRect.left - targetRect.left;\n\t\t\t} else if ( isRightOf( targetRect, parentRect ) ) {\n\t\t\t\tparent.scrollLeft += targetRect.right - parentRect.right;\n\t\t\t}\n\t\t}\n\n\t\tparent = parent.parentNode;\n\t}\n}\n\n// Determines if a given `Rect` extends beyond the bottom edge of the second `Rect`.\n//\n// @private\n// @param {module:utils/dom/rect~Rect} firstRect\n// @param {module:utils/dom/rect~Rect} secondRect\nfunction isBelow( firstRect, secondRect ) {\n\treturn firstRect.bottom > secondRect.bottom;\n}\n\n// Determines if a given `Rect` extends beyond the top edge of the second `Rect`.\n//\n// @private\n// @param {module:utils/dom/rect~Rect} firstRect\n// @param {module:utils/dom/rect~Rect} secondRect\nfunction isAbove( firstRect, secondRect ) {\n\treturn firstRect.top < secondRect.top;\n}\n\n// Determines if a given `Rect` extends beyond the left edge of the second `Rect`.\n//\n// @private\n// @param {module:utils/dom/rect~Rect} firstRect\n// @param {module:utils/dom/rect~Rect} secondRect\nfunction isLeftOf( firstRect, secondRect ) {\n\treturn firstRect.left < secondRect.left;\n}\n\n// Determines if a given `Rect` extends beyond the right edge of the second `Rect`.\n//\n// @private\n// @param {module:utils/dom/rect~Rect} firstRect\n// @param {module:utils/dom/rect~Rect} secondRect\nfunction isRightOf( firstRect, secondRect ) {\n\treturn firstRect.right > secondRect.right;\n}\n\n// Returns the closest window of an element or range.\n//\n// @private\n// @param {HTMLElement|Range} firstRect\n// @returns {Window}\nfunction getWindow( elementOrRange ) {\n\tif ( isRange( elementOrRange ) ) {\n\t\treturn elementOrRange.startContainer.ownerDocument.defaultView;\n\t} else {\n\t\treturn elementOrRange.ownerDocument.defaultView;\n\t}\n}\n\n// Returns the closest parent of an element or DOM range.\n//\n// @private\n// @param {HTMLElement|Range} firstRect\n// @returns {HTMLelement}\nfunction getParentElement( elementOrRange ) {\n\tif ( isRange( elementOrRange ) ) {\n\t\tlet parent = elementOrRange.commonAncestorContainer;\n\n\t\t// If a Range is attached to the Text, use the closest element ancestor.\n\t\tif ( isText( parent ) ) {\n\t\t\tparent = parent.parentNode;\n\t\t}\n\n\t\treturn parent;\n\t} else {\n\t\treturn elementOrRange.parentNode;\n\t}\n}\n\n// Returns the rect of an element or range residing in an iframe.\n// The result rect is relative to the geometry of the passed window instance.\n//\n// @private\n// @param {HTMLElement|Range} target Element or range which rect should be returned.\n// @param {Window} relativeWindow A window the rect should be relative to.\n// @returns {module:utils/dom/rect~Rect}\nfunction getRectRelativeToWindow( target, relativeWindow ) {\n\tconst targetWindow = getWindow( target );\n\tconst rect = new Rect( target );\n\n\tif ( targetWindow === relativeWindow ) {\n\t\treturn rect;\n\t} else {\n\t\tlet currentWindow = targetWindow;\n\n\t\twhile ( currentWindow != relativeWindow ) {\n\t\t\tconst frame = currentWindow.frameElement;\n\t\t\tconst frameRect = new Rect( frame ).excludeScrollbarsAndBorders();\n\n\t\t\trect.moveBy( frameRect.left, frameRect.top );\n\n\t\t\tcurrentWindow = currentWindow.parent;\n\t\t}\n\t}\n\n\treturn rect;\n}\n"]}]}