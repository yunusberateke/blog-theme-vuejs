{"remainingRequest":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/babel-loader/lib/index.js!/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js?{}!/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-clipboard/src/pasteplaintext.js","dependencies":[{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-clipboard/src/pasteplaintext.js","mtime":499162500000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9ob21lL2VrZWJlcmF0L1lhbmRleC5EaXNrL1Byb2plbGVyaW0vQmVuaW1Qcm9qZWxlcmltL3dlYnNpdGVtL3dlYnNpdGVtLXdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiL2hvbWUvZWtlYmVyYXQvWWFuZGV4LkRpc2svUHJvamVsZXJpbS9CZW5pbVByb2plbGVyaW0vd2Vic2l0ZW0vd2Vic2l0ZW0td2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tICIvaG9tZS9la2ViZXJhdC9ZYW5kZXguRGlzay9Qcm9qZWxlcmltL0JlbmltUHJvamVsZXJpbS93ZWJzaXRlbS93ZWJzaXRlbS13ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9ob21lL2VrZWJlcmF0L1lhbmRleC5EaXNrL1Byb2plbGVyaW0vQmVuaW1Qcm9qZWxlcmltL3dlYnNpdGVtL3dlYnNpdGVtLXdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9ob21lL2VrZWJlcmF0L1lhbmRleC5EaXNrL1Byb2plbGVyaW0vQmVuaW1Qcm9qZWxlcmltL3dlYnNpdGVtL3dlYnNpdGVtLXdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9ob21lL2VrZWJlcmF0L1lhbmRleC5EaXNrL1Byb2plbGVyaW0vQmVuaW1Qcm9qZWxlcmltL3dlYnNpdGVtL3dlYnNpdGVtLXdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9ob21lL2VrZWJlcmF0L1lhbmRleC5EaXNrL1Byb2plbGVyaW0vQmVuaW1Qcm9qZWxlcmltL3dlYnNpdGVtL3dlYnNpdGVtLXdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKCi8qKgogKiBAbGljZW5zZSBDb3B5cmlnaHQgKGMpIDIwMDMtMjAyMSwgQ0tTb3VyY2UgLSBGcmVkZXJpY28gS25hYmJlbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KICogRm9yIGxpY2Vuc2luZywgc2VlIExJQ0VOU0UubWQgb3IgaHR0cHM6Ly9ja2VkaXRvci5jb20vbGVnYWwvY2tlZGl0b3Itb3NzLWxpY2Vuc2UKICovCgovKioKICogQG1vZHVsZSBjbGlwYm9hcmQvcGFzdGVwbGFpbnRleHQKICovCmltcG9ydCBQbHVnaW4gZnJvbSAnQGNrZWRpdG9yL2NrZWRpdG9yNS1jb3JlL3NyYy9wbHVnaW4nOwppbXBvcnQgQ2xpcGJvYXJkT2JzZXJ2ZXIgZnJvbSAnLi9jbGlwYm9hcmRvYnNlcnZlcic7CmltcG9ydCBDbGlwYm9hcmRQaXBlbGluZSBmcm9tICcuL2NsaXBib2FyZHBpcGVsaW5lJzsKLyoqCiAqIFRoZSBwbHVnaW4gZGV0ZWN0cyB0aGUgdXNlcidzIGludGVudGlvbiB0byBwYXN0ZSBwbGFpbiB0ZXh0LgogKgogKiBGb3IgZXhhbXBsZSwgaXQgZGV0ZWN0cyB0aGUgPGtiZD5DdHJsL0NtZDwva2JkPiArIDxrYmQ+U2hpZnQ8L2tiZD4gKyA8a2JkPlY8L2tiZD4ga2V5c3Ryb2tlLgogKgogKiBAZXh0ZW5kcyBtb2R1bGU6Y29yZS9wbHVnaW5+UGx1Z2luCiAqLwoKdmFyIFBhc3RlUGxhaW5UZXh0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUGx1Z2luKSB7CiAgX2luaGVyaXRzKFBhc3RlUGxhaW5UZXh0LCBfUGx1Z2luKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihQYXN0ZVBsYWluVGV4dCk7CgogIGZ1bmN0aW9uIFBhc3RlUGxhaW5UZXh0KCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhc3RlUGxhaW5UZXh0KTsKCiAgICByZXR1cm4gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoUGFzdGVQbGFpblRleHQsIFt7CiAgICBrZXk6ICJpbml0IiwKICAgIHZhbHVlOgogICAgLyoqCiAgICAgKiBAaW5oZXJpdERvYwogICAgICovCiAgICBmdW5jdGlvbiBpbml0KCkgewogICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7CiAgICAgIHZhciBtb2RlbCA9IGVkaXRvci5tb2RlbDsKICAgICAgdmFyIHZpZXcgPSBlZGl0b3IuZWRpdGluZy52aWV3OwogICAgICB2YXIgdmlld0RvY3VtZW50ID0gdmlldy5kb2N1bWVudDsKICAgICAgdmFyIHNlbGVjdGlvbiA9IG1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbjsKICAgICAgdmFyIHNoaWZ0UHJlc3NlZCA9IGZhbHNlOwogICAgICB2aWV3LmFkZE9ic2VydmVyKENsaXBib2FyZE9ic2VydmVyKTsKICAgICAgdGhpcy5saXN0ZW5Ubyh2aWV3RG9jdW1lbnQsICdrZXlkb3duJywgZnVuY3Rpb24gKGV2dCwgZGF0YSkgewogICAgICAgIHNoaWZ0UHJlc3NlZCA9IGRhdGEuc2hpZnRLZXk7CiAgICAgIH0pOwogICAgICBlZGl0b3IucGx1Z2lucy5nZXQoQ2xpcGJvYXJkUGlwZWxpbmUpLm9uKCdjb250ZW50SW5zZXJ0aW9uJywgZnVuY3Rpb24gKGV2dCwgZGF0YSkgewogICAgICAgIC8vIFBsYWluIHRleHQgY2FuIGJlIGRldGVybWluZWQgYmFzZWQgb24gdGhlIGV2ZW50IGZsYWcgKCM3Nzk5KSBvciBhdXRvLWRldGVjdGlvbiAoIzEwMDYpLiBJZiBkZXRlY3RlZCwKICAgICAgICAvLyBwcmVzZXJ2ZSBzZWxlY3Rpb24gYXR0cmlidXRlcyBvbiBwYXN0ZWQgaXRlbXMuCiAgICAgICAgaWYgKCFzaGlmdFByZXNzZWQgJiYgIWlzUGxhaW5UZXh0RnJhZ21lbnQoZGF0YS5jb250ZW50LCBtb2RlbC5zY2hlbWEpKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBtb2RlbC5jaGFuZ2UoZnVuY3Rpb24gKHdyaXRlcikgewogICAgICAgICAgLy8gRm9ybWF0dGluZyBhdHRyaWJ1dGVzIHNob3VsZCBiZSBwcmVzZXJ2ZWQuCiAgICAgICAgICB2YXIgdGV4dEF0dHJpYnV0ZXMgPSBBcnJheS5mcm9tKHNlbGVjdGlvbi5nZXRBdHRyaWJ1dGVzKCkpLmZpbHRlcihmdW5jdGlvbiAoX3JlZikgewogICAgICAgICAgICB2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAxKSwKICAgICAgICAgICAgICAgIGtleSA9IF9yZWYyWzBdOwoKICAgICAgICAgICAgcmV0dXJuIG1vZGVsLnNjaGVtYS5nZXRBdHRyaWJ1dGVQcm9wZXJ0aWVzKGtleSkuaXNGb3JtYXR0aW5nOwogICAgICAgICAgfSk7CgogICAgICAgICAgaWYgKCFzZWxlY3Rpb24uaXNDb2xsYXBzZWQpIHsKICAgICAgICAgICAgbW9kZWwuZGVsZXRlQ29udGVudChzZWxlY3Rpb24sIHsKICAgICAgICAgICAgICBkb05vdEF1dG9wYXJhZ3JhcGg6IHRydWUKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IC8vIEFsc28gcHJlc2VydmUgb3RoZXIgYXR0cmlidXRlcyBpZiB0aGV5IHN1cnZpdmVkIHRoZSBjb250ZW50IGRlbGV0aW9uIChiZWNhdXNlIHRoZXkgd2VyZSBub3QgZnVsbHkgc2VsZWN0ZWQpLgogICAgICAgICAgLy8gRm9yIGV4YW1wbGUgbGlua0hyZWYgaXMgbm90IGEgZm9ybWF0dGluZyBhdHRyaWJ1dGUgYnV0IGl0IHNob3VsZCBiZSBwcmVzZXJ2ZWQgaWYgcGFzdGVkIHRleHQgd2FzIGluIHRoZSBtaWRkbGUKICAgICAgICAgIC8vIG9mIGEgbGluay4KCgogICAgICAgICAgdGV4dEF0dHJpYnV0ZXMucHVzaC5hcHBseSh0ZXh0QXR0cmlidXRlcywgX3RvQ29uc3VtYWJsZUFycmF5KHNlbGVjdGlvbi5nZXRBdHRyaWJ1dGVzKCkpKTsKICAgICAgICAgIHZhciByYW5nZSA9IHdyaXRlci5jcmVhdGVSYW5nZUluKGRhdGEuY29udGVudCk7CgogICAgICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHJhbmdlLmdldEl0ZW1zKCkpLAogICAgICAgICAgICAgIF9zdGVwOwoKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICAgICAgaWYgKGl0ZW0uaXMoJyR0ZXh0UHJveHknKSkgewogICAgICAgICAgICAgICAgd3JpdGVyLnNldEF0dHJpYnV0ZXModGV4dEF0dHJpYnV0ZXMsIGl0ZW0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9XSwgW3sKICAgIGtleTogInBsdWdpbk5hbWUiLAogICAgZ2V0OgogICAgLyoqCiAgICAgKiBAaW5oZXJpdERvYwogICAgICovCiAgICBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiAnUGFzdGVQbGFpblRleHQnOwogICAgfQogICAgLyoqCiAgICAgKiBAaW5oZXJpdERvYwogICAgICovCgogIH0sIHsKICAgIGtleTogInJlcXVpcmVzIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gW0NsaXBib2FyZFBpcGVsaW5lXTsKICAgIH0KICB9XSk7CgogIHJldHVybiBQYXN0ZVBsYWluVGV4dDsKfShQbHVnaW4pOyAvLyBSZXR1cm5zIHRydWUgaWYgc3BlY2lmaWVkIGBkb2N1bWVudEZyYWdtZW50YCByZXByZXNlbnRzIGEgcGxhaW4gdGV4dC4KLy8KLy8gQHBhcmFtIHttb2R1bGU6ZW5naW5lL3ZpZXcvZG9jdW1lbnRmcmFnbWVudH5Eb2N1bWVudEZyYWdtZW50fSBkb2N1bWVudEZyYWdtZW50Ci8vIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS9tb2RlbC9zY2hlbWF+U2NoZW1hfSBzY2hlbWEKLy8gQHJldHVybnMge0Jvb2xlYW59CgoKZXhwb3J0IHsgUGFzdGVQbGFpblRleHQgYXMgZGVmYXVsdCB9OwoKZnVuY3Rpb24gaXNQbGFpblRleHRGcmFnbWVudChkb2N1bWVudEZyYWdtZW50LCBzY2hlbWEpIHsKICBpZiAoZG9jdW1lbnRGcmFnbWVudC5jaGlsZENvdW50ID4gMSkgewogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgdmFyIGNoaWxkID0gZG9jdW1lbnRGcmFnbWVudC5nZXRDaGlsZCgwKTsKCiAgaWYgKHNjaGVtYS5pc09iamVjdChjaGlsZCkpIHsKICAgIHJldHVybiBmYWxzZTsKICB9CgogIHJldHVybiBfdG9Db25zdW1hYmxlQXJyYXkoY2hpbGQuZ2V0QXR0cmlidXRlS2V5cygpKS5sZW5ndGggPT0gMDsKfQ=="},{"version":3,"sources":["/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-clipboard/src/pasteplaintext.js"],"names":["Plugin","ClipboardObserver","ClipboardPipeline","PastePlainText","editor","model","view","editing","viewDocument","document","selection","shiftPressed","addObserver","listenTo","evt","data","shiftKey","plugins","get","on","isPlainTextFragment","content","schema","change","writer","textAttributes","Array","from","getAttributes","filter","key","getAttributeProperties","isFormatting","isCollapsed","deleteContent","doNotAutoparagraph","push","range","createRangeIn","getItems","item","is","setAttributes","documentFragment","childCount","child","getChild","isObject","getAttributeKeys","length"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module clipboard/pasteplaintext\n */\n\nimport Plugin from '@ckeditor/ckeditor5-core/src/plugin';\n\nimport ClipboardObserver from './clipboardobserver';\nimport ClipboardPipeline from './clipboardpipeline';\n\n/**\n * The plugin detects the user's intention to paste plain text.\n *\n * For example, it detects the <kbd>Ctrl/Cmd</kbd> + <kbd>Shift</kbd> + <kbd>V</kbd> keystroke.\n *\n * @extends module:core/plugin~Plugin\n */\nexport default class PastePlainText extends Plugin {\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic get pluginName() {\n\t\treturn 'PastePlainText';\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic get requires() {\n\t\treturn [ ClipboardPipeline ];\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tinit() {\n\t\tconst editor = this.editor;\n\t\tconst model = editor.model;\n\t\tconst view = editor.editing.view;\n\t\tconst viewDocument = view.document;\n\t\tconst selection = model.document.selection;\n\n\t\tlet shiftPressed = false;\n\n\t\tview.addObserver( ClipboardObserver );\n\n\t\tthis.listenTo( viewDocument, 'keydown', ( evt, data ) => {\n\t\t\tshiftPressed = data.shiftKey;\n\t\t} );\n\n\t\teditor.plugins.get( ClipboardPipeline ).on( 'contentInsertion', ( evt, data ) => {\n\t\t\t// Plain text can be determined based on the event flag (#7799) or auto-detection (#1006). If detected,\n\t\t\t// preserve selection attributes on pasted items.\n\t\t\tif ( !shiftPressed && !isPlainTextFragment( data.content, model.schema ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tmodel.change( writer => {\n\t\t\t\t// Formatting attributes should be preserved.\n\t\t\t\tconst textAttributes = Array.from( selection.getAttributes() )\n\t\t\t\t\t.filter( ( [ key ] ) => model.schema.getAttributeProperties( key ).isFormatting );\n\n\t\t\t\tif ( !selection.isCollapsed ) {\n\t\t\t\t\tmodel.deleteContent( selection, { doNotAutoparagraph: true } );\n\t\t\t\t}\n\n\t\t\t\t// Also preserve other attributes if they survived the content deletion (because they were not fully selected).\n\t\t\t\t// For example linkHref is not a formatting attribute but it should be preserved if pasted text was in the middle\n\t\t\t\t// of a link.\n\t\t\t\ttextAttributes.push( ...selection.getAttributes() );\n\n\t\t\t\tconst range = writer.createRangeIn( data.content );\n\n\t\t\t\tfor ( const item of range.getItems() ) {\n\t\t\t\t\tif ( item.is( '$textProxy' ) ) {\n\t\t\t\t\t\twriter.setAttributes( textAttributes, item );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n}\n\n// Returns true if specified `documentFragment` represents a plain text.\n//\n// @param {module:engine/view/documentfragment~DocumentFragment} documentFragment\n// @param {module:engine/model/schema~Schema} schema\n// @returns {Boolean}\nfunction isPlainTextFragment( documentFragment, schema ) {\n\tif ( documentFragment.childCount > 1 ) {\n\t\treturn false;\n\t}\n\n\tconst child = documentFragment.getChild( 0 );\n\n\tif ( schema.isObject( child ) ) {\n\t\treturn false;\n\t}\n\n\treturn [ ...child.getAttributeKeys() ].length == 0;\n}\n"]}]}