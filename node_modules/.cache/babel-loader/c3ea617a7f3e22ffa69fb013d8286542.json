{"remainingRequest":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/babel-loader/lib/index.js!/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js?{}!/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-link/src/linkcommand.js","dependencies":[{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-link/src/linkcommand.js","mtime":499162500000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9ob21lL2VrZWJlcmF0L1lhbmRleC5EaXNrL1Byb2plbGVyaW0vQmVuaW1Qcm9qZWxlcmltL3dlYnNpdGVtL3dlYnNpdGVtLXdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL2hvbWUvZWtlYmVyYXQvWWFuZGV4LkRpc2svUHJvamVsZXJpbS9CZW5pbVByb2plbGVyaW0vd2Vic2l0ZW0vd2Vic2l0ZW0td2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL2hvbWUvZWtlYmVyYXQvWWFuZGV4LkRpc2svUHJvamVsZXJpbS9CZW5pbVByb2plbGVyaW0vd2Vic2l0ZW0vd2Vic2l0ZW0td2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL2hvbWUvZWtlYmVyYXQvWWFuZGV4LkRpc2svUHJvamVsZXJpbS9CZW5pbVByb2plbGVyaW0vd2Vic2l0ZW0vd2Vic2l0ZW0td2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSAiL2hvbWUvZWtlYmVyYXQvWWFuZGV4LkRpc2svUHJvamVsZXJpbS9CZW5pbVByb2plbGVyaW0vd2Vic2l0ZW0vd2Vic2l0ZW0td2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CgovKioKICogQGxpY2Vuc2UgQ29weXJpZ2h0IChjKSAyMDAzLTIwMjEsIENLU291cmNlIC0gRnJlZGVyaWNvIEtuYWJiZW4uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqIEZvciBsaWNlbnNpbmcsIHNlZSBMSUNFTlNFLm1kIG9yIGh0dHBzOi8vY2tlZGl0b3IuY29tL2xlZ2FsL2NrZWRpdG9yLW9zcy1saWNlbnNlCiAqLwoKLyoqCiAqIEBtb2R1bGUgbGluay9saW5rY29tbWFuZAogKi8KaW1wb3J0IHsgQ29tbWFuZCB9IGZyb20gJ2NrZWRpdG9yNS9zcmMvY29yZSc7CmltcG9ydCB7IGZpbmRBdHRyaWJ1dGVSYW5nZSB9IGZyb20gJ2NrZWRpdG9yNS9zcmMvdHlwaW5nJzsKaW1wb3J0IHsgQ29sbGVjdGlvbiwgdG9NYXAsIGZpcnN0IH0gZnJvbSAnY2tlZGl0b3I1L3NyYy91dGlscyc7CmltcG9ydCBBdXRvbWF0aWNEZWNvcmF0b3JzIGZyb20gJy4vdXRpbHMvYXV0b21hdGljZGVjb3JhdG9ycyc7CmltcG9ydCB7IGlzSW1hZ2VBbGxvd2VkIH0gZnJvbSAnLi91dGlscyc7Ci8qKgogKiBUaGUgbGluayBjb21tYW5kLiBJdCBpcyB1c2VkIGJ5IHRoZSB7QGxpbmsgbW9kdWxlOmxpbmsvbGlua35MaW5rIGxpbmsgZmVhdHVyZX0uCiAqCiAqIEBleHRlbmRzIG1vZHVsZTpjb3JlL2NvbW1hbmR+Q29tbWFuZAogKi8KCnZhciBMaW5rQ29tbWFuZCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0NvbW1hbmQpIHsKICBfaW5oZXJpdHMoTGlua0NvbW1hbmQsIF9Db21tYW5kKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihMaW5rQ29tbWFuZCk7CgogIC8qKgogICAqIFRoZSB2YWx1ZSBvZiB0aGUgYCdsaW5rSHJlZidgIGF0dHJpYnV0ZSBpZiB0aGUgc3RhcnQgb2YgdGhlIHNlbGVjdGlvbiBpcyBsb2NhdGVkIGluIGEgbm9kZSB3aXRoIHRoaXMgYXR0cmlidXRlLgogICAqCiAgICogQG9ic2VydmFibGUKICAgKiBAcmVhZG9ubHkKICAgKiBAbWVtYmVyIHtPYmplY3R8dW5kZWZpbmVkfSAjdmFsdWUKICAgKi8KICBmdW5jdGlvbiBMaW5rQ29tbWFuZChlZGl0b3IpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTGlua0NvbW1hbmQpOwoKICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZWRpdG9yKTsKICAgIC8qKgogICAgICogQSBjb2xsZWN0aW9uIG9mIHtAbGluayBtb2R1bGU6bGluay91dGlsc35NYW51YWxEZWNvcmF0b3IgbWFudWFsIGRlY29yYXRvcnN9CiAgICAgKiBjb3JyZXNwb25kaW5nIHRvIHRoZSB7QGxpbmsgbW9kdWxlOmxpbmsvbGlua35MaW5rQ29uZmlnI2RlY29yYXRvcnMgZGVjb3JhdG9yIGNvbmZpZ3VyYXRpb259LgogICAgICoKICAgICAqIFlvdSBjYW4gY29uc2lkZXIgaXQgYSBtb2RlbCB3aXRoIHN0YXRlcyBvZiBtYW51YWwgZGVjb3JhdG9ycyBhZGRlZCB0byB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGxpbmsuCiAgICAgKgogICAgICogQHJlYWRvbmx5CiAgICAgKiBAdHlwZSB7bW9kdWxlOnV0aWxzL2NvbGxlY3Rpb25+Q29sbGVjdGlvbn0KICAgICAqLwoKICAgIF90aGlzLm1hbnVhbERlY29yYXRvcnMgPSBuZXcgQ29sbGVjdGlvbigpOwogICAgLyoqCiAgICAgKiBBbiBpbnN0YW5jZSBvZiB0aGUgaGVscGVyIHRoYXQgdGllcyB0b2dldGhlciBhbGwge0BsaW5rIG1vZHVsZTpsaW5rL2xpbmt+TGlua0RlY29yYXRvckF1dG9tYXRpY0RlZmluaXRpb259CiAgICAgKiB0aGF0IGFyZSB1c2VkIGJ5IHRoZSB7QGdsaW5rIGZlYXR1cmVzL2xpbmsgbGlua30gYW5kIHRoZSB7QGdsaW5rIGZlYXR1cmVzL2ltYWdlI2xpbmtpbmctaW1hZ2VzIGxpbmtpbmcgaW1hZ2VzfSBmZWF0dXJlcy4KICAgICAqCiAgICAgKiBAcmVhZG9ubHkKICAgICAqIEB0eXBlIHttb2R1bGU6bGluay91dGlsc35BdXRvbWF0aWNEZWNvcmF0b3JzfQogICAgICovCgogICAgX3RoaXMuYXV0b21hdGljRGVjb3JhdG9ycyA9IG5ldyBBdXRvbWF0aWNEZWNvcmF0b3JzKCk7CiAgICByZXR1cm4gX3RoaXM7CiAgfQogIC8qKgogICAqIFN5bmNocm9uaXplcyB0aGUgc3RhdGUgb2Yge0BsaW5rICNtYW51YWxEZWNvcmF0b3JzfSB3aXRoIHRoZSBjdXJyZW50bHkgcHJlc2VudCBlbGVtZW50cyBpbiB0aGUgbW9kZWwuCiAgICovCgoKICBfY3JlYXRlQ2xhc3MoTGlua0NvbW1hbmQsIFt7CiAgICBrZXk6ICJyZXN0b3JlTWFudWFsRGVjb3JhdG9yU3RhdGVzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZXN0b3JlTWFudWFsRGVjb3JhdG9yU3RhdGVzKCkgewogICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5tYW51YWxEZWNvcmF0b3JzKSwKICAgICAgICAgIF9zdGVwOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIG1hbnVhbERlY29yYXRvciA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgbWFudWFsRGVjb3JhdG9yLnZhbHVlID0gdGhpcy5fZ2V0RGVjb3JhdG9yU3RhdGVGcm9tTW9kZWwobWFudWFsRGVjb3JhdG9yLmlkKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBAaW5oZXJpdERvYwogICAgICovCgogIH0sIHsKICAgIGtleTogInJlZnJlc2giLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlZnJlc2goKSB7CiAgICAgIHZhciBtb2RlbCA9IHRoaXMuZWRpdG9yLm1vZGVsOwogICAgICB2YXIgZG9jID0gbW9kZWwuZG9jdW1lbnQ7CiAgICAgIHZhciBzZWxlY3RlZEVsZW1lbnQgPSBmaXJzdChkb2Muc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCkpOyAvLyBBIGNoZWNrIGZvciB0aGUgYExpbmtJbWFnZWAgcGx1Z2luLiBJZiB0aGUgc2VsZWN0aW9uIGNvbnRhaW5zIGFuIGVsZW1lbnQsIGdldCB2YWx1ZXMgZnJvbSB0aGUgZWxlbWVudC4KICAgICAgLy8gQ3VycmVudGx5IHRoZSBzZWxlY3Rpb24gcmVhZHMgYXR0cmlidXRlcyBmcm9tIHRleHQgbm9kZXMgb25seS4gU2VlICM3NDI5IGFuZCAjNzQ2NS4KCiAgICAgIGlmIChpc0ltYWdlQWxsb3dlZChzZWxlY3RlZEVsZW1lbnQsIG1vZGVsLnNjaGVtYSkpIHsKICAgICAgICB0aGlzLnZhbHVlID0gc2VsZWN0ZWRFbGVtZW50LmdldEF0dHJpYnV0ZSgnbGlua0hyZWYnKTsKICAgICAgICB0aGlzLmlzRW5hYmxlZCA9IG1vZGVsLnNjaGVtYS5jaGVja0F0dHJpYnV0ZShzZWxlY3RlZEVsZW1lbnQsICdsaW5rSHJlZicpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudmFsdWUgPSBkb2Muc2VsZWN0aW9uLmdldEF0dHJpYnV0ZSgnbGlua0hyZWYnKTsKICAgICAgICB0aGlzLmlzRW5hYmxlZCA9IG1vZGVsLnNjaGVtYS5jaGVja0F0dHJpYnV0ZUluU2VsZWN0aW9uKGRvYy5zZWxlY3Rpb24sICdsaW5rSHJlZicpOwogICAgICB9CgogICAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMubWFudWFsRGVjb3JhdG9ycyksCiAgICAgICAgICBfc3RlcDI7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgbWFudWFsRGVjb3JhdG9yID0gX3N0ZXAyLnZhbHVlOwogICAgICAgICAgbWFudWFsRGVjb3JhdG9yLnZhbHVlID0gdGhpcy5fZ2V0RGVjb3JhdG9yU3RhdGVGcm9tTW9kZWwobWFudWFsRGVjb3JhdG9yLmlkKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIEV4ZWN1dGVzIHRoZSBjb21tYW5kLgogICAgICoKICAgICAqIFdoZW4gdGhlIHNlbGVjdGlvbiBpcyBub24tY29sbGFwc2VkLCB0aGUgYGxpbmtIcmVmYCBhdHRyaWJ1dGUgd2lsbCBiZSBhcHBsaWVkIHRvIG5vZGVzIGluc2lkZSB0aGUgc2VsZWN0aW9uLCBidXQgb25seSB0bwogICAgICogdGhvc2Ugbm9kZXMgd2hlcmUgdGhlIGBsaW5rSHJlZmAgYXR0cmlidXRlIGlzIGFsbG93ZWQgKGRpc2FsbG93ZWQgbm9kZXMgd2lsbCBiZSBvbWl0dGVkKS4KICAgICAqCiAgICAgKiBXaGVuIHRoZSBzZWxlY3Rpb24gaXMgY29sbGFwc2VkIGFuZCBpcyBub3QgaW5zaWRlIHRoZSB0ZXh0IHdpdGggdGhlIGBsaW5rSHJlZmAgYXR0cmlidXRlLCBhCiAgICAgKiBuZXcge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvdGV4dH5UZXh0IHRleHQgbm9kZX0gd2l0aCB0aGUgYGxpbmtIcmVmYCBhdHRyaWJ1dGUgd2lsbCBiZSBpbnNlcnRlZCBpbiBwbGFjZSBvZiB0aGUgY2FyZXQsIGJ1dAogICAgICogb25seSBpZiBzdWNoIGVsZW1lbnQgaXMgYWxsb3dlZCBpbiB0aGlzIHBsYWNlLiBUaGUgYF9kYXRhYCBvZiB0aGUgaW5zZXJ0ZWQgdGV4dCB3aWxsIGVxdWFsIHRoZSBgaHJlZmAgcGFyYW1ldGVyLgogICAgICogVGhlIHNlbGVjdGlvbiB3aWxsIGJlIHVwZGF0ZWQgdG8gd3JhcCB0aGUganVzdCBpbnNlcnRlZCB0ZXh0IG5vZGUuCiAgICAgKgogICAgICogV2hlbiB0aGUgc2VsZWN0aW9uIGlzIGNvbGxhcHNlZCBhbmQgaW5zaWRlIHRoZSB0ZXh0IHdpdGggdGhlIGBsaW5rSHJlZmAgYXR0cmlidXRlLCB0aGUgYXR0cmlidXRlIHZhbHVlIHdpbGwgYmUgdXBkYXRlZC4KICAgICAqCiAgICAgKiAjIERlY29yYXRvcnMgYW5kIG1vZGVsIGF0dHJpYnV0ZSBtYW5hZ2VtZW50CiAgICAgKgogICAgICogVGhlcmUgaXMgYW4gb3B0aW9uYWwgYXJndW1lbnQgdG8gdGhpcyBjb21tYW5kIHRoYXQgYXBwbGllcyBvciByZW1vdmVzIG1vZGVsCiAgICAgKiB7QGdsaW5rIGZyYW1ld29yay9ndWlkZXMvYXJjaGl0ZWN0dXJlL2VkaXRpbmctZW5naW5lI3RleHQtYXR0cmlidXRlcyB0ZXh0IGF0dHJpYnV0ZXN9IGJyb3VnaHQgYnkKICAgICAqIHtAbGluayBtb2R1bGU6bGluay91dGlsc35NYW51YWxEZWNvcmF0b3IgbWFudWFsIGxpbmsgZGVjb3JhdG9yc30uCiAgICAgKgogICAgICogVGV4dCBhdHRyaWJ1dGUgbmFtZXMgaW4gdGhlIG1vZGVsIGNvcnJlc3BvbmQgdG8gdGhlIGVudHJpZXMgaW4gdGhlIHtAbGluayBtb2R1bGU6bGluay9saW5rfkxpbmtDb25maWcjZGVjb3JhdG9ycyBjb25maWd1cmF0aW9ufS4KICAgICAqIEZvciBldmVyeSBkZWNvcmF0b3IgY29uZmlndXJlZCwgYSBtb2RlbCB0ZXh0IGF0dHJpYnV0ZSBleGlzdHMgd2l0aCB0aGUgImxpbmsiIHByZWZpeC4gRm9yIGV4YW1wbGUsIGEgYCdsaW5rTXlEZWNvcmF0b3InYCBhdHRyaWJ1dGUKICAgICAqIGNvcnJlc3BvbmRzIHRvIGAnbXlEZWNvcmF0b3InYCBpbiB0aGUgY29uZmlndXJhdGlvbi4KICAgICAqCiAgICAgKiBUbyBsZWFybiBtb3JlIGFib3V0IGxpbmsgZGVjb3JhdG9ycywgY2hlY2sgb3V0IHRoZSB7QGxpbmsgbW9kdWxlOmxpbmsvbGlua35MaW5rQ29uZmlnI2RlY29yYXRvcnMgYGNvbmZpZy5saW5rLmRlY29yYXRvcnNgfQogICAgICogZG9jdW1lbnRhdGlvbi4KICAgICAqCiAgICAgKiBIZXJlIGlzIGhvdyB0byBtYW5hZ2UgZGVjb3JhdG9yIGF0dHJpYnV0ZXMgd2l0aCB0aGUgbGluayBjb21tYW5kOgogICAgICoKICAgICAqCQljb25zdCBsaW5rQ29tbWFuZCA9IGVkaXRvci5jb21tYW5kcy5nZXQoICdsaW5rJyApOwogICAgICoKICAgICAqCQkvLyBBZGRpbmcgYSBuZXcgZGVjb3JhdG9yIGF0dHJpYnV0ZS4KICAgICAqCQlsaW5rQ29tbWFuZC5leGVjdXRlKCAnaHR0cDovL2V4YW1wbGUuY29tJywgewogICAgICoJCQlsaW5rSXNFeHRlcm5hbDogdHJ1ZQogICAgICoJCX0gKTsKICAgICAqCiAgICAgKgkJLy8gUmVtb3ZpbmcgYSBkZWNvcmF0b3IgYXR0cmlidXRlIGZyb20gdGhlIHNlbGVjdGlvbi4KICAgICAqCQlsaW5rQ29tbWFuZC5leGVjdXRlKCAnaHR0cDovL2V4YW1wbGUuY29tJywgewogICAgICoJCQlsaW5rSXNFeHRlcm5hbDogZmFsc2UKICAgICAqCQl9ICk7CiAgICAgKgogICAgICoJCS8vIEFkZGluZyBtdWx0aXBsZSBkZWNvcmF0b3IgYXR0cmlidXRlcyBhdCB0aGUgc2FtZSB0aW1lLgogICAgICoJCWxpbmtDb21tYW5kLmV4ZWN1dGUoICdodHRwOi8vZXhhbXBsZS5jb20nLCB7CiAgICAgKgkJCWxpbmtJc0V4dGVybmFsOiB0cnVlLAogICAgICoJCQlsaW5rSXNEb3dubG9hZGFibGU6IHRydWUsCiAgICAgKgkJfSApOwogICAgICoKICAgICAqCQkvLyBSZW1vdmluZyBhbmQgYWRkaW5nIGRlY29yYXRvciBhdHRyaWJ1dGVzIGF0IHRoZSBzYW1lIHRpbWUuCiAgICAgKgkJbGlua0NvbW1hbmQuZXhlY3V0ZSggJ2h0dHA6Ly9leGFtcGxlLmNvbScsIHsKICAgICAqCQkJbGlua0lzRXh0ZXJuYWw6IGZhbHNlLAogICAgICoJCQlsaW5rRm9vOiB0cnVlLAogICAgICoJCQlsaW5rSXNEb3dubG9hZGFibGU6IGZhbHNlLAogICAgICoJCX0gKTsKICAgICAqCiAgICAgKiAqKk5vdGUqKjogSWYgdGhlIGRlY29yYXRvciBhdHRyaWJ1dGUgbmFtZSBpcyBub3Qgc3BlY2lmaWVkLCBpdHMgc3RhdGUgcmVtYWlucyB1bnRvdWNoZWQuCiAgICAgKgogICAgICogKipOb3RlKio6IHtAbGluayBtb2R1bGU6bGluay91bmxpbmtjb21tYW5kflVubGlua0NvbW1hbmQjZXhlY3V0ZSBgVW5saW5rQ29tbWFuZCNleGVjdXRlKClgfSByZW1vdmVzIGFsbAogICAgICogZGVjb3JhdG9yIGF0dHJpYnV0ZXMuCiAgICAgKgogICAgICogQGZpcmVzIGV4ZWN1dGUKICAgICAqIEBwYXJhbSB7U3RyaW5nfSBocmVmIExpbmsgZGVzdGluYXRpb24uCiAgICAgKiBAcGFyYW0ge09iamVjdH0gW21hbnVhbERlY29yYXRvcklkcz17fV0gVGhlIGluZm9ybWF0aW9uIGFib3V0IG1hbnVhbCBkZWNvcmF0b3IgYXR0cmlidXRlcyB0byBiZSBhcHBsaWVkIG9yIHJlbW92ZWQgdXBvbiBleGVjdXRpb24uCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZXhlY3V0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZXhlY3V0ZShocmVmKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIG1hbnVhbERlY29yYXRvcklkcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307CiAgICAgIHZhciBtb2RlbCA9IHRoaXMuZWRpdG9yLm1vZGVsOwogICAgICB2YXIgc2VsZWN0aW9uID0gbW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uOyAvLyBTdG9yZXMgaW5mb3JtYXRpb24gYWJvdXQgbWFudWFsIGRlY29yYXRvcnMgdG8gdHVybiB0aGVtIG9uL29mZiB3aGVuIGNvbW1hbmQgaXMgYXBwbGllZC4KCiAgICAgIHZhciB0cnV0aHlNYW51YWxEZWNvcmF0b3JzID0gW107CiAgICAgIHZhciBmYWxzeU1hbnVhbERlY29yYXRvcnMgPSBbXTsKCiAgICAgIGZvciAodmFyIG5hbWUgaW4gbWFudWFsRGVjb3JhdG9ySWRzKSB7CiAgICAgICAgaWYgKG1hbnVhbERlY29yYXRvcklkc1tuYW1lXSkgewogICAgICAgICAgdHJ1dGh5TWFudWFsRGVjb3JhdG9ycy5wdXNoKG5hbWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBmYWxzeU1hbnVhbERlY29yYXRvcnMucHVzaChuYW1lKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIG1vZGVsLmNoYW5nZShmdW5jdGlvbiAod3JpdGVyKSB7CiAgICAgICAgLy8gSWYgc2VsZWN0aW9uIGlzIGNvbGxhcHNlZCB0aGVuIHVwZGF0ZSBzZWxlY3RlZCBsaW5rIG9yIGluc2VydCBuZXcgb25lIGF0IHRoZSBwbGFjZSBvZiBjYXJldC4KICAgICAgICBpZiAoc2VsZWN0aW9uLmlzQ29sbGFwc2VkKSB7CiAgICAgICAgICB2YXIgcG9zaXRpb24gPSBzZWxlY3Rpb24uZ2V0Rmlyc3RQb3NpdGlvbigpOyAvLyBXaGVuIHNlbGVjdGlvbiBpcyBpbnNpZGUgdGV4dCB3aXRoIGBsaW5rSHJlZmAgYXR0cmlidXRlLgoKICAgICAgICAgIGlmIChzZWxlY3Rpb24uaGFzQXR0cmlidXRlKCdsaW5rSHJlZicpKSB7CiAgICAgICAgICAgIC8vIFRoZW4gdXBkYXRlIGBsaW5rSHJlZmAgdmFsdWUuCiAgICAgICAgICAgIHZhciBsaW5rUmFuZ2UgPSBmaW5kQXR0cmlidXRlUmFuZ2UocG9zaXRpb24sICdsaW5rSHJlZicsIHNlbGVjdGlvbi5nZXRBdHRyaWJ1dGUoJ2xpbmtIcmVmJyksIG1vZGVsKTsKICAgICAgICAgICAgd3JpdGVyLnNldEF0dHJpYnV0ZSgnbGlua0hyZWYnLCBocmVmLCBsaW5rUmFuZ2UpOwogICAgICAgICAgICB0cnV0aHlNYW51YWxEZWNvcmF0b3JzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICB3cml0ZXIuc2V0QXR0cmlidXRlKGl0ZW0sIHRydWUsIGxpbmtSYW5nZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBmYWxzeU1hbnVhbERlY29yYXRvcnMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgIHdyaXRlci5yZW1vdmVBdHRyaWJ1dGUoaXRlbSwgbGlua1JhbmdlKTsKICAgICAgICAgICAgfSk7IC8vIFB1dCB0aGUgc2VsZWN0aW9uIGF0IHRoZSBlbmQgb2YgdGhlIHVwZGF0ZWQgbGluay4KCiAgICAgICAgICAgIHdyaXRlci5zZXRTZWxlY3Rpb24od3JpdGVyLmNyZWF0ZVBvc2l0aW9uQWZ0ZXIobGlua1JhbmdlLmVuZC5ub2RlQmVmb3JlKSk7CiAgICAgICAgICB9IC8vIElmIG5vdCB0aGVuIGluc2VydCB0ZXh0IG5vZGUgd2l0aCBgbGlua0hyZWZgIGF0dHJpYnV0ZSBpbiBwbGFjZSBvZiBjYXJldC4KICAgICAgICAgIC8vIEhvd2V2ZXIsIHNpbmNlIHNlbGVjdGlvbiBpcyBjb2xsYXBzZWQsIGF0dHJpYnV0ZSB2YWx1ZSB3aWxsIGJlIHVzZWQgYXMgZGF0YSBmb3IgdGV4dCBub2RlLgogICAgICAgICAgLy8gU28sIGlmIGBocmVmYCBpcyBlbXB0eSwgZG8gbm90IGNyZWF0ZSB0ZXh0IG5vZGUuCiAgICAgICAgICBlbHNlIGlmIChocmVmICE9PSAnJykgewogICAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVzID0gdG9NYXAoc2VsZWN0aW9uLmdldEF0dHJpYnV0ZXMoKSk7CiAgICAgICAgICAgICAgYXR0cmlidXRlcy5zZXQoJ2xpbmtIcmVmJywgaHJlZik7CiAgICAgICAgICAgICAgdHJ1dGh5TWFudWFsRGVjb3JhdG9ycy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnNldChpdGVtLCB0cnVlKTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgdmFyIF9tb2RlbCRpbnNlcnRDb250ZW50ID0gbW9kZWwuaW5zZXJ0Q29udGVudCh3cml0ZXIuY3JlYXRlVGV4dChocmVmLCBhdHRyaWJ1dGVzKSwgcG9zaXRpb24pLAogICAgICAgICAgICAgICAgICBwb3NpdGlvbkFmdGVyID0gX21vZGVsJGluc2VydENvbnRlbnQuZW5kOyAvLyBQdXQgdGhlIHNlbGVjdGlvbiBhdCB0aGUgZW5kIG9mIHRoZSBpbnNlcnRlZCBsaW5rLgogICAgICAgICAgICAgIC8vIFVzaW5nIGVuZCBvZiByYW5nZSByZXR1cm5lZCBmcm9tIGluc2VydENvbnRlbnQgaW4gY2FzZSBub2RlcyB3aXRoIHRoZSBzYW1lIGF0dHJpYnV0ZXMgZ290IG1lcmdlZC4KCgogICAgICAgICAgICAgIHdyaXRlci5zZXRTZWxlY3Rpb24ocG9zaXRpb25BZnRlcik7CiAgICAgICAgICAgIH0gLy8gUmVtb3ZlIHRoZSBgbGlua0hyZWZgIGF0dHJpYnV0ZSBhbmQgYWxsIGxpbmsgZGVjb3JhdG9ycyBmcm9tIHRoZSBzZWxlY3Rpb24uCiAgICAgICAgICAvLyBJdCBzdG9wcyBhZGRpbmcgYSBuZXcgY29udGVudCBpbnRvIHRoZSBsaW5rIGVsZW1lbnQuCgoKICAgICAgICAgIFsnbGlua0hyZWYnXS5jb25jYXQodHJ1dGh5TWFudWFsRGVjb3JhdG9ycywgZmFsc3lNYW51YWxEZWNvcmF0b3JzKS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHdyaXRlci5yZW1vdmVTZWxlY3Rpb25BdHRyaWJ1dGUoaXRlbSk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gSWYgc2VsZWN0aW9uIGhhcyBub24tY29sbGFwc2VkIHJhbmdlcywgd2UgY2hhbmdlIGF0dHJpYnV0ZSBvbiBub2RlcyBpbnNpZGUgdGhvc2UgcmFuZ2VzCiAgICAgICAgICAvLyBvbWl0dGluZyBub2RlcyB3aGVyZSB0aGUgYGxpbmtIcmVmYCBhdHRyaWJ1dGUgaXMgZGlzYWxsb3dlZC4KICAgICAgICAgIHZhciByYW5nZXMgPSBtb2RlbC5zY2hlbWEuZ2V0VmFsaWRSYW5nZXMoc2VsZWN0aW9uLmdldFJhbmdlcygpLCAnbGlua0hyZWYnKTsgLy8gQnV0IGZvciB0aGUgZmlyc3QsIGNoZWNrIHdoZXRoZXIgdGhlIGBsaW5rSHJlZmAgYXR0cmlidXRlIGlzIGFsbG93ZWQgb24gc2VsZWN0ZWQgYmxvY2tzIChlLmcuIHRoZSAiaW1hZ2UiIGVsZW1lbnQpLgoKICAgICAgICAgIHZhciBhbGxvd2VkUmFuZ2VzID0gW107CgogICAgICAgICAgdmFyIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihzZWxlY3Rpb24uZ2V0U2VsZWN0ZWRCbG9ja3MoKSksCiAgICAgICAgICAgICAgX3N0ZXAzOwoKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMy5zKCk7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBfc3RlcDMudmFsdWU7CgogICAgICAgICAgICAgIGlmIChtb2RlbC5zY2hlbWEuY2hlY2tBdHRyaWJ1dGUoZWxlbWVudCwgJ2xpbmtIcmVmJykpIHsKICAgICAgICAgICAgICAgIGFsbG93ZWRSYW5nZXMucHVzaCh3cml0ZXIuY3JlYXRlUmFuZ2VPbihlbGVtZW50KSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IC8vIFJhbmdlcyB0aGF0IGFjY2VwdCB0aGUgYGxpbmtIcmVmYCBhdHRyaWJ1dGUuIFNpbmNlIHdlIHdpbGwgaXRlcmF0ZSBvdmVyIGBhbGxvd2VkUmFuZ2VzYCwgbGV0J3MgY2xvbmUgaXQuCgogICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjMuZShlcnIpOwogICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgX2l0ZXJhdG9yMy5mKCk7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIHJhbmdlc1RvVXBkYXRlID0gYWxsb3dlZFJhbmdlcy5zbGljZSgpOyAvLyBGb3IgYWxsIHNlbGVjdGlvbiByYW5nZXMgd2Ugd2FudCB0byBjaGVjayB3aGV0aGVyIGdpdmVuIHJhbmdlIGlzIGluc2lkZSBhbiBlbGVtZW50IHRoYXQgYWNjZXB0cyB0aGUgYGxpbmtIcmVmYCBhdHRyaWJ1dGUuCiAgICAgICAgICAvLyBJZiBzbywgd2UgZG9uJ3Qgd2FudCB0byBwcm9wYWdhdGUgYXBwbHlpbmcgdGhlIGF0dHJpYnV0ZSB0byBpdHMgY2hpbGRyZW4uCgogICAgICAgICAgdmFyIF9pdGVyYXRvcjQgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihyYW5nZXMpLAogICAgICAgICAgICAgIF9zdGVwNDsKCiAgICAgICAgICB0cnkgewogICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjQucygpOyAhKF9zdGVwNCA9IF9pdGVyYXRvcjQubigpKS5kb25lOykgewogICAgICAgICAgICAgIHZhciByYW5nZSA9IF9zdGVwNC52YWx1ZTsKCiAgICAgICAgICAgICAgaWYgKF90aGlzMi5faXNSYW5nZVRvVXBkYXRlKHJhbmdlLCBhbGxvd2VkUmFuZ2VzKSkgewogICAgICAgICAgICAgICAgcmFuZ2VzVG9VcGRhdGUucHVzaChyYW5nZSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgX2l0ZXJhdG9yNC5lKGVycik7CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBfaXRlcmF0b3I0LmYoKTsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgX2l0ZXJhdG9yNSA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHJhbmdlc1RvVXBkYXRlKSwKICAgICAgICAgICAgICBfc3RlcDU7CgogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoKSB7CiAgICAgICAgICAgICAgdmFyIHJhbmdlID0gX3N0ZXA1LnZhbHVlOwogICAgICAgICAgICAgIHdyaXRlci5zZXRBdHRyaWJ1dGUoJ2xpbmtIcmVmJywgaHJlZiwgcmFuZ2UpOwogICAgICAgICAgICAgIHRydXRoeU1hbnVhbERlY29yYXRvcnMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgd3JpdGVyLnNldEF0dHJpYnV0ZShpdGVtLCB0cnVlLCByYW5nZSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgZmFsc3lNYW51YWxEZWNvcmF0b3JzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgIHdyaXRlci5yZW1vdmVBdHRyaWJ1dGUoaXRlbSwgcmFuZ2UpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgZm9yIChfaXRlcmF0b3I1LnMoKTsgIShfc3RlcDUgPSBfaXRlcmF0b3I1Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICBfbG9vcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgX2l0ZXJhdG9yNS5lKGVycik7CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBfaXRlcmF0b3I1LmYoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfQogICAgLyoqCiAgICAgKiBQcm92aWRlcyBpbmZvcm1hdGlvbiB3aGV0aGVyIGEgZGVjb3JhdG9yIHdpdGggYSBnaXZlbiBuYW1lIGlzIHByZXNlbnQgaW4gdGhlIGN1cnJlbnRseSBwcm9jZXNzZWQgc2VsZWN0aW9uLgogICAgICoKICAgICAqIEBwcml2YXRlCiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGVjb3JhdG9yTmFtZSBUaGUgbmFtZSBvZiB0aGUgbWFudWFsIGRlY29yYXRvciB1c2VkIGluIHRoZSBtb2RlbAogICAgICogQHJldHVybnMge0Jvb2xlYW59IFRoZSBpbmZvcm1hdGlvbiB3aGV0aGVyIGEgZ2l2ZW4gZGVjb3JhdG9yIGlzIGN1cnJlbnRseSBwcmVzZW50IGluIHRoZSBzZWxlY3Rpb24uCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiX2dldERlY29yYXRvclN0YXRlRnJvbU1vZGVsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0RGVjb3JhdG9yU3RhdGVGcm9tTW9kZWwoZGVjb3JhdG9yTmFtZSkgewogICAgICB2YXIgbW9kZWwgPSB0aGlzLmVkaXRvci5tb2RlbDsKICAgICAgdmFyIGRvYyA9IG1vZGVsLmRvY3VtZW50OwogICAgICB2YXIgc2VsZWN0ZWRFbGVtZW50ID0gZmlyc3QoZG9jLnNlbGVjdGlvbi5nZXRTZWxlY3RlZEJsb2NrcygpKTsgLy8gQSBjaGVjayBmb3IgdGhlIGBMaW5rSW1hZ2VgIHBsdWdpbi4gSWYgdGhlIHNlbGVjdGlvbiBjb250YWlucyBhbiBlbGVtZW50LCBnZXQgdmFsdWVzIGZyb20gdGhlIGVsZW1lbnQuCiAgICAgIC8vIEN1cnJlbnRseSB0aGUgc2VsZWN0aW9uIHJlYWRzIGF0dHJpYnV0ZXMgZnJvbSB0ZXh0IG5vZGVzIG9ubHkuIFNlZSAjNzQyOSBhbmQgIzc0NjUuCgogICAgICBpZiAoaXNJbWFnZUFsbG93ZWQoc2VsZWN0ZWRFbGVtZW50LCBtb2RlbC5zY2hlbWEpKSB7CiAgICAgICAgcmV0dXJuIHNlbGVjdGVkRWxlbWVudC5nZXRBdHRyaWJ1dGUoZGVjb3JhdG9yTmFtZSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBkb2Muc2VsZWN0aW9uLmdldEF0dHJpYnV0ZShkZWNvcmF0b3JOYW1lKTsKICAgIH0KICAgIC8qKgogICAgICogQ2hlY2tzIHdoZXRoZXIgc3BlY2lmaWVkIGByYW5nZWAgaXMgaW5zaWRlIGFuIGVsZW1lbnQgdGhhdCBhY2NlcHRzIHRoZSBgbGlua0hyZWZgIGF0dHJpYnV0ZS4KICAgICAqCiAgICAgKiBAcHJpdmF0ZQogICAgICogQHBhcmFtIHttb2R1bGU6ZW5naW5lL3ZpZXcvcmFuZ2V+UmFuZ2V9IHJhbmdlIEEgcmFuZ2UgdG8gY2hlY2suCiAgICAgKiBAcGFyYW0ge0FycmF5Ljxtb2R1bGU6ZW5naW5lL3ZpZXcvcmFuZ2V+UmFuZ2U+fSBhbGxvd2VkUmFuZ2VzIEFuIGFycmF5IG9mIHJhbmdlcyBjcmVhdGVkIG9uIGVsZW1lbnRzIHdoZXJlIHRoZSBhdHRyaWJ1dGUgaXMgYWNjZXB0ZWQuCiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJfaXNSYW5nZVRvVXBkYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfaXNSYW5nZVRvVXBkYXRlKHJhbmdlLCBhbGxvd2VkUmFuZ2VzKSB7CiAgICAgIHZhciBfaXRlcmF0b3I2ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoYWxsb3dlZFJhbmdlcyksCiAgICAgICAgICBfc3RlcDY7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yNi5zKCk7ICEoX3N0ZXA2ID0gX2l0ZXJhdG9yNi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgYWxsb3dlZFJhbmdlID0gX3N0ZXA2LnZhbHVlOwoKICAgICAgICAgIC8vIEEgcmFuZ2UgaXMgaW5zaWRlIGFuIGVsZW1lbnQgdGhhdCB3aWxsIGhhdmUgdGhlIGBsaW5rSHJlZmAgYXR0cmlidXRlLiBEbyBub3QgbW9kaWZ5IGl0cyBub2Rlcy4KICAgICAgICAgIGlmIChhbGxvd2VkUmFuZ2UuY29udGFpbnNSYW5nZShyYW5nZSkpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yNi5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yNi5mKCk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIExpbmtDb21tYW5kOwp9KENvbW1hbmQpOwoKZXhwb3J0IHsgTGlua0NvbW1hbmQgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"sources":["/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-link/src/linkcommand.js"],"names":["Command","findAttributeRange","Collection","toMap","first","AutomaticDecorators","isImageAllowed","LinkCommand","editor","manualDecorators","automaticDecorators","manualDecorator","value","_getDecoratorStateFromModel","id","model","doc","document","selectedElement","selection","getSelectedBlocks","schema","getAttribute","isEnabled","checkAttribute","checkAttributeInSelection","href","manualDecoratorIds","truthyManualDecorators","falsyManualDecorators","name","push","change","writer","isCollapsed","position","getFirstPosition","hasAttribute","linkRange","setAttribute","forEach","item","removeAttribute","setSelection","createPositionAfter","end","nodeBefore","attributes","getAttributes","set","insertContent","createText","positionAfter","removeSelectionAttribute","ranges","getValidRanges","getRanges","allowedRanges","element","createRangeOn","rangesToUpdate","slice","range","_isRangeToUpdate","decoratorName","allowedRange","containsRange"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module link/linkcommand\n */\n\nimport { Command } from 'ckeditor5/src/core';\nimport { findAttributeRange } from 'ckeditor5/src/typing';\nimport { Collection, toMap, first } from 'ckeditor5/src/utils';\n\nimport AutomaticDecorators from './utils/automaticdecorators';\nimport { isImageAllowed } from './utils';\n\n/**\n * The link command. It is used by the {@link module:link/link~Link link feature}.\n *\n * @extends module:core/command~Command\n */\nexport default class LinkCommand extends Command {\n\t/**\n\t * The value of the `'linkHref'` attribute if the start of the selection is located in a node with this attribute.\n\t *\n\t * @observable\n\t * @readonly\n\t * @member {Object|undefined} #value\n\t */\n\n\tconstructor( editor ) {\n\t\tsuper( editor );\n\n\t\t/**\n\t\t * A collection of {@link module:link/utils~ManualDecorator manual decorators}\n\t\t * corresponding to the {@link module:link/link~LinkConfig#decorators decorator configuration}.\n\t\t *\n\t\t * You can consider it a model with states of manual decorators added to the currently selected link.\n\t\t *\n\t\t * @readonly\n\t\t * @type {module:utils/collection~Collection}\n\t\t */\n\t\tthis.manualDecorators = new Collection();\n\n\t\t/**\n\t\t * An instance of the helper that ties together all {@link module:link/link~LinkDecoratorAutomaticDefinition}\n\t\t * that are used by the {@glink features/link link} and the {@glink features/image#linking-images linking images} features.\n\t\t *\n\t\t * @readonly\n\t\t * @type {module:link/utils~AutomaticDecorators}\n\t\t */\n\t\tthis.automaticDecorators = new AutomaticDecorators();\n\t}\n\n\t/**\n\t * Synchronizes the state of {@link #manualDecorators} with the currently present elements in the model.\n\t */\n\trestoreManualDecoratorStates() {\n\t\tfor ( const manualDecorator of this.manualDecorators ) {\n\t\t\tmanualDecorator.value = this._getDecoratorStateFromModel( manualDecorator.id );\n\t\t}\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\trefresh() {\n\t\tconst model = this.editor.model;\n\t\tconst doc = model.document;\n\n\t\tconst selectedElement = first( doc.selection.getSelectedBlocks() );\n\n\t\t// A check for the `LinkImage` plugin. If the selection contains an element, get values from the element.\n\t\t// Currently the selection reads attributes from text nodes only. See #7429 and #7465.\n\t\tif ( isImageAllowed( selectedElement, model.schema ) ) {\n\t\t\tthis.value = selectedElement.getAttribute( 'linkHref' );\n\t\t\tthis.isEnabled = model.schema.checkAttribute( selectedElement, 'linkHref' );\n\t\t} else {\n\t\t\tthis.value = doc.selection.getAttribute( 'linkHref' );\n\t\t\tthis.isEnabled = model.schema.checkAttributeInSelection( doc.selection, 'linkHref' );\n\t\t}\n\n\t\tfor ( const manualDecorator of this.manualDecorators ) {\n\t\t\tmanualDecorator.value = this._getDecoratorStateFromModel( manualDecorator.id );\n\t\t}\n\t}\n\n\t/**\n\t * Executes the command.\n\t *\n\t * When the selection is non-collapsed, the `linkHref` attribute will be applied to nodes inside the selection, but only to\n\t * those nodes where the `linkHref` attribute is allowed (disallowed nodes will be omitted).\n\t *\n\t * When the selection is collapsed and is not inside the text with the `linkHref` attribute, a\n\t * new {@link module:engine/model/text~Text text node} with the `linkHref` attribute will be inserted in place of the caret, but\n\t * only if such element is allowed in this place. The `_data` of the inserted text will equal the `href` parameter.\n\t * The selection will be updated to wrap the just inserted text node.\n\t *\n\t * When the selection is collapsed and inside the text with the `linkHref` attribute, the attribute value will be updated.\n\t *\n\t * # Decorators and model attribute management\n\t *\n\t * There is an optional argument to this command that applies or removes model\n\t * {@glink framework/guides/architecture/editing-engine#text-attributes text attributes} brought by\n\t * {@link module:link/utils~ManualDecorator manual link decorators}.\n\t *\n\t * Text attribute names in the model correspond to the entries in the {@link module:link/link~LinkConfig#decorators configuration}.\n\t * For every decorator configured, a model text attribute exists with the \"link\" prefix. For example, a `'linkMyDecorator'` attribute\n\t * corresponds to `'myDecorator'` in the configuration.\n\t *\n\t * To learn more about link decorators, check out the {@link module:link/link~LinkConfig#decorators `config.link.decorators`}\n\t * documentation.\n\t *\n\t * Here is how to manage decorator attributes with the link command:\n\t *\n\t *\t\tconst linkCommand = editor.commands.get( 'link' );\n\t *\n\t *\t\t// Adding a new decorator attribute.\n\t *\t\tlinkCommand.execute( 'http://example.com', {\n\t *\t\t\tlinkIsExternal: true\n\t *\t\t} );\n\t *\n\t *\t\t// Removing a decorator attribute from the selection.\n\t *\t\tlinkCommand.execute( 'http://example.com', {\n\t *\t\t\tlinkIsExternal: false\n\t *\t\t} );\n\t *\n\t *\t\t// Adding multiple decorator attributes at the same time.\n\t *\t\tlinkCommand.execute( 'http://example.com', {\n\t *\t\t\tlinkIsExternal: true,\n\t *\t\t\tlinkIsDownloadable: true,\n\t *\t\t} );\n\t *\n\t *\t\t// Removing and adding decorator attributes at the same time.\n\t *\t\tlinkCommand.execute( 'http://example.com', {\n\t *\t\t\tlinkIsExternal: false,\n\t *\t\t\tlinkFoo: true,\n\t *\t\t\tlinkIsDownloadable: false,\n\t *\t\t} );\n\t *\n\t * **Note**: If the decorator attribute name is not specified, its state remains untouched.\n\t *\n\t * **Note**: {@link module:link/unlinkcommand~UnlinkCommand#execute `UnlinkCommand#execute()`} removes all\n\t * decorator attributes.\n\t *\n\t * @fires execute\n\t * @param {String} href Link destination.\n\t * @param {Object} [manualDecoratorIds={}] The information about manual decorator attributes to be applied or removed upon execution.\n\t */\n\texecute( href, manualDecoratorIds = {} ) {\n\t\tconst model = this.editor.model;\n\t\tconst selection = model.document.selection;\n\t\t// Stores information about manual decorators to turn them on/off when command is applied.\n\t\tconst truthyManualDecorators = [];\n\t\tconst falsyManualDecorators = [];\n\n\t\tfor ( const name in manualDecoratorIds ) {\n\t\t\tif ( manualDecoratorIds[ name ] ) {\n\t\t\t\ttruthyManualDecorators.push( name );\n\t\t\t} else {\n\t\t\t\tfalsyManualDecorators.push( name );\n\t\t\t}\n\t\t}\n\n\t\tmodel.change( writer => {\n\t\t\t// If selection is collapsed then update selected link or insert new one at the place of caret.\n\t\t\tif ( selection.isCollapsed ) {\n\t\t\t\tconst position = selection.getFirstPosition();\n\n\t\t\t\t// When selection is inside text with `linkHref` attribute.\n\t\t\t\tif ( selection.hasAttribute( 'linkHref' ) ) {\n\t\t\t\t\t// Then update `linkHref` value.\n\t\t\t\t\tconst linkRange = findAttributeRange( position, 'linkHref', selection.getAttribute( 'linkHref' ), model );\n\n\t\t\t\t\twriter.setAttribute( 'linkHref', href, linkRange );\n\n\t\t\t\t\ttruthyManualDecorators.forEach( item => {\n\t\t\t\t\t\twriter.setAttribute( item, true, linkRange );\n\t\t\t\t\t} );\n\n\t\t\t\t\tfalsyManualDecorators.forEach( item => {\n\t\t\t\t\t\twriter.removeAttribute( item, linkRange );\n\t\t\t\t\t} );\n\n\t\t\t\t\t// Put the selection at the end of the updated link.\n\t\t\t\t\twriter.setSelection( writer.createPositionAfter( linkRange.end.nodeBefore ) );\n\t\t\t\t}\n\t\t\t\t// If not then insert text node with `linkHref` attribute in place of caret.\n\t\t\t\t// However, since selection is collapsed, attribute value will be used as data for text node.\n\t\t\t\t// So, if `href` is empty, do not create text node.\n\t\t\t\telse if ( href !== '' ) {\n\t\t\t\t\tconst attributes = toMap( selection.getAttributes() );\n\n\t\t\t\t\tattributes.set( 'linkHref', href );\n\n\t\t\t\t\ttruthyManualDecorators.forEach( item => {\n\t\t\t\t\t\tattributes.set( item, true );\n\t\t\t\t\t} );\n\n\t\t\t\t\tconst { end: positionAfter } = model.insertContent( writer.createText( href, attributes ), position );\n\n\t\t\t\t\t// Put the selection at the end of the inserted link.\n\t\t\t\t\t// Using end of range returned from insertContent in case nodes with the same attributes got merged.\n\t\t\t\t\twriter.setSelection( positionAfter );\n\t\t\t\t}\n\n\t\t\t\t// Remove the `linkHref` attribute and all link decorators from the selection.\n\t\t\t\t// It stops adding a new content into the link element.\n\t\t\t\t[ 'linkHref', ...truthyManualDecorators, ...falsyManualDecorators ].forEach( item => {\n\t\t\t\t\twriter.removeSelectionAttribute( item );\n\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\t// If selection has non-collapsed ranges, we change attribute on nodes inside those ranges\n\t\t\t\t// omitting nodes where the `linkHref` attribute is disallowed.\n\t\t\t\tconst ranges = model.schema.getValidRanges( selection.getRanges(), 'linkHref' );\n\n\t\t\t\t// But for the first, check whether the `linkHref` attribute is allowed on selected blocks (e.g. the \"image\" element).\n\t\t\t\tconst allowedRanges = [];\n\n\t\t\t\tfor ( const element of selection.getSelectedBlocks() ) {\n\t\t\t\t\tif ( model.schema.checkAttribute( element, 'linkHref' ) ) {\n\t\t\t\t\t\tallowedRanges.push( writer.createRangeOn( element ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Ranges that accept the `linkHref` attribute. Since we will iterate over `allowedRanges`, let's clone it.\n\t\t\t\tconst rangesToUpdate = allowedRanges.slice();\n\n\t\t\t\t// For all selection ranges we want to check whether given range is inside an element that accepts the `linkHref` attribute.\n\t\t\t\t// If so, we don't want to propagate applying the attribute to its children.\n\t\t\t\tfor ( const range of ranges ) {\n\t\t\t\t\tif ( this._isRangeToUpdate( range, allowedRanges ) ) {\n\t\t\t\t\t\trangesToUpdate.push( range );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor ( const range of rangesToUpdate ) {\n\t\t\t\t\twriter.setAttribute( 'linkHref', href, range );\n\n\t\t\t\t\ttruthyManualDecorators.forEach( item => {\n\t\t\t\t\t\twriter.setAttribute( item, true, range );\n\t\t\t\t\t} );\n\n\t\t\t\t\tfalsyManualDecorators.forEach( item => {\n\t\t\t\t\t\twriter.removeAttribute( item, range );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t}\n\n\t/**\n\t * Provides information whether a decorator with a given name is present in the currently processed selection.\n\t *\n\t * @private\n\t * @param {String} decoratorName The name of the manual decorator used in the model\n\t * @returns {Boolean} The information whether a given decorator is currently present in the selection.\n\t */\n\t_getDecoratorStateFromModel( decoratorName ) {\n\t\tconst model = this.editor.model;\n\t\tconst doc = model.document;\n\n\t\tconst selectedElement = first( doc.selection.getSelectedBlocks() );\n\n\t\t// A check for the `LinkImage` plugin. If the selection contains an element, get values from the element.\n\t\t// Currently the selection reads attributes from text nodes only. See #7429 and #7465.\n\t\tif ( isImageAllowed( selectedElement, model.schema ) ) {\n\t\t\treturn selectedElement.getAttribute( decoratorName );\n\t\t}\n\n\t\treturn doc.selection.getAttribute( decoratorName );\n\t}\n\n\t/**\n\t * Checks whether specified `range` is inside an element that accepts the `linkHref` attribute.\n\t *\n\t * @private\n\t * @param {module:engine/view/range~Range} range A range to check.\n\t * @param {Array.<module:engine/view/range~Range>} allowedRanges An array of ranges created on elements where the attribute is accepted.\n\t * @returns {Boolean}\n\t */\n\t_isRangeToUpdate( range, allowedRanges ) {\n\t\tfor ( const allowedRange of allowedRanges ) {\n\t\t\t// A range is inside an element that will have the `linkHref` attribute. Do not modify its nodes.\n\t\t\tif ( allowedRange.containsRange( range ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n}\n"]}]}