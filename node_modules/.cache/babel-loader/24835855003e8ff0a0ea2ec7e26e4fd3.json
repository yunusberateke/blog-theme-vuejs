{"remainingRequest":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/babel-loader/lib/index.js!/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js?{}!/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-engine/src/controller/editingcontroller.js","dependencies":[{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-engine/src/controller/editingcontroller.js","mtime":499162500000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvaG9tZS9la2ViZXJhdC9ZYW5kZXguRGlzay9Qcm9qZWxlcmltL0JlbmltUHJvamVsZXJpbS93ZWJzaXRlbS93ZWJzaXRlbS13ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvaG9tZS9la2ViZXJhdC9ZYW5kZXguRGlzay9Qcm9qZWxlcmltL0JlbmltUHJvamVsZXJpbS93ZWJzaXRlbS93ZWJzaXRlbS13ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CgovKioKICogQGxpY2Vuc2UgQ29weXJpZ2h0IChjKSAyMDAzLTIwMjEsIENLU291cmNlIC0gRnJlZGVyaWNvIEtuYWJiZW4uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqIEZvciBsaWNlbnNpbmcsIHNlZSBMSUNFTlNFLm1kIG9yIGh0dHBzOi8vY2tlZGl0b3IuY29tL2xlZ2FsL2NrZWRpdG9yLW9zcy1saWNlbnNlCiAqLwoKLyoqCiAqIEBtb2R1bGUgZW5naW5lL2NvbnRyb2xsZXIvZWRpdGluZ2NvbnRyb2xsZXIKICovCmltcG9ydCBSb290RWRpdGFibGVFbGVtZW50IGZyb20gJy4uL3ZpZXcvcm9vdGVkaXRhYmxlZWxlbWVudCc7CmltcG9ydCBWaWV3IGZyb20gJy4uL3ZpZXcvdmlldyc7CmltcG9ydCBNYXBwZXIgZnJvbSAnLi4vY29udmVyc2lvbi9tYXBwZXInOwppbXBvcnQgRG93bmNhc3REaXNwYXRjaGVyIGZyb20gJy4uL2NvbnZlcnNpb24vZG93bmNhc3RkaXNwYXRjaGVyJzsKaW1wb3J0IHsgY2xlYXJBdHRyaWJ1dGVzLCBjb252ZXJ0Q29sbGFwc2VkU2VsZWN0aW9uLCBjb252ZXJ0UmFuZ2VTZWxlY3Rpb24sIGluc2VydFRleHQsIHJlbW92ZSB9IGZyb20gJy4uL2NvbnZlcnNpb24vZG93bmNhc3RoZWxwZXJzJzsKaW1wb3J0IE9ic2VydmFibGVNaXhpbiBmcm9tICdAY2tlZGl0b3IvY2tlZGl0b3I1LXV0aWxzL3NyYy9vYnNlcnZhYmxlbWl4aW4nOwppbXBvcnQgbWl4IGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtdXRpbHMvc3JjL21peCc7CmltcG9ydCB7IGNvbnZlcnRTZWxlY3Rpb25DaGFuZ2UgfSBmcm9tICcuLi9jb252ZXJzaW9uL3VwY2FzdGhlbHBlcnMnOyAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vIGNvbnN0IHsgZHVtcFRyZWVzLCBpbml0RG9jdW1lbnREdW1waW5nIH0gPSByZXF1aXJlKCAnLi4vZGV2LXV0aWxzL3V0aWxzJyApOwoKLyoqCiAqIENvbnRyb2xsZXIgZm9yIHRoZSBlZGl0aW5nIHBpcGVsaW5lLiBUaGUgZWRpdGluZyBwaXBlbGluZSBjb250cm9scyB7QGxpbmsgfkVkaXRpbmdDb250cm9sbGVyI21vZGVsIG1vZGVsfSByZW5kZXJpbmcsCiAqIGluY2x1ZGluZyBzZWxlY3Rpb24gaGFuZGxpbmcuIEl0IGFsc28gY3JlYXRlcyB0aGUge0BsaW5rIH5FZGl0aW5nQ29udHJvbGxlciN2aWV3IHZpZXd9IHdoaWNoIGJ1aWxkcyBhCiAqIGJyb3dzZXItaW5kZXBlbmRlbnQgdmlydHVhbGl6YXRpb24gb3ZlciB0aGUgRE9NIGVsZW1lbnRzLiBUaGUgZWRpdGluZyBjb250cm9sbGVyIGFsc28gYXR0YWNoZXMgZGVmYXVsdCBjb252ZXJ0ZXJzLgogKgogKiBAbWl4ZXMgbW9kdWxlOnV0aWxzL29ic2VydmFibGVtaXhpbn5PYnNlcnZhYmxlTWl4aW4KICovCgp2YXIgRWRpdGluZ0NvbnRyb2xsZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIC8qKgogICAqIENyZWF0ZXMgYW4gZWRpdGluZyBjb250cm9sbGVyIGluc3RhbmNlLgogICAqCiAgICogQHBhcmFtIHttb2R1bGU6ZW5naW5lL21vZGVsL21vZGVsfk1vZGVsfSBtb2RlbCBFZGl0aW5nIG1vZGVsLgogICAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS92aWV3L3N0eWxlc21hcH5TdHlsZXNQcm9jZXNzb3J9IHN0eWxlc1Byb2Nlc3NvciBUaGUgc3R5bGVzIHByb2Nlc3NvciBpbnN0YW5jZS4KICAgKi8KICBmdW5jdGlvbiBFZGl0aW5nQ29udHJvbGxlcihtb2RlbCwgc3R5bGVzUHJvY2Vzc29yKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFZGl0aW5nQ29udHJvbGxlcik7CgogICAgLyoqCiAgICAgKiBFZGl0b3IgbW9kZWwuCiAgICAgKgogICAgICogQHJlYWRvbmx5CiAgICAgKiBAbWVtYmVyIHttb2R1bGU6ZW5naW5lL21vZGVsL21vZGVsfk1vZGVsfQogICAgICovCiAgICB0aGlzLm1vZGVsID0gbW9kZWw7CiAgICAvKioKICAgICAqIEVkaXRpbmcgdmlldyBjb250cm9sbGVyLgogICAgICoKICAgICAqIEByZWFkb25seQogICAgICogQG1lbWJlciB7bW9kdWxlOmVuZ2luZS92aWV3L3ZpZXd+Vmlld30KICAgICAqLwoKICAgIHRoaXMudmlldyA9IG5ldyBWaWV3KHN0eWxlc1Byb2Nlc3Nvcik7CiAgICAvKioKICAgICAqIE1hcHBlciB3aGljaCBkZXNjcmliZXMgdGhlIG1vZGVsLXZpZXcgYmluZGluZy4KICAgICAqCiAgICAgKiBAcmVhZG9ubHkKICAgICAqIEBtZW1iZXIge21vZHVsZTplbmdpbmUvY29udmVyc2lvbi9tYXBwZXJ+TWFwcGVyfQogICAgICovCgogICAgdGhpcy5tYXBwZXIgPSBuZXcgTWFwcGVyKCk7CiAgICAvKioKICAgICAqIERvd25jYXN0IGRpc3BhdGNoZXIgdGhhdCBjb252ZXJ0cyBjaGFuZ2VzIGZyb20gdGhlIG1vZGVsIHRvIHtAbGluayAjdmlldyB0aGUgZWRpdGluZyB2aWV3fS4KICAgICAqCiAgICAgKiBAcmVhZG9ubHkKICAgICAqIEBtZW1iZXIge21vZHVsZTplbmdpbmUvY29udmVyc2lvbi9kb3duY2FzdGRpc3BhdGNoZXJ+RG93bmNhc3REaXNwYXRjaGVyfSAjZG93bmNhc3REaXNwYXRjaGVyCiAgICAgKi8KCiAgICB0aGlzLmRvd25jYXN0RGlzcGF0Y2hlciA9IG5ldyBEb3duY2FzdERpc3BhdGNoZXIoewogICAgICBtYXBwZXI6IHRoaXMubWFwcGVyLAogICAgICBzY2hlbWE6IG1vZGVsLnNjaGVtYQogICAgfSk7CiAgICB2YXIgZG9jID0gdGhpcy5tb2RlbC5kb2N1bWVudDsKICAgIHZhciBzZWxlY3Rpb24gPSBkb2Muc2VsZWN0aW9uOwogICAgdmFyIG1hcmtlcnMgPSB0aGlzLm1vZGVsLm1hcmtlcnM7IC8vIFdoZW4gcGx1Z2lucyBsaXN0ZW4gb24gbW9kZWwgY2hhbmdlcyAob24gc2VsZWN0aW9uIGNoYW5nZSwgcG9zdCBmaXhlcnMsIGV0Yy4pIGFuZCBjaGFuZ2UgdGhlIHZpZXcgYXMgYSByZXN1bHQgb2YKICAgIC8vIG1vZGVsJ3MgY2hhbmdlLCB0aGV5IG1pZ2h0IHRyaWdnZXIgdmlldyByZW5kZXJpbmcgYmVmb3JlIHRoZSBjb252ZXJzaW9uIGlzIGNvbXBsZXRlZCAoZS5nLiBiZWZvcmUgdGhlIHNlbGVjdGlvbgogICAgLy8gaXMgY29udmVydGVkKS4gV2UgZGlzYWJsZSByZW5kZXJpbmcgZm9yIHRoZSBsZW5ndGggb2YgdGhlIG91dGVybW9zdCBtb2RlbCBjaGFuZ2UoKSBibG9jayB0byBwcmV2ZW50IHRoYXQuCiAgICAvLwogICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ja2VkaXRvci9ja2VkaXRvcjUtZW5naW5lL2lzc3Vlcy8xNTI4CgogICAgdGhpcy5saXN0ZW5Ubyh0aGlzLm1vZGVsLCAnX2JlZm9yZUNoYW5nZXMnLCBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLnZpZXcuX2Rpc2FibGVSZW5kZXJpbmcodHJ1ZSk7CiAgICB9LCB7CiAgICAgIHByaW9yaXR5OiAnaGlnaGVzdCcKICAgIH0pOwogICAgdGhpcy5saXN0ZW5Ubyh0aGlzLm1vZGVsLCAnX2FmdGVyQ2hhbmdlcycsIGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMudmlldy5fZGlzYWJsZVJlbmRlcmluZyhmYWxzZSk7CiAgICB9LCB7CiAgICAgIHByaW9yaXR5OiAnbG93ZXN0JwogICAgfSk7IC8vIFdoZW5ldmVyIG1vZGVsIGRvY3VtZW50IGlzIGNoYW5nZWQsIGNvbnZlcnQgdGhvc2UgY2hhbmdlcyB0byB0aGUgdmlldyAodXNpbmcgbW9kZWwuRG9jdW1lbnQjZGlmZmVyKS4KICAgIC8vIERvIGl0IG9uICdsb3cnIHByaW9yaXR5LCBzbyBjaGFuZ2VzIGFyZSBjb252ZXJ0ZWQgYWZ0ZXIgb3RoZXIgbGlzdGVuZXJzIGRpZCB0aGVpciBqb2IuCiAgICAvLyBBbHNvIGNvbnZlcnQgbW9kZWwgc2VsZWN0aW9uLgoKICAgIHRoaXMubGlzdGVuVG8oZG9jLCAnY2hhbmdlJywgZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy52aWV3LmNoYW5nZShmdW5jdGlvbiAod3JpdGVyKSB7CiAgICAgICAgX3RoaXMuZG93bmNhc3REaXNwYXRjaGVyLmNvbnZlcnRDaGFuZ2VzKGRvYy5kaWZmZXIsIG1hcmtlcnMsIHdyaXRlcik7CgogICAgICAgIF90aGlzLmRvd25jYXN0RGlzcGF0Y2hlci5jb252ZXJ0U2VsZWN0aW9uKHNlbGVjdGlvbiwgbWFya2Vycywgd3JpdGVyKTsKICAgICAgfSk7CiAgICB9LCB7CiAgICAgIHByaW9yaXR5OiAnbG93JwogICAgfSk7IC8vIENvbnZlcnQgc2VsZWN0aW9uIGZyb20gdGhlIHZpZXcgdG8gdGhlIG1vZGVsIHdoZW4gaXQgY2hhbmdlcyBpbiB0aGUgdmlldy4KCiAgICB0aGlzLmxpc3RlblRvKHRoaXMudmlldy5kb2N1bWVudCwgJ3NlbGVjdGlvbkNoYW5nZScsIGNvbnZlcnRTZWxlY3Rpb25DaGFuZ2UodGhpcy5tb2RlbCwgdGhpcy5tYXBwZXIpKTsgLy8gQXR0YWNoIGRlZmF1bHQgbW9kZWwgY29udmVydGVycy4KCiAgICB0aGlzLmRvd25jYXN0RGlzcGF0Y2hlci5vbignaW5zZXJ0OiR0ZXh0JywgaW5zZXJ0VGV4dCgpLCB7CiAgICAgIHByaW9yaXR5OiAnbG93ZXN0JwogICAgfSk7CiAgICB0aGlzLmRvd25jYXN0RGlzcGF0Y2hlci5vbigncmVtb3ZlJywgcmVtb3ZlKCksIHsKICAgICAgcHJpb3JpdHk6ICdsb3cnCiAgICB9KTsgLy8gQXR0YWNoIGRlZmF1bHQgbW9kZWwgc2VsZWN0aW9uIGNvbnZlcnRlcnMuCgogICAgdGhpcy5kb3duY2FzdERpc3BhdGNoZXIub24oJ3NlbGVjdGlvbicsIGNsZWFyQXR0cmlidXRlcygpLCB7CiAgICAgIHByaW9yaXR5OiAnbG93JwogICAgfSk7CiAgICB0aGlzLmRvd25jYXN0RGlzcGF0Y2hlci5vbignc2VsZWN0aW9uJywgY29udmVydFJhbmdlU2VsZWN0aW9uKCksIHsKICAgICAgcHJpb3JpdHk6ICdsb3cnCiAgICB9KTsKICAgIHRoaXMuZG93bmNhc3REaXNwYXRjaGVyLm9uKCdzZWxlY3Rpb24nLCBjb252ZXJ0Q29sbGFwc2VkU2VsZWN0aW9uKCksIHsKICAgICAgcHJpb3JpdHk6ICdsb3cnCiAgICB9KTsgLy8gQmluZHMge0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy9kb2N1bWVudH5Eb2N1bWVudCNyb290cyB2aWV3IHJvb3RzIGNvbGxlY3Rpb259IHRvCiAgICAvLyB7QGxpbmsgbW9kdWxlOmVuZ2luZS9tb2RlbC9kb2N1bWVudH5Eb2N1bWVudCNyb290cyBtb2RlbCByb290cyBjb2xsZWN0aW9ufSBzbyBjcmVhdGluZwogICAgLy8gbW9kZWwgcm9vdCBhdXRvbWF0aWNhbGx5IGNyZWF0ZXMgY29ycmVzcG9uZGluZyB2aWV3IHJvb3QuCgogICAgdGhpcy52aWV3LmRvY3VtZW50LnJvb3RzLmJpbmRUbyh0aGlzLm1vZGVsLmRvY3VtZW50LnJvb3RzKS51c2luZyhmdW5jdGlvbiAocm9vdCkgewogICAgICAvLyAkZ3JhdmV5YXJkIGlzIGEgc3BlY2lhbCByb290IHRoYXQgaGFzIG5vIHJlZmxlY3Rpb24gaW4gdGhlIHZpZXcuCiAgICAgIGlmIChyb290LnJvb3ROYW1lID09ICckZ3JhdmV5YXJkJykgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CgogICAgICB2YXIgdmlld1Jvb3QgPSBuZXcgUm9vdEVkaXRhYmxlRWxlbWVudChfdGhpcy52aWV3LmRvY3VtZW50LCByb290Lm5hbWUpOwogICAgICB2aWV3Um9vdC5yb290TmFtZSA9IHJvb3Qucm9vdE5hbWU7CgogICAgICBfdGhpcy5tYXBwZXIuYmluZEVsZW1lbnRzKHJvb3QsIHZpZXdSb290KTsKCiAgICAgIHJldHVybiB2aWV3Um9vdDsKICAgIH0pOyAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vIGluaXREb2N1bWVudER1bXBpbmcoIHRoaXMubW9kZWwuZG9jdW1lbnQgKTsKICAgIC8vIEBpZiBDS19ERUJVR19FTkdJTkUgLy8gaW5pdERvY3VtZW50RHVtcGluZyggdGhpcy52aWV3LmRvY3VtZW50ICk7CiAgICAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vIGR1bXBUcmVlcyggdGhpcy5tb2RlbC5kb2N1bWVudCwgdGhpcy5tb2RlbC5kb2N1bWVudC52ZXJzaW9uICk7CiAgICAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vIGR1bXBUcmVlcyggdGhpcy52aWV3LmRvY3VtZW50LCB0aGlzLm1vZGVsLmRvY3VtZW50LnZlcnNpb24gKTsKICAgIC8vIEBpZiBDS19ERUJVR19FTkdJTkUgLy8gdGhpcy5tb2RlbC5kb2N1bWVudC5vbiggJ2NoYW5nZScsICgpID0+IHsKICAgIC8vIEBpZiBDS19ERUJVR19FTkdJTkUgLy8JZHVtcFRyZWVzKCB0aGlzLnZpZXcuZG9jdW1lbnQsIHRoaXMubW9kZWwuZG9jdW1lbnQudmVyc2lvbiApOwogICAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLyB9LCB7IHByaW9yaXR5OiAnbG93ZXN0JyB9ICk7CiAgfQogIC8qKgogICAqIFJlbW92ZXMgYWxsIGV2ZW50IGxpc3RlbmVycyBhdHRhY2hlZCB0byB0aGUgYEVkaXRpbmdDb250cm9sbGVyYC4gRGVzdHJveXMgYWxsIG9iamVjdHMgY3JlYXRlZAogICAqIGJ5IGBFZGl0aW5nQ29udHJvbGxlcmAgdGhhdCBuZWVkIHRvIGJlIGRlc3Ryb3llZC4KICAgKi8KCgogIF9jcmVhdGVDbGFzcyhFZGl0aW5nQ29udHJvbGxlciwgW3sKICAgIGtleTogImRlc3Ryb3kiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7CiAgICAgIHRoaXMudmlldy5kZXN0cm95KCk7CiAgICAgIHRoaXMuc3RvcExpc3RlbmluZygpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEVkaXRpbmdDb250cm9sbGVyOwp9KCk7CgpleHBvcnQgeyBFZGl0aW5nQ29udHJvbGxlciBhcyBkZWZhdWx0IH07Cm1peChFZGl0aW5nQ29udHJvbGxlciwgT2JzZXJ2YWJsZU1peGluKTs="},{"version":3,"sources":["/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-engine/src/controller/editingcontroller.js"],"names":["RootEditableElement","View","Mapper","DowncastDispatcher","clearAttributes","convertCollapsedSelection","convertRangeSelection","insertText","remove","ObservableMixin","mix","convertSelectionChange","EditingController","model","stylesProcessor","view","mapper","downcastDispatcher","schema","doc","document","selection","markers","listenTo","_disableRendering","priority","change","writer","convertChanges","differ","convertSelection","on","roots","bindTo","using","root","rootName","viewRoot","name","bindElements","destroy","stopListening"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module engine/controller/editingcontroller\n */\n\nimport RootEditableElement from '../view/rooteditableelement';\nimport View from '../view/view';\nimport Mapper from '../conversion/mapper';\nimport DowncastDispatcher from '../conversion/downcastdispatcher';\nimport { clearAttributes, convertCollapsedSelection, convertRangeSelection, insertText, remove } from '../conversion/downcasthelpers';\n\nimport ObservableMixin from '@ckeditor/ckeditor5-utils/src/observablemixin';\nimport mix from '@ckeditor/ckeditor5-utils/src/mix';\nimport { convertSelectionChange } from '../conversion/upcasthelpers';\n\n// @if CK_DEBUG_ENGINE // const { dumpTrees, initDocumentDumping } = require( '../dev-utils/utils' );\n\n/**\n * Controller for the editing pipeline. The editing pipeline controls {@link ~EditingController#model model} rendering,\n * including selection handling. It also creates the {@link ~EditingController#view view} which builds a\n * browser-independent virtualization over the DOM elements. The editing controller also attaches default converters.\n *\n * @mixes module:utils/observablemixin~ObservableMixin\n */\nexport default class EditingController {\n\t/**\n\t * Creates an editing controller instance.\n\t *\n\t * @param {module:engine/model/model~Model} model Editing model.\n\t * @param {module:engine/view/stylesmap~StylesProcessor} stylesProcessor The styles processor instance.\n\t */\n\tconstructor( model, stylesProcessor ) {\n\t\t/**\n\t\t * Editor model.\n\t\t *\n\t\t * @readonly\n\t\t * @member {module:engine/model/model~Model}\n\t\t */\n\t\tthis.model = model;\n\n\t\t/**\n\t\t * Editing view controller.\n\t\t *\n\t\t * @readonly\n\t\t * @member {module:engine/view/view~View}\n\t\t */\n\t\tthis.view = new View( stylesProcessor );\n\n\t\t/**\n\t\t * Mapper which describes the model-view binding.\n\t\t *\n\t\t * @readonly\n\t\t * @member {module:engine/conversion/mapper~Mapper}\n\t\t */\n\t\tthis.mapper = new Mapper();\n\n\t\t/**\n\t\t * Downcast dispatcher that converts changes from the model to {@link #view the editing view}.\n\t\t *\n\t\t * @readonly\n\t\t * @member {module:engine/conversion/downcastdispatcher~DowncastDispatcher} #downcastDispatcher\n\t\t */\n\t\tthis.downcastDispatcher = new DowncastDispatcher( {\n\t\t\tmapper: this.mapper,\n\t\t\tschema: model.schema\n\t\t} );\n\n\t\tconst doc = this.model.document;\n\t\tconst selection = doc.selection;\n\t\tconst markers = this.model.markers;\n\n\t\t// When plugins listen on model changes (on selection change, post fixers, etc.) and change the view as a result of\n\t\t// model's change, they might trigger view rendering before the conversion is completed (e.g. before the selection\n\t\t// is converted). We disable rendering for the length of the outermost model change() block to prevent that.\n\t\t//\n\t\t// See https://github.com/ckeditor/ckeditor5-engine/issues/1528\n\t\tthis.listenTo( this.model, '_beforeChanges', () => {\n\t\t\tthis.view._disableRendering( true );\n\t\t}, { priority: 'highest' } );\n\n\t\tthis.listenTo( this.model, '_afterChanges', () => {\n\t\t\tthis.view._disableRendering( false );\n\t\t}, { priority: 'lowest' } );\n\n\t\t// Whenever model document is changed, convert those changes to the view (using model.Document#differ).\n\t\t// Do it on 'low' priority, so changes are converted after other listeners did their job.\n\t\t// Also convert model selection.\n\t\tthis.listenTo( doc, 'change', () => {\n\t\t\tthis.view.change( writer => {\n\t\t\t\tthis.downcastDispatcher.convertChanges( doc.differ, markers, writer );\n\t\t\t\tthis.downcastDispatcher.convertSelection( selection, markers, writer );\n\t\t\t} );\n\t\t}, { priority: 'low' } );\n\n\t\t// Convert selection from the view to the model when it changes in the view.\n\t\tthis.listenTo( this.view.document, 'selectionChange', convertSelectionChange( this.model, this.mapper ) );\n\n\t\t// Attach default model converters.\n\t\tthis.downcastDispatcher.on( 'insert:$text', insertText(), { priority: 'lowest' } );\n\t\tthis.downcastDispatcher.on( 'remove', remove(), { priority: 'low' } );\n\n\t\t// Attach default model selection converters.\n\t\tthis.downcastDispatcher.on( 'selection', clearAttributes(), { priority: 'low' } );\n\t\tthis.downcastDispatcher.on( 'selection', convertRangeSelection(), { priority: 'low' } );\n\t\tthis.downcastDispatcher.on( 'selection', convertCollapsedSelection(), { priority: 'low' } );\n\n\t\t// Binds {@link module:engine/view/document~Document#roots view roots collection} to\n\t\t// {@link module:engine/model/document~Document#roots model roots collection} so creating\n\t\t// model root automatically creates corresponding view root.\n\t\tthis.view.document.roots.bindTo( this.model.document.roots ).using( root => {\n\t\t\t// $graveyard is a special root that has no reflection in the view.\n\t\t\tif ( root.rootName == '$graveyard' ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst viewRoot = new RootEditableElement( this.view.document, root.name );\n\n\t\t\tviewRoot.rootName = root.rootName;\n\t\t\tthis.mapper.bindElements( root, viewRoot );\n\n\t\t\treturn viewRoot;\n\t\t} );\n\n\t\t// @if CK_DEBUG_ENGINE // initDocumentDumping( this.model.document );\n\t\t// @if CK_DEBUG_ENGINE // initDocumentDumping( this.view.document );\n\n\t\t// @if CK_DEBUG_ENGINE // dumpTrees( this.model.document, this.model.document.version );\n\t\t// @if CK_DEBUG_ENGINE // dumpTrees( this.view.document, this.model.document.version );\n\n\t\t// @if CK_DEBUG_ENGINE // this.model.document.on( 'change', () => {\n\t\t// @if CK_DEBUG_ENGINE //\tdumpTrees( this.view.document, this.model.document.version );\n\t\t// @if CK_DEBUG_ENGINE // }, { priority: 'lowest' } );\n\t}\n\n\t/**\n\t * Removes all event listeners attached to the `EditingController`. Destroys all objects created\n\t * by `EditingController` that need to be destroyed.\n\t */\n\tdestroy() {\n\t\tthis.view.destroy();\n\t\tthis.stopListening();\n\t}\n}\n\nmix( EditingController, ObservableMixin );\n"]}]}