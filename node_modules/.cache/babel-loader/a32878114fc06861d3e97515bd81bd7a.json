{"remainingRequest":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/babel-loader/lib/index.js!/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js?{}!/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-widget/src/highlightstack.js","dependencies":[{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-widget/src/highlightstack.js","mtime":499162500000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvaG9tZS9la2ViZXJhdC9ZYW5kZXguRGlzay9Qcm9qZWxlcmltL0JlbmltUHJvamVsZXJpbS93ZWJzaXRlbS93ZWJzaXRlbS13ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvaG9tZS9la2ViZXJhdC9ZYW5kZXguRGlzay9Qcm9qZWxlcmltL0JlbmltUHJvamVsZXJpbS93ZWJzaXRlbS93ZWJzaXRlbS13ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwoKLyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDIxLCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIHdpZGdldC9oaWdobGlnaHRzdGFjawogKi8KaW1wb3J0IEVtaXR0ZXJNaXhpbiBmcm9tICdAY2tlZGl0b3IvY2tlZGl0b3I1LXV0aWxzL3NyYy9lbWl0dGVybWl4aW4nOwppbXBvcnQgbWl4IGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtdXRpbHMvc3JjL21peCc7Ci8qKgogKiBDbGFzcyB1c2VkIHRvIGhhbmRsZSBjb3JyZWN0IG9yZGVyIG9mIGhpZ2hsaWdodHMgb24gZWxlbWVudHMuCiAqCiAqIFdoZW4gZGlmZmVyZW50IGhpZ2hsaWdodHMgYXJlIGFwcGxpZWQgdG8gc2FtZSBlbGVtZW50IGNvcnJlY3Qgb3JkZXIgc2hvdWxkIGJlIHByZXNlcnZlZDoKICoKICogKiBoaWdobGlnaHQgd2l0aCBoaWdoZXN0IHByaW9yaXR5IHNob3VsZCBiZSBhcHBsaWVkLAogKiAqIGlmIHR3byBoaWdobGlnaHRzIGhhdmUgc2FtZSBwcmlvcml0eSAtIHNvcnQgYnkgQ1NTIGNsYXNzIHByb3ZpZGVkIGluCiAqIHtAbGluayBtb2R1bGU6ZW5naW5lL2NvbnZlcnNpb24vZG93bmNhc3RoZWxwZXJzfkhpZ2hsaWdodERlc2NyaXB0b3J9LgogKgogKiBUaGlzIHdheSwgaGlnaGxpZ2h0IHdpbGwgYmUgYXBwbGllZCB3aXRoIHRoZSBzYW1lIHJ1bGVzIGl0IGlzIGFwcGxpZWQgb24gdGV4dHMuCiAqLwoKdmFyIEhpZ2hsaWdodFN0YWNrID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAvKioKICAgKiBDcmVhdGVzIGNsYXNzIGluc3RhbmNlLgogICAqLwogIGZ1bmN0aW9uIEhpZ2hsaWdodFN0YWNrKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhpZ2hsaWdodFN0YWNrKTsKCiAgICB0aGlzLl9zdGFjayA9IFtdOwogIH0KICAvKioKICAgKiBBZGRzIGhpZ2hsaWdodCBkZXNjcmlwdG9yIHRvIHRoZSBzdGFjay4KICAgKgogICAqIEBmaXJlcyBjaGFuZ2U6dG9wCiAgICogQHBhcmFtIHttb2R1bGU6ZW5naW5lL2NvbnZlcnNpb24vZG93bmNhc3RoZWxwZXJzfkhpZ2hsaWdodERlc2NyaXB0b3J9IGRlc2NyaXB0b3IKICAgKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvdmlldy9kb3duY2FzdHdyaXRlcn5Eb3duY2FzdFdyaXRlcn0gd3JpdGVyCiAgICovCgoKICBfY3JlYXRlQ2xhc3MoSGlnaGxpZ2h0U3RhY2ssIFt7CiAgICBrZXk6ICJhZGQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZChkZXNjcmlwdG9yLCB3cml0ZXIpIHsKICAgICAgdmFyIHN0YWNrID0gdGhpcy5fc3RhY2s7IC8vIFNhdmUgdG9wIGRlc2NyaXB0b3IgYW5kIGluc2VydCBuZXcgb25lLiBJZiB0b3AgaXMgY2hhbmdlZCAtIGZpcmUgZXZlbnQuCgogICAgICB2YXIgb2xkVG9wID0gc3RhY2tbMF07CgogICAgICB0aGlzLl9pbnNlcnREZXNjcmlwdG9yKGRlc2NyaXB0b3IpOwoKICAgICAgdmFyIG5ld1RvcCA9IHN0YWNrWzBdOyAvLyBXaGVuIG5ldyBvYmplY3QgaXMgYXQgdGhlIHRvcCBhbmQgc3RvcmVzIGRpZmZlcmVudCBpbmZvcm1hdGlvbi4KCiAgICAgIGlmIChvbGRUb3AgIT09IG5ld1RvcCAmJiAhY29tcGFyZURlc2NyaXB0b3JzKG9sZFRvcCwgbmV3VG9wKSkgewogICAgICAgIHRoaXMuZmlyZSgnY2hhbmdlOnRvcCcsIHsKICAgICAgICAgIG9sZERlc2NyaXB0b3I6IG9sZFRvcCwKICAgICAgICAgIG5ld0Rlc2NyaXB0b3I6IG5ld1RvcCwKICAgICAgICAgIHdyaXRlcjogd3JpdGVyCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogUmVtb3ZlcyBoaWdobGlnaHQgZGVzY3JpcHRvciBmcm9tIHRoZSBzdGFjay4KICAgICAqCiAgICAgKiBAZmlyZXMgY2hhbmdlOnRvcAogICAgICogQHBhcmFtIHtTdHJpbmd9IGlkIElkIG9mIHRoZSBkZXNjcmlwdG9yIHRvIHJlbW92ZS4KICAgICAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS92aWV3L2Rvd25jYXN0d3JpdGVyfkRvd25jYXN0V3JpdGVyfSB3cml0ZXIKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJyZW1vdmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZShpZCwgd3JpdGVyKSB7CiAgICAgIHZhciBzdGFjayA9IHRoaXMuX3N0YWNrOwogICAgICB2YXIgb2xkVG9wID0gc3RhY2tbMF07CgogICAgICB0aGlzLl9yZW1vdmVEZXNjcmlwdG9yKGlkKTsKCiAgICAgIHZhciBuZXdUb3AgPSBzdGFja1swXTsgLy8gV2hlbiBuZXcgb2JqZWN0IGlzIGF0IHRoZSB0b3AgYW5kIHN0b3JlcyBkaWZmZXJlbnQgaW5mb3JtYXRpb24uCgogICAgICBpZiAob2xkVG9wICE9PSBuZXdUb3AgJiYgIWNvbXBhcmVEZXNjcmlwdG9ycyhvbGRUb3AsIG5ld1RvcCkpIHsKICAgICAgICB0aGlzLmZpcmUoJ2NoYW5nZTp0b3AnLCB7CiAgICAgICAgICBvbGREZXNjcmlwdG9yOiBvbGRUb3AsCiAgICAgICAgICBuZXdEZXNjcmlwdG9yOiBuZXdUb3AsCiAgICAgICAgICB3cml0ZXI6IHdyaXRlcgogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIEluc2VydHMgZ2l2ZW4gZGVzY3JpcHRvciBpbiBjb3JyZWN0IHBsYWNlIGluIHRoZSBzdGFjay4gSXQgYWxzbyB0YWtlcyBjYXJlIGFib3V0IHVwZGF0aW5nIGluZm9ybWF0aW9uIHdoZW4KICAgICAqIGRlc2NyaXB0b3Igd2l0aCBzYW1lIGlkIGlzIGFscmVhZHkgcHJlc2VudC4KICAgICAqCiAgICAgKiBAcHJpdmF0ZQogICAgICogQHBhcmFtIHttb2R1bGU6ZW5naW5lL2NvbnZlcnNpb24vZG93bmNhc3RoZWxwZXJzfkhpZ2hsaWdodERlc2NyaXB0b3J9IGRlc2NyaXB0b3IKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJfaW5zZXJ0RGVzY3JpcHRvciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2luc2VydERlc2NyaXB0b3IoZGVzY3JpcHRvcikgewogICAgICB2YXIgc3RhY2sgPSB0aGlzLl9zdGFjazsKICAgICAgdmFyIGluZGV4ID0gc3RhY2suZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPT09IGRlc2NyaXB0b3IuaWQ7CiAgICAgIH0pOyAvLyBJbnNlcnRpbmcgZXhhY3Qgc2FtZSBkZXNjcmlwdG9yIC0gZG8gbm90aGluZy4KCiAgICAgIGlmIChjb21wYXJlRGVzY3JpcHRvcnMoZGVzY3JpcHRvciwgc3RhY2tbaW5kZXhdKSkgewogICAgICAgIHJldHVybjsKICAgICAgfSAvLyBJZiBkZXNjcmlwdG9yIHdpdGggc2FtZSBpZCBidXQgd2l0aCBkaWZmZXJlbnQgaW5mb3JtYXRpb24gaXMgb24gdGhlIHN0YWNrIC0gcmVtb3ZlIGl0LgoKCiAgICAgIGlmIChpbmRleCA+IC0xKSB7CiAgICAgICAgc3RhY2suc3BsaWNlKGluZGV4LCAxKTsKICAgICAgfSAvLyBGaW5kIGNvcnJlY3QgcGxhY2UgdG8gaW5zZXJ0IGRlc2NyaXB0b3IgaW4gdGhlIHN0YWNrLgogICAgICAvLyBJdCBoYXZlIGRpZmZlcmVudCBpbmZvcm1hdGlvbiAoZm9yIGV4YW1wbGUgcHJpb3JpdHkpIHNvIGl0IG11c3QgYmUgcmUtaW5zZXJ0ZWQgaW4gY29ycmVjdCBwbGFjZS4KCgogICAgICB2YXIgaSA9IDA7CgogICAgICB3aGlsZSAoc3RhY2tbaV0gJiYgc2hvdWxkQUJlQmVmb3JlQihzdGFja1tpXSwgZGVzY3JpcHRvcikpIHsKICAgICAgICBpKys7CiAgICAgIH0KCiAgICAgIHN0YWNrLnNwbGljZShpLCAwLCBkZXNjcmlwdG9yKTsKICAgIH0KICAgIC8qKgogICAgICogUmVtb3ZlcyBkZXNjcmlwdG9yIHdpdGggZ2l2ZW4gaWQgZnJvbSB0aGUgc3RhY2suCiAgICAgKgogICAgICogQHByaXZhdGUKICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpZCBEZXNjcmlwdG9yJ3MgaWQuCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiX3JlbW92ZURlc2NyaXB0b3IiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVEZXNjcmlwdG9yKGlkKSB7CiAgICAgIHZhciBzdGFjayA9IHRoaXMuX3N0YWNrOwogICAgICB2YXIgaW5kZXggPSBzdGFjay5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5pZCA9PT0gaWQ7CiAgICAgIH0pOyAvLyBJZiBkZXNjcmlwdG9yIHdpdGggc2FtZSBpZCBpcyBvbiB0aGUgbGlzdCAtIHJlbW92ZSBpdC4KCiAgICAgIGlmIChpbmRleCA+IC0xKSB7CiAgICAgICAgc3RhY2suc3BsaWNlKGluZGV4LCAxKTsKICAgICAgfQogICAgfQogIH1dKTsKCiAgcmV0dXJuIEhpZ2hsaWdodFN0YWNrOwp9KCk7CgpleHBvcnQgeyBIaWdobGlnaHRTdGFjayBhcyBkZWZhdWx0IH07Cm1peChIaWdobGlnaHRTdGFjaywgRW1pdHRlck1peGluKTsgLy8gQ29tcGFyZXMgdHdvIGRlc2NyaXB0b3JzIGJ5IGNoZWNraW5nIHRoZWlyIHByaW9yaXR5IGFuZCBjbGFzcyBsaXN0LgovLwovLyBAcGFyYW0ge21vZHVsZTplbmdpbmUvY29udmVyc2lvbi9kb3duY2FzdGhlbHBlcnN+SGlnaGxpZ2h0RGVzY3JpcHRvcn0gYQovLyBAcGFyYW0ge21vZHVsZTplbmdpbmUvY29udmVyc2lvbi9kb3duY2FzdGhlbHBlcnN+SGlnaGxpZ2h0RGVzY3JpcHRvcn0gYgovLyBAcmV0dXJucyB7Qm9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIGJvdGggZGVzY3JpcHRvcnMgYXJlIGRlZmluZWQgYW5kIGhhdmUgc2FtZSBwcmlvcml0eSBhbmQgY2xhc3Nlcy4KCmZ1bmN0aW9uIGNvbXBhcmVEZXNjcmlwdG9ycyhhLCBiKSB7CiAgcmV0dXJuIGEgJiYgYiAmJiBhLnByaW9yaXR5ID09IGIucHJpb3JpdHkgJiYgY2xhc3Nlc1RvU3RyaW5nKGEuY2xhc3NlcykgPT0gY2xhc3Nlc1RvU3RyaW5nKGIuY2xhc3Nlcyk7Cn0gLy8gQ2hlY2tzIHdoZW5ldmVyIGZpcnN0IGRlc2NyaXB0b3Igc2hvdWxkIGJlIHBsYWNlZCBpbiB0aGUgc3RhY2sgYmVmb3JlIHNlY29uZCBvbmUuCi8vCi8vIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS9jb252ZXJzaW9uL2Rvd25jYXN0aGVscGVyc35IaWdobGlnaHREZXNjcmlwdG9yfSBhCi8vIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS9jb252ZXJzaW9uL2Rvd25jYXN0aGVscGVyc35IaWdobGlnaHREZXNjcmlwdG9yfSBiCi8vIEByZXR1cm5zIHtCb29sZWFufQoKCmZ1bmN0aW9uIHNob3VsZEFCZUJlZm9yZUIoYSwgYikgewogIGlmIChhLnByaW9yaXR5ID4gYi5wcmlvcml0eSkgewogICAgcmV0dXJuIHRydWU7CiAgfSBlbHNlIGlmIChhLnByaW9yaXR5IDwgYi5wcmlvcml0eSkgewogICAgcmV0dXJuIGZhbHNlOwogIH0gLy8gV2hlbiBwcmlvcml0aWVzIGFyZSBlcXVhbCBhbmQgbmFtZXMgYXJlIGRpZmZlcmVudCAtIHVzZSBjbGFzc2VzIHRvIGNvbXBhcmUuCgoKICByZXR1cm4gY2xhc3Nlc1RvU3RyaW5nKGEuY2xhc3NlcykgPiBjbGFzc2VzVG9TdHJpbmcoYi5jbGFzc2VzKTsKfSAvLyBDb252ZXJ0cyBDU1MgY2xhc3NlcyBwYXNzZWQgd2l0aCB7QGxpbmsgbW9kdWxlOmVuZ2luZS9jb252ZXJzaW9uL2Rvd25jYXN0aGVscGVyc35IaWdobGlnaHREZXNjcmlwdG9yfSB0bwovLyBzb3J0ZWQgc3RyaW5nLgovLwovLyBAcGFyYW0ge1N0cmluZ3xBcnJheTxTdHJpbmc+fSBkZXNjcmlwdG9yCi8vIEByZXR1cm5zIHtTdHJpbmd9CgoKZnVuY3Rpb24gY2xhc3Nlc1RvU3RyaW5nKGNsYXNzZXMpIHsKICByZXR1cm4gQXJyYXkuaXNBcnJheShjbGFzc2VzKSA/IGNsYXNzZXMuc29ydCgpLmpvaW4oJywnKSA6IGNsYXNzZXM7Cn0KLyoqCiAqIEZpcmVkIHdoZW4gdG9wIGVsZW1lbnQgb24ge0BsaW5rIG1vZHVsZTp3aWRnZXQvaGlnaGxpZ2h0c3RhY2t+SGlnaGxpZ2h0U3RhY2t9IGhhcyBiZWVuIGNoYW5nZWQKICoKICogQGV2ZW50IGNoYW5nZTp0b3AKICogQHBhcmFtIHtPYmplY3R9IGRhdGEgQWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY2hhbmdlLgogKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvY29udmVyc2lvbi9kb3duY2FzdGhlbHBlcnN+SGlnaGxpZ2h0RGVzY3JpcHRvcn0gW2RhdGEubmV3RGVzY3JpcHRvcl0gTmV3IGhpZ2hsaWdodAogKiBkZXNjcmlwdG9yLiBJdCB3aWxsIGJlIGB1bmRlZmluZWRgIHdoZW4gbGFzdCBkZXNjcmlwdG9yIGlzIHJlbW92ZWQgZnJvbSB0aGUgc3RhY2suCiAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS9jb252ZXJzaW9uL2Rvd25jYXN0aGVscGVyc35IaWdobGlnaHREZXNjcmlwdG9yfSBbZGF0YS5vbGREZXNjcmlwdG9yXSBPbGQgaGlnaGxpZ2h0CiAqIGRlc2NyaXB0b3IuIEl0IHdpbGwgYmUgYHVuZGVmaW5lZGAgd2hlbiBmaXJzdCBkZXNjcmlwdG9yIGlzIGFkZGVkIHRvIHRoZSBzdGFjay4KICogQHBhcmFtIHttb2R1bGU6ZW5naW5lL3ZpZXcvZG93bmNhc3R3cml0ZXJ+RG93bmNhc3RXcml0ZXJ9IHdyaXRlciBWaWV3IHdyaXRlciB0aGF0IGNhbiBiZSB1c2VkIHRvIG1vZGlmeSBlbGVtZW50LgogKi8="},{"version":3,"sources":["/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-widget/src/highlightstack.js"],"names":["EmitterMixin","mix","HighlightStack","_stack","descriptor","writer","stack","oldTop","_insertDescriptor","newTop","compareDescriptors","fire","oldDescriptor","newDescriptor","id","_removeDescriptor","index","findIndex","item","splice","i","shouldABeBeforeB","a","b","priority","classesToString","classes","Array","isArray","sort","join"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module widget/highlightstack\n */\n\nimport EmitterMixin from '@ckeditor/ckeditor5-utils/src/emittermixin';\nimport mix from '@ckeditor/ckeditor5-utils/src/mix';\n\n/**\n * Class used to handle correct order of highlights on elements.\n *\n * When different highlights are applied to same element correct order should be preserved:\n *\n * * highlight with highest priority should be applied,\n * * if two highlights have same priority - sort by CSS class provided in\n * {@link module:engine/conversion/downcasthelpers~HighlightDescriptor}.\n *\n * This way, highlight will be applied with the same rules it is applied on texts.\n */\nexport default class HighlightStack {\n\t/**\n\t * Creates class instance.\n\t */\n\tconstructor() {\n\t\tthis._stack = [];\n\t}\n\n\t/**\n\t * Adds highlight descriptor to the stack.\n\t *\n\t * @fires change:top\n\t * @param {module:engine/conversion/downcasthelpers~HighlightDescriptor} descriptor\n\t * @param {module:engine/view/downcastwriter~DowncastWriter} writer\n\t */\n\tadd( descriptor, writer ) {\n\t\tconst stack = this._stack;\n\n\t\t// Save top descriptor and insert new one. If top is changed - fire event.\n\t\tconst oldTop = stack[ 0 ];\n\t\tthis._insertDescriptor( descriptor );\n\t\tconst newTop = stack[ 0 ];\n\n\t\t// When new object is at the top and stores different information.\n\t\tif ( oldTop !== newTop && !compareDescriptors( oldTop, newTop ) ) {\n\t\t\tthis.fire( 'change:top', {\n\t\t\t\toldDescriptor: oldTop,\n\t\t\t\tnewDescriptor: newTop,\n\t\t\t\twriter\n\t\t\t} );\n\t\t}\n\t}\n\n\t/**\n\t * Removes highlight descriptor from the stack.\n\t *\n\t * @fires change:top\n\t * @param {String} id Id of the descriptor to remove.\n\t * @param {module:engine/view/downcastwriter~DowncastWriter} writer\n\t */\n\tremove( id, writer ) {\n\t\tconst stack = this._stack;\n\n\t\tconst oldTop = stack[ 0 ];\n\t\tthis._removeDescriptor( id );\n\t\tconst newTop = stack[ 0 ];\n\n\t\t// When new object is at the top and stores different information.\n\t\tif ( oldTop !== newTop && !compareDescriptors( oldTop, newTop ) ) {\n\t\t\tthis.fire( 'change:top', {\n\t\t\t\toldDescriptor: oldTop,\n\t\t\t\tnewDescriptor: newTop,\n\t\t\t\twriter\n\t\t\t} );\n\t\t}\n\t}\n\n\t/**\n\t * Inserts given descriptor in correct place in the stack. It also takes care about updating information when\n\t * descriptor with same id is already present.\n\t *\n\t * @private\n\t * @param {module:engine/conversion/downcasthelpers~HighlightDescriptor} descriptor\n\t */\n\t_insertDescriptor( descriptor ) {\n\t\tconst stack = this._stack;\n\t\tconst index = stack.findIndex( item => item.id === descriptor.id );\n\n\t\t// Inserting exact same descriptor - do nothing.\n\t\tif ( compareDescriptors( descriptor, stack[ index ] ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If descriptor with same id but with different information is on the stack - remove it.\n\t\tif ( index > -1 ) {\n\t\t\tstack.splice( index, 1 );\n\t\t}\n\n\t\t// Find correct place to insert descriptor in the stack.\n\t\t// It have different information (for example priority) so it must be re-inserted in correct place.\n\t\tlet i = 0;\n\n\t\twhile ( stack[ i ] && shouldABeBeforeB( stack[ i ], descriptor ) ) {\n\t\t\ti++;\n\t\t}\n\n\t\tstack.splice( i, 0, descriptor );\n\t}\n\n\t/**\n\t * Removes descriptor with given id from the stack.\n\t *\n\t * @private\n\t * @param {String} id Descriptor's id.\n\t */\n\t_removeDescriptor( id ) {\n\t\tconst stack = this._stack;\n\t\tconst index = stack.findIndex( item => item.id === id );\n\n\t\t// If descriptor with same id is on the list - remove it.\n\t\tif ( index > -1 ) {\n\t\t\tstack.splice( index, 1 );\n\t\t}\n\t}\n}\n\nmix( HighlightStack, EmitterMixin );\n\n// Compares two descriptors by checking their priority and class list.\n//\n// @param {module:engine/conversion/downcasthelpers~HighlightDescriptor} a\n// @param {module:engine/conversion/downcasthelpers~HighlightDescriptor} b\n// @returns {Boolean} Returns true if both descriptors are defined and have same priority and classes.\nfunction compareDescriptors( a, b ) {\n\treturn a && b && a.priority == b.priority && classesToString( a.classes ) == classesToString( b.classes );\n}\n\n// Checks whenever first descriptor should be placed in the stack before second one.\n//\n// @param {module:engine/conversion/downcasthelpers~HighlightDescriptor} a\n// @param {module:engine/conversion/downcasthelpers~HighlightDescriptor} b\n// @returns {Boolean}\nfunction shouldABeBeforeB( a, b ) {\n\tif ( a.priority > b.priority ) {\n\t\treturn true;\n\t} else if ( a.priority < b.priority ) {\n\t\treturn false;\n\t}\n\n\t// When priorities are equal and names are different - use classes to compare.\n\treturn classesToString( a.classes ) > classesToString( b.classes );\n}\n\n// Converts CSS classes passed with {@link module:engine/conversion/downcasthelpers~HighlightDescriptor} to\n// sorted string.\n//\n// @param {String|Array<String>} descriptor\n// @returns {String}\nfunction classesToString( classes ) {\n\treturn Array.isArray( classes ) ? classes.sort().join( ',' ) : classes;\n}\n\n/**\n * Fired when top element on {@link module:widget/highlightstack~HighlightStack} has been changed\n *\n * @event change:top\n * @param {Object} data Additional information about the change.\n * @param {module:engine/conversion/downcasthelpers~HighlightDescriptor} [data.newDescriptor] New highlight\n * descriptor. It will be `undefined` when last descriptor is removed from the stack.\n * @param {module:engine/conversion/downcasthelpers~HighlightDescriptor} [data.oldDescriptor] Old highlight\n * descriptor. It will be `undefined` when first descriptor is added to the stack.\n * @param {module:engine/view/downcastwriter~DowncastWriter} writer View writer that can be used to modify element.\n */\n"]}]}