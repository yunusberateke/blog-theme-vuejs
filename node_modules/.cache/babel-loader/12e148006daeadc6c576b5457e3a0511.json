{"remainingRequest":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/babel-loader/lib/index.js!/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js?{}!/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-utils/src/dom/rect.js","dependencies":[{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-utils/src/dom/rect.js","mtime":499162500000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9ob21lL2VrZWJlcmF0L1lhbmRleC5EaXNrL1Byb2plbGVyaW0vQmVuaW1Qcm9qZWxlcmltL3dlYnNpdGVtL3dlYnNpdGVtLXdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL2hvbWUvZWtlYmVyYXQvWWFuZGV4LkRpc2svUHJvamVsZXJpbS9CZW5pbVByb2plbGVyaW0vd2Vic2l0ZW0vd2Vic2l0ZW0td2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL2hvbWUvZWtlYmVyYXQvWWFuZGV4LkRpc2svUHJvamVsZXJpbS9CZW5pbVByb2plbGVyaW0vd2Vic2l0ZW0vd2Vic2l0ZW0td2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZyb20uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwoKLyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDIxLCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIHV0aWxzL2RvbS9yZWN0CiAqLwppbXBvcnQgaXNSYW5nZSBmcm9tICcuL2lzcmFuZ2UnOwppbXBvcnQgaXNXaW5kb3cgZnJvbSAnLi9pc3dpbmRvdyc7CmltcG9ydCBnZXRCb3JkZXJXaWR0aHMgZnJvbSAnLi9nZXRib3JkZXJ3aWR0aHMnOwppbXBvcnQgaXNUZXh0IGZyb20gJy4vaXN0ZXh0JzsKaW1wb3J0IHsgaXNFbGVtZW50IH0gZnJvbSAnbG9kYXNoLWVzJzsKdmFyIHJlY3RQcm9wZXJ0aWVzID0gWyd0b3AnLCAncmlnaHQnLCAnYm90dG9tJywgJ2xlZnQnLCAnd2lkdGgnLCAnaGVpZ2h0J107Ci8qKgogKiBBIGhlbHBlciBjbGFzcyByZXByZXNlbnRpbmcgYSBgQ2xpZW50UmVjdGAgb2JqZWN0LCBlLmcuIHZhbHVlIHJldHVybmVkIGJ5CiAqIHRoZSBuYXRpdmUgYG9iamVjdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKWAgbWV0aG9kLiBQcm92aWRlcyBhIHNldCBvZiBtZXRob2RzCiAqIHRvIG1hbmlwdWxhdGUgdGhlIHJlY3QgYW5kIGNvbXBhcmUgaXQgYWdhaW5zdCBvdGhlciByZWN0IGluc3RhbmNlcy4KICovCgp2YXIgUmVjdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgLyoqCiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiByZWN0LgogICAqCiAgICoJCS8vIFJlY3Qgb2YgYW4gSFRNTEVsZW1lbnQuCiAgICoJCWNvbnN0IHJlY3RBID0gbmV3IFJlY3QoIGRvY3VtZW50LmJvZHkgKTsKICAgKgogICAqCQkvLyBSZWN0IG9mIGEgRE9NIFJhbmdlLgogICAqCQljb25zdCByZWN0QiA9IG5ldyBSZWN0KCBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZUF0KCAwICkgKTsKICAgKgogICAqCQkvLyBSZWN0IG9mIGEgd2luZG93ICh3ZWIgYnJvd3NlciB2aWV3cG9ydCkuCiAgICoJCWNvbnN0IHJlY3RDID0gbmV3IFJlY3QoIHdpbmRvdyApOwogICAqCiAgICoJCS8vIFJlY3Qgb3V0IG9mIGFuIG9iamVjdC4KICAgKgkJY29uc3QgcmVjdEQgPSBuZXcgUmVjdCggeyB0b3A6IDAsIHJpZ2h0OiAxMCwgYm90dG9tOiAxMCwgbGVmdDogMCwgd2lkdGg6IDEwLCBoZWlnaHQ6IDEwIH0gKTsKICAgKgogICAqCQkvLyBSZWN0IG91dCBvZiBhbm90aGVyIFJlY3QgaW5zdGFuY2UuCiAgICoJCWNvbnN0IHJlY3RFID0gbmV3IFJlY3QoIHJlY3REICk7CiAgICoKICAgKgkJLy8gUmVjdCBvdXQgb2YgYSBDbGllbnRSZWN0LgogICAqCQljb25zdCByZWN0RiA9IG5ldyBSZWN0KCBkb2N1bWVudC5ib2R5LmdldENsaWVudFJlY3RzKCkuaXRlbSggMCApICk7CiAgICoKICAgKiAqKk5vdGUqKjogQnkgZGVmYXVsdCBhIHJlY3Qgb2YgYW4gSFRNTCBlbGVtZW50IGluY2x1ZGVzIGl0cyBDU1MgYm9yZGVycyBhbmQgc2Nyb2xsYmFycyAoaWYgYW55KQogICAqIGFudCB0aGUgcmVjdCBvZiBhIGB3aW5kb3dgIGluY2x1ZGVzIHNjcm9sbGJhcnMgdG9vLiBVc2Uge0BsaW5rICNleGNsdWRlU2Nyb2xsYmFyc0FuZEJvcmRlcnN9CiAgICogdG8gZ2V0IHRoZSBpbm5lciBwYXJ0IG9mIHRoZSByZWN0LgogICAqCiAgICogQHBhcmFtIHtIVE1MRWxlbWVudHxSYW5nZXxXaW5kb3d8Q2xpZW50UmVjdHxtb2R1bGU6dXRpbHMvZG9tL3JlY3R+UmVjdHxPYmplY3R9IHNvdXJjZSBBIHNvdXJjZSBvYmplY3QgdG8gY3JlYXRlIHRoZSByZWN0LgogICAqLwogIGZ1bmN0aW9uIFJlY3Qoc291cmNlKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVjdCk7CgogICAgdmFyIGlzU291cmNlUmFuZ2UgPSBpc1JhbmdlKHNvdXJjZSk7CiAgICAvKioKICAgICAqIFRoZSBvYmplY3QgdGhpcyByZWN0IGlzIGZvci4KICAgICAqCiAgICAgKiBAcHJvdGVjdGVkCiAgICAgKiBAcmVhZG9ubHkKICAgICAqIEBtZW1iZXIge0hUTUxFbGVtZW50fFJhbmdlfENsaWVudFJlY3R8bW9kdWxlOnV0aWxzL2RvbS9yZWN0flJlY3R8T2JqZWN0fSAjX3NvdXJjZQogICAgICovCgogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdfc291cmNlJywgewogICAgICAvLyBJZiB0aGUgc291cmNlIGlzIGEgUmVjdCBpbnN0YW5jZSwgY29weSBpdCdzICNfc291cmNlLgogICAgICB2YWx1ZTogc291cmNlLl9zb3VyY2UgfHwgc291cmNlLAogICAgICB3cml0YWJsZTogdHJ1ZSwKICAgICAgZW51bWVyYWJsZTogZmFsc2UKICAgIH0pOwoKICAgIGlmIChpc0VsZW1lbnQoc291cmNlKSB8fCBpc1NvdXJjZVJhbmdlKSB7CiAgICAgIC8vIFRoZSBgUmVjdGAgY2xhc3MgZGVwZW5kcyBvbiBgZ2V0Qm91bmRpbmdDbGllbnRSZWN0YCBhbmQgYGdldENsaWVudFJlY3RzYCBET00gbWV0aG9kcy4gSWYgdGhlIHNvdXJjZQogICAgICAvLyBvZiBhIHJlY3QgaW4gYW4gSFRNTCBlbGVtZW50IG9yIGEgRE9NIHJhbmdlIGJ1dCBpdCBkb2VzIG5vdCBiZWxvbmcgdG8gYW55IHJlbmRlcmVkIERPTSB0cmVlLCB0aGVzZSBtZXRob2RzCiAgICAgIC8vIHdpbGwgZmFpbCB0byBvYnRhaW4gdGhlIGdlb21ldHJ5IGFuZCB0aGUgcmVjdCBpbnN0YW5jZSBtYWtlcyBsaXR0bGUgc2Vuc2UgdG8gdGhlIGZlYXR1cmVzIHVzaW5nIGl0LgogICAgICAvLyBUbyBnZXQgcmlkIG9mIHRoaXMgd2FybmluZyBtYWtlIHN1cmUgdGhlIHNvdXJjZSBwYXNzZWQgdG8gdGhlIGNvbnN0cnVjdG9yIGlzIGEgZGVzY2VuZGFudCBvZiBgd2luZG93LmRvY3VtZW50LmJvZHlgLgogICAgICAvLyBAaWYgQ0tfREVCVUcgLy8gY29uc3Qgc291cmNlTm9kZSA9IGlzU291cmNlUmFuZ2UgPyBzb3VyY2Uuc3RhcnRDb250YWluZXIgOiBzb3VyY2U7CiAgICAgIC8vIEBpZiBDS19ERUJVRyAvLyBpZiAoICFzb3VyY2VOb2RlLm93bmVyRG9jdW1lbnQgfHwgIXNvdXJjZU5vZGUub3duZXJEb2N1bWVudC5ib2R5LmNvbnRhaW5zKCBzb3VyY2VOb2RlICkgKSB7CiAgICAgIC8vIEBpZiBDS19ERUJVRyAvLyAJY29uc29sZS53YXJuKAogICAgICAvLyBAaWYgQ0tfREVCVUcgLy8gCQkncmVjdC1zb3VyY2Utbm90LWluLWRvbTogVGhlIHNvdXJjZSBvZiB0aGlzIHJlY3QgZG9lcyBub3QgYmVsb25nIHRvIGFueSByZW5kZXJlZCBET00gdHJlZS4nLAogICAgICAvLyBAaWYgQ0tfREVCVUcgLy8gCQl7IHNvdXJjZSB9ICk7CiAgICAgIC8vIEBpZiBDS19ERUJVRyAvLyB9CiAgICAgIGlmIChpc1NvdXJjZVJhbmdlKSB7CiAgICAgICAgdmFyIHJhbmdlUmVjdHMgPSBSZWN0LmdldERvbVJhbmdlUmVjdHMoc291cmNlKTsKICAgICAgICBjb3B5UmVjdFByb3BlcnRpZXModGhpcywgUmVjdC5nZXRCb3VuZGluZ1JlY3QocmFuZ2VSZWN0cykpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvcHlSZWN0UHJvcGVydGllcyh0aGlzLCBzb3VyY2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpOwogICAgICB9CiAgICB9IGVsc2UgaWYgKGlzV2luZG93KHNvdXJjZSkpIHsKICAgICAgdmFyIGlubmVyV2lkdGggPSBzb3VyY2UuaW5uZXJXaWR0aCwKICAgICAgICAgIGlubmVySGVpZ2h0ID0gc291cmNlLmlubmVySGVpZ2h0OwogICAgICBjb3B5UmVjdFByb3BlcnRpZXModGhpcywgewogICAgICAgIHRvcDogMCwKICAgICAgICByaWdodDogaW5uZXJXaWR0aCwKICAgICAgICBib3R0b206IGlubmVySGVpZ2h0LAogICAgICAgIGxlZnQ6IDAsCiAgICAgICAgd2lkdGg6IGlubmVyV2lkdGgsCiAgICAgICAgaGVpZ2h0OiBpbm5lckhlaWdodAogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIGNvcHlSZWN0UHJvcGVydGllcyh0aGlzLCBzb3VyY2UpOwogICAgfQogICAgLyoqCiAgICAgKiBUaGUgInRvcCIgdmFsdWUgb2YgdGhlIHJlY3QuCiAgICAgKgogICAgICogQHJlYWRvbmx5CiAgICAgKiBAbWVtYmVyIHtOdW1iZXJ9ICN0b3AKICAgICAqLwoKICAgIC8qKgogICAgICogVGhlICJyaWdodCIgdmFsdWUgb2YgdGhlIHJlY3QuCiAgICAgKgogICAgICogQHJlYWRvbmx5CiAgICAgKiBAbWVtYmVyIHtOdW1iZXJ9ICNyaWdodAogICAgICovCgogICAgLyoqCiAgICAgKiBUaGUgImJvdHRvbSIgdmFsdWUgb2YgdGhlIHJlY3QuCiAgICAgKgogICAgICogQHJlYWRvbmx5CiAgICAgKiBAbWVtYmVyIHtOdW1iZXJ9ICNib3R0b20KICAgICAqLwoKICAgIC8qKgogICAgICogVGhlICJsZWZ0IiB2YWx1ZSBvZiB0aGUgcmVjdC4KICAgICAqCiAgICAgKiBAcmVhZG9ubHkKICAgICAqIEBtZW1iZXIge051bWJlcn0gI2xlZnQKICAgICAqLwoKICAgIC8qKgogICAgICogVGhlICJ3aWR0aCIgdmFsdWUgb2YgdGhlIHJlY3QuCiAgICAgKgogICAgICogQHJlYWRvbmx5CiAgICAgKiBAbWVtYmVyIHtOdW1iZXJ9ICN3aWR0aAogICAgICovCgogICAgLyoqCiAgICAgKiBUaGUgImhlaWdodCIgdmFsdWUgb2YgdGhlIHJlY3QuCiAgICAgKgogICAgICogQHJlYWRvbmx5CiAgICAgKiBAbWVtYmVyIHtOdW1iZXJ9ICNoZWlnaHQKICAgICAqLwoKICB9CiAgLyoqCiAgICogUmV0dXJucyBhIGNsb25lIG9mIHRoZSByZWN0LgogICAqCiAgICogQHJldHVybnMge21vZHVsZTp1dGlscy9kb20vcmVjdH5SZWN0fSBBIGNsb25lZCByZWN0LgogICAqLwoKCiAgX2NyZWF0ZUNsYXNzKFJlY3QsIFt7CiAgICBrZXk6ICJjbG9uZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvbmUoKSB7CiAgICAgIHJldHVybiBuZXcgUmVjdCh0aGlzKTsKICAgIH0KICAgIC8qKgogICAgICogTW92ZXMgdGhlIHJlY3Qgc28gdGhhdCBpdHMgdXBwZXLigJNsZWZ0IGNvcm5lciBsYW5kcyBpbiBkZXNpcmVkIGBbIHgsIHkgXWAgbG9jYXRpb24uCiAgICAgKgogICAgICogQHBhcmFtIHtOdW1iZXJ9IHggRGVzaXJlZCBob3Jpem9udGFsIGxvY2F0aW9uLgogICAgICogQHBhcmFtIHtOdW1iZXJ9IHkgRGVzaXJlZCB2ZXJ0aWNhbCBsb2NhdGlvbi4KICAgICAqIEByZXR1cm5zIHttb2R1bGU6dXRpbHMvZG9tL3JlY3R+UmVjdH0gQSByZWN0IHdoaWNoIGhhcyBiZWVuIG1vdmVkLgogICAgICovCgogIH0sIHsKICAgIGtleTogIm1vdmVUbyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbW92ZVRvKHgsIHkpIHsKICAgICAgdGhpcy50b3AgPSB5OwogICAgICB0aGlzLnJpZ2h0ID0geCArIHRoaXMud2lkdGg7CiAgICAgIHRoaXMuYm90dG9tID0geSArIHRoaXMuaGVpZ2h0OwogICAgICB0aGlzLmxlZnQgPSB4OwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICAgIC8qKgogICAgICogTW92ZXMgdGhlIHJlY3QgaW7igJNwbGFjZSBieSBhIGRlZGljYXRlZCBvZmZzZXQuCiAgICAgKgogICAgICogQHBhcmFtIHtOdW1iZXJ9IHggQSBob3Jpem9udGFsIG9mZnNldC4KICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5IEEgdmVydGljYWwgb2Zmc2V0CiAgICAgKiBAcmV0dXJucyB7bW9kdWxlOnV0aWxzL2RvbS9yZWN0flJlY3R9IEEgcmVjdCB3aGljaCBoYXMgYmVlbiBtb3ZlZC4KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJtb3ZlQnkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG1vdmVCeSh4LCB5KSB7CiAgICAgIHRoaXMudG9wICs9IHk7CiAgICAgIHRoaXMucmlnaHQgKz0geDsKICAgICAgdGhpcy5sZWZ0ICs9IHg7CiAgICAgIHRoaXMuYm90dG9tICs9IHk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogICAgLyoqCiAgICAgKiBSZXR1cm5zIGEgbmV3IHJlY3QgYSBhIHJlc3VsdCBvZiBpbnRlcnNlY3Rpb24gd2l0aCBhbm90aGVyIHJlY3QuCiAgICAgKgogICAgICogQHBhcmFtIHttb2R1bGU6dXRpbHMvZG9tL3JlY3R+UmVjdH0gYW5vdGhlclJlY3QKICAgICAqIEByZXR1cm5zIHttb2R1bGU6dXRpbHMvZG9tL3JlY3R+UmVjdH0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJnZXRJbnRlcnNlY3Rpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEludGVyc2VjdGlvbihhbm90aGVyUmVjdCkgewogICAgICB2YXIgcmVjdCA9IHsKICAgICAgICB0b3A6IE1hdGgubWF4KHRoaXMudG9wLCBhbm90aGVyUmVjdC50b3ApLAogICAgICAgIHJpZ2h0OiBNYXRoLm1pbih0aGlzLnJpZ2h0LCBhbm90aGVyUmVjdC5yaWdodCksCiAgICAgICAgYm90dG9tOiBNYXRoLm1pbih0aGlzLmJvdHRvbSwgYW5vdGhlclJlY3QuYm90dG9tKSwKICAgICAgICBsZWZ0OiBNYXRoLm1heCh0aGlzLmxlZnQsIGFub3RoZXJSZWN0LmxlZnQpCiAgICAgIH07CiAgICAgIHJlY3Qud2lkdGggPSByZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0OwogICAgICByZWN0LmhlaWdodCA9IHJlY3QuYm90dG9tIC0gcmVjdC50b3A7CgogICAgICBpZiAocmVjdC53aWR0aCA8IDAgfHwgcmVjdC5oZWlnaHQgPCAwKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIG5ldyBSZWN0KHJlY3QpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIGFyZWEgb2YgaW50ZXJzZWN0aW9uIHdpdGggYW5vdGhlciByZWN0LgogICAgICoKICAgICAqIEBwYXJhbSB7bW9kdWxlOnV0aWxzL2RvbS9yZWN0flJlY3R9IGFub3RoZXJSZWN0IFtkZXNjcmlwdGlvbl0KICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IEFyZWEgb2YgaW50ZXJzZWN0aW9uLgogICAgICovCgogIH0sIHsKICAgIGtleTogImdldEludGVyc2VjdGlvbkFyZWEiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEludGVyc2VjdGlvbkFyZWEoYW5vdGhlclJlY3QpIHsKICAgICAgdmFyIHJlY3QgPSB0aGlzLmdldEludGVyc2VjdGlvbihhbm90aGVyUmVjdCk7CgogICAgICBpZiAocmVjdCkgewogICAgICAgIHJldHVybiByZWN0LmdldEFyZWEoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gMDsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSBhcmVhIG9mIHRoZSByZWN0LgogICAgICoKICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9CiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZ2V0QXJlYSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QXJlYSgpIHsKICAgICAgcmV0dXJuIHRoaXMud2lkdGggKiB0aGlzLmhlaWdodDsKICAgIH0KICAgIC8qKgogICAgICogUmV0dXJucyBhIG5ldyByZWN0LCBhIHBhcnQgb2YgdGhlIG9yaWdpbmFsIHJlY3QsIHdoaWNoIGlzIGFjdHVhbGx5IHZpc2libGUgdG8gdGhlIHVzZXIsCiAgICAgKiBlLmcuIGFuIG9yaWdpbmFsIHJlY3QgY3JvcHBlZCBieSBwYXJlbnQgZWxlbWVudCByZWN0cyB3aGljaCBoYXZlIGBvdmVyZmxvd2Agc2V0IGluIENTUwogICAgICogb3RoZXIgdGhhbiBgInZpc2libGUiYC4KICAgICAqCiAgICAgKiBJZiB0aGVyZSdzIG5vIHN1Y2ggdmlzaWJsZSByZWN0LCB3aGljaCBpcyB3aGVuIHRoZSByZWN0IGlzIGxpbWl0ZWQgYnkgb25lIG9yIG1hbnkgb2YKICAgICAqIHRoZSBhbmNlc3RvcnMsIGBudWxsYCBpcyByZXR1cm5lZC4KICAgICAqCiAgICAgKiBAcmV0dXJucyB7bW9kdWxlOnV0aWxzL2RvbS9yZWN0flJlY3R8bnVsbH0gQSB2aXNpYmxlIHJlY3QgaW5zdGFuY2Ugb3IgYG51bGxgLCBpZiB0aGVyZSdzIG5vbmUuCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZ2V0VmlzaWJsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmlzaWJsZSgpIHsKICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuX3NvdXJjZTsKICAgICAgdmFyIHZpc2libGVSZWN0ID0gdGhpcy5jbG9uZSgpOyAvLyBUaGVyZSdzIG5vIGFuY2VzdG9yIHRvIGNyb3AgPGJvZHk+IHdpdGggdGhlIG92ZXJmbG93LgoKICAgICAgaWYgKCFpc0JvZHkoc291cmNlKSkgewogICAgICAgIHZhciBwYXJlbnQgPSBzb3VyY2UucGFyZW50Tm9kZSB8fCBzb3VyY2UuY29tbW9uQW5jZXN0b3JDb250YWluZXI7IC8vIENoZWNrIHRoZSBhbmNlc3RvcnMgYWxsIHRoZSB3YXkgdXAgdG8gdGhlIDxib2R5Pi4KCiAgICAgICAgd2hpbGUgKHBhcmVudCAmJiAhaXNCb2R5KHBhcmVudCkpIHsKICAgICAgICAgIHZhciBwYXJlbnRSZWN0ID0gbmV3IFJlY3QocGFyZW50KTsKICAgICAgICAgIHZhciBpbnRlcnNlY3Rpb25SZWN0ID0gdmlzaWJsZVJlY3QuZ2V0SW50ZXJzZWN0aW9uKHBhcmVudFJlY3QpOwoKICAgICAgICAgIGlmIChpbnRlcnNlY3Rpb25SZWN0KSB7CiAgICAgICAgICAgIGlmIChpbnRlcnNlY3Rpb25SZWN0LmdldEFyZWEoKSA8IHZpc2libGVSZWN0LmdldEFyZWEoKSkgewogICAgICAgICAgICAgIC8vIFJlZHVjZSB0aGUgdmlzaWJsZSByZWN0IHRvIHRoZSBpbnRlcnNlY3Rpb24uCiAgICAgICAgICAgICAgdmlzaWJsZVJlY3QgPSBpbnRlcnNlY3Rpb25SZWN0OwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBUaGVyZSdzIG5vIGludGVyc2VjdGlvbiwgdGhlIHJlY3QgaXMgY29tcGxldGVseSBpbnZpc2libGUuCiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgfQoKICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHZpc2libGVSZWN0OwogICAgfQogICAgLyoqCiAgICAgKiBDaGVja3MgaWYgYWxsIHByb3BlcnR5IHZhbHVlcyAoe0BsaW5rICN0b3B9LCB7QGxpbmsgI2xlZnR9LCB7QGxpbmsgI3JpZ2h0fSwKICAgICAqIHtAbGluayAjYm90dG9tfSwge0BsaW5rICN3aWR0aH0gYW5kIHtAbGluayAjaGVpZ2h0fSkgYXJlIHRoZSBlcXVhbCBpbiBib3RoIHJlY3QKICAgICAqIGluc3RhbmNlcy4KICAgICAqCiAgICAgKiBAcGFyYW0ge21vZHVsZTp1dGlscy9kb20vcmVjdH5SZWN0fSByZWN0IEEgcmVjdCBpbnN0YW5jZSB0byBjb21wYXJlIHdpdGguCiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gYHRydWVgIHdoZW4gUmVjdHMgYXJlIGVxdWFsLiBgZmFsc2VgIG90aGVyd2lzZS4KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJpc0VxdWFsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpc0VxdWFsKGFub3RoZXJSZWN0KSB7CiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihyZWN0UHJvcGVydGllcyksCiAgICAgICAgICBfc3RlcDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBwcm9wID0gX3N0ZXAudmFsdWU7CgogICAgICAgICAgaWYgKHRoaXNbcHJvcF0gIT09IGFub3RoZXJSZWN0W3Byb3BdKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAvKioKICAgICAqIENoZWNrcyB3aGV0aGVyIGEgcmVjdCBmdWxseSBjb250YWlucyBhbm90aGVyIHJlY3QgaW5zdGFuY2UuCiAgICAgKgogICAgICogQHBhcmFtIHttb2R1bGU6dXRpbHMvZG9tL3JlY3R+UmVjdH0gYW5vdGhlclJlY3QKICAgICAqIEByZXR1cm5zIHtCb29sZWFufSBgdHJ1ZWAgaWYgY29udGFpbnMsIGBmYWxzZWAgb3RoZXJ3aXNlLgogICAgICovCgogIH0sIHsKICAgIGtleTogImNvbnRhaW5zIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb250YWlucyhhbm90aGVyUmVjdCkgewogICAgICB2YXIgaW50ZXJzZWN0UmVjdCA9IHRoaXMuZ2V0SW50ZXJzZWN0aW9uKGFub3RoZXJSZWN0KTsKICAgICAgcmV0dXJuICEhKGludGVyc2VjdFJlY3QgJiYgaW50ZXJzZWN0UmVjdC5pc0VxdWFsKGFub3RoZXJSZWN0KSk7CiAgICB9CiAgICAvKioKICAgICAqIEV4Y2x1ZGVzIHNjcm9sbGJhcnMgYW5kIENTUyBib3JkZXJzIGZyb20gdGhlIHJlY3QuCiAgICAgKgogICAgICogKiBCb3JkZXJzIGFyZSByZW1vdmVkIHdoZW4ge0BsaW5rICNfc291cmNlfSBpcyBhbiBIVE1MIGVsZW1lbnQuCiAgICAgKiAqIFNjcm9sbGJhcnMgYXJlIGV4Y2x1ZGVkIGZyb20gSFRNTCBlbGVtZW50cyBhbmQgdGhlIGB3aW5kb3dgLgogICAgICoKICAgICAqIEByZXR1cm5zIHttb2R1bGU6dXRpbHMvZG9tL3JlY3R+UmVjdH0gQSByZWN0IHdoaWNoIGhhcyBiZWVuIHVwZGF0ZWQuCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZXhjbHVkZVNjcm9sbGJhcnNBbmRCb3JkZXJzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBleGNsdWRlU2Nyb2xsYmFyc0FuZEJvcmRlcnMoKSB7CiAgICAgIHZhciBzb3VyY2UgPSB0aGlzLl9zb3VyY2U7CiAgICAgIHZhciBzY3JvbGxCYXJXaWR0aCwgc2Nyb2xsQmFySGVpZ2h0LCBkaXJlY3Rpb247CgogICAgICBpZiAoaXNXaW5kb3coc291cmNlKSkgewogICAgICAgIHNjcm9sbEJhcldpZHRoID0gc291cmNlLmlubmVyV2lkdGggLSBzb3VyY2UuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoOwogICAgICAgIHNjcm9sbEJhckhlaWdodCA9IHNvdXJjZS5pbm5lckhlaWdodCAtIHNvdXJjZS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OwogICAgICAgIGRpcmVjdGlvbiA9IHNvdXJjZS5nZXRDb21wdXRlZFN0eWxlKHNvdXJjZS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmRpcmVjdGlvbjsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgYm9yZGVyV2lkdGhzID0gZ2V0Qm9yZGVyV2lkdGhzKHRoaXMuX3NvdXJjZSk7CiAgICAgICAgc2Nyb2xsQmFyV2lkdGggPSBzb3VyY2Uub2Zmc2V0V2lkdGggLSBzb3VyY2UuY2xpZW50V2lkdGggLSBib3JkZXJXaWR0aHMubGVmdCAtIGJvcmRlcldpZHRocy5yaWdodDsKICAgICAgICBzY3JvbGxCYXJIZWlnaHQgPSBzb3VyY2Uub2Zmc2V0SGVpZ2h0IC0gc291cmNlLmNsaWVudEhlaWdodCAtIGJvcmRlcldpZHRocy50b3AgLSBib3JkZXJXaWR0aHMuYm90dG9tOwogICAgICAgIGRpcmVjdGlvbiA9IHNvdXJjZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoc291cmNlKS5kaXJlY3Rpb247CiAgICAgICAgdGhpcy5sZWZ0ICs9IGJvcmRlcldpZHRocy5sZWZ0OwogICAgICAgIHRoaXMudG9wICs9IGJvcmRlcldpZHRocy50b3A7CiAgICAgICAgdGhpcy5yaWdodCAtPSBib3JkZXJXaWR0aHMucmlnaHQ7CiAgICAgICAgdGhpcy5ib3R0b20gLT0gYm9yZGVyV2lkdGhzLmJvdHRvbTsKICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5yaWdodCAtIHRoaXMubGVmdDsKICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMuYm90dG9tIC0gdGhpcy50b3A7CiAgICAgIH0KCiAgICAgIHRoaXMud2lkdGggLT0gc2Nyb2xsQmFyV2lkdGg7CgogICAgICBpZiAoZGlyZWN0aW9uID09PSAnbHRyJykgewogICAgICAgIHRoaXMucmlnaHQgLT0gc2Nyb2xsQmFyV2lkdGg7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5sZWZ0ICs9IHNjcm9sbEJhcldpZHRoOwogICAgICB9CgogICAgICB0aGlzLmhlaWdodCAtPSBzY3JvbGxCYXJIZWlnaHQ7CiAgICAgIHRoaXMuYm90dG9tIC09IHNjcm9sbEJhckhlaWdodDsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgICAvKioKICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgcmVjdHMgb2YgdGhlIGdpdmVuIG5hdGl2ZSBET00gUmFuZ2UuCiAgICAgKgogICAgICogQHBhcmFtIHtSYW5nZX0gcmFuZ2UgQSBuYXRpdmUgRE9NIHJhbmdlLgogICAgICogQHJldHVybnMge0FycmF5Ljxtb2R1bGU6dXRpbHMvZG9tL3JlY3R+UmVjdD59IERPTSBSYW5nZSByZWN0cy4KICAgICAqLwoKICB9XSwgW3sKICAgIGtleTogImdldERvbVJhbmdlUmVjdHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldERvbVJhbmdlUmVjdHMocmFuZ2UpIHsKICAgICAgdmFyIHJlY3RzID0gW107IC8vIFNhZmFyaSBkb2VzIG5vdCBpdGVyYXRlIG92ZXIgQ2xpZW50UmVjdExpc3QgdXNpbmcgZm9yLi4ub2YgbG9vcC4KCiAgICAgIHZhciBjbGllbnRSZWN0cyA9IEFycmF5LmZyb20ocmFuZ2UuZ2V0Q2xpZW50UmVjdHMoKSk7CgogICAgICBpZiAoY2xpZW50UmVjdHMubGVuZ3RoKSB7CiAgICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihjbGllbnRSZWN0cyksCiAgICAgICAgICAgIF9zdGVwMjsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciByZWN0ID0gX3N0ZXAyLnZhbHVlOwogICAgICAgICAgICByZWN0cy5wdXNoKG5ldyBSZWN0KHJlY3QpKTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBfaXRlcmF0b3IyLmYoKTsKICAgICAgICB9CiAgICAgIH0gLy8gSWYgdGhlcmUncyBubyBjbGllbnQgcmVjdHMgZm9yIHRoZSBSYW5nZSwgdXNlIHBhcmVudCBjb250YWluZXIncyBib3VuZGluZyByZWN0CiAgICAgIC8vIGluc3RlYWQgYW5kIGFkanVzdCByZWN0J3Mgd2lkdGggdG8gc2ltdWxhdGUgdGhlIGFjdHVhbCBnZW9tZXRyeSBvZiBzdWNoIHJhbmdlLgogICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vY2tlZGl0b3IvY2tlZGl0b3I1LXV0aWxzL2lzc3Vlcy8xNTMKICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2NrZWRpdG9yL2NrZWRpdG9yNS11aS9pc3N1ZXMvMzE3CiAgICAgIGVsc2UgewogICAgICAgICAgdmFyIHN0YXJ0Q29udGFpbmVyID0gcmFuZ2Uuc3RhcnRDb250YWluZXI7CgogICAgICAgICAgaWYgKGlzVGV4dChzdGFydENvbnRhaW5lcikpIHsKICAgICAgICAgICAgc3RhcnRDb250YWluZXIgPSBzdGFydENvbnRhaW5lci5wYXJlbnROb2RlOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBfcmVjdCA9IG5ldyBSZWN0KHN0YXJ0Q29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTsKCiAgICAgICAgICBfcmVjdC5yaWdodCA9IF9yZWN0LmxlZnQ7CiAgICAgICAgICBfcmVjdC53aWR0aCA9IDA7CiAgICAgICAgICByZWN0cy5wdXNoKF9yZWN0KTsKICAgICAgICB9CgogICAgICByZXR1cm4gcmVjdHM7CiAgICB9CiAgICAvKioKICAgICAqIFJldHVybnMgYSBib3VuZGluZyByZWN0YW5nbGUgdGhhdCBjb250YWlucyBhbGwgdGhlIGdpdmVuIGByZWN0c2AuCiAgICAgKgogICAgICogQHBhcmFtIHtJdGVyYWJsZS48bW9kdWxlOnV0aWxzL2RvbS9yZWN0flJlY3Q+fSByZWN0cyBBIGxpc3Qgb2YgcmVjdGFuZ2xlcyB0aGF0IHNob3VsZCBiZSBjb250YWluZWQgaW4gdGhlIHJlc3VsdCByZWN0YW5nbGUuCiAgICAgKiBAcmV0dXJucyB7bW9kdWxlOnV0aWxzL2RvbS9yZWN0flJlY3R8bnVsbH0gQm91bmRpbmcgcmVjdGFuZ2xlIG9yIGBudWxsYCBpZiBubyBgcmVjdHNgIHdlcmUgZ2l2ZW4uCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZ2V0Qm91bmRpbmdSZWN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRCb3VuZGluZ1JlY3QocmVjdHMpIHsKICAgICAgdmFyIGJvdW5kaW5nUmVjdERhdGEgPSB7CiAgICAgICAgbGVmdDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLAogICAgICAgIHRvcDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLAogICAgICAgIHJpZ2h0OiBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksCiAgICAgICAgYm90dG9tOiBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkKICAgICAgfTsKICAgICAgdmFyIHJlY3RhbmdsZUNvdW50ID0gMDsKCiAgICAgIHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocmVjdHMpLAogICAgICAgICAgX3N0ZXAzOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykgewogICAgICAgICAgdmFyIHJlY3QgPSBfc3RlcDMudmFsdWU7CiAgICAgICAgICByZWN0YW5nbGVDb3VudCsrOwogICAgICAgICAgYm91bmRpbmdSZWN0RGF0YS5sZWZ0ID0gTWF0aC5taW4oYm91bmRpbmdSZWN0RGF0YS5sZWZ0LCByZWN0LmxlZnQpOwogICAgICAgICAgYm91bmRpbmdSZWN0RGF0YS50b3AgPSBNYXRoLm1pbihib3VuZGluZ1JlY3REYXRhLnRvcCwgcmVjdC50b3ApOwogICAgICAgICAgYm91bmRpbmdSZWN0RGF0YS5yaWdodCA9IE1hdGgubWF4KGJvdW5kaW5nUmVjdERhdGEucmlnaHQsIHJlY3QucmlnaHQpOwogICAgICAgICAgYm91bmRpbmdSZWN0RGF0YS5ib3R0b20gPSBNYXRoLm1heChib3VuZGluZ1JlY3REYXRhLmJvdHRvbSwgcmVjdC5ib3R0b20pOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMy5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMy5mKCk7CiAgICAgIH0KCiAgICAgIGlmIChyZWN0YW5nbGVDb3VudCA9PSAwKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KCiAgICAgIGJvdW5kaW5nUmVjdERhdGEud2lkdGggPSBib3VuZGluZ1JlY3REYXRhLnJpZ2h0IC0gYm91bmRpbmdSZWN0RGF0YS5sZWZ0OwogICAgICBib3VuZGluZ1JlY3REYXRhLmhlaWdodCA9IGJvdW5kaW5nUmVjdERhdGEuYm90dG9tIC0gYm91bmRpbmdSZWN0RGF0YS50b3A7CiAgICAgIHJldHVybiBuZXcgUmVjdChib3VuZGluZ1JlY3REYXRhKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBSZWN0Owp9KCk7IC8vIEFjcXVpcmVzIGFsbCB0aGUgcmVjdCBwcm9wZXJ0aWVzIGZyb20gdGhlIHBhc3NlZCBzb3VyY2UuCi8vCi8vIEBwcml2YXRlCi8vIEBwYXJhbSB7bW9kdWxlOnV0aWxzL2RvbS9yZWN0flJlY3R9IHJlY3QKLy8gQHBhcmFtIHtDbGllbnRSZWN0fG1vZHVsZTp1dGlscy9kb20vcmVjdH5SZWN0fE9iamVjdH0gc291cmNlCgoKZXhwb3J0IHsgUmVjdCBhcyBkZWZhdWx0IH07CgpmdW5jdGlvbiBjb3B5UmVjdFByb3BlcnRpZXMocmVjdCwgc291cmNlKSB7CiAgdmFyIF9pdGVyYXRvcjQgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihyZWN0UHJvcGVydGllcyksCiAgICAgIF9zdGVwNDsKCiAgdHJ5IHsKICAgIGZvciAoX2l0ZXJhdG9yNC5zKCk7ICEoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uKCkpLmRvbmU7KSB7CiAgICAgIHZhciBwID0gX3N0ZXA0LnZhbHVlOwogICAgICByZWN0W3BdID0gc291cmNlW3BdOwogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2l0ZXJhdG9yNC5lKGVycik7CiAgfSBmaW5hbGx5IHsKICAgIF9pdGVyYXRvcjQuZigpOwogIH0KfSAvLyBDaGVja3MgaWYgcHJvdmlkZWQgb2JqZWN0IGlzIGEgPGJvZHk+IEhUTUwgZWxlbWVudC4KLy8KLy8gQHByaXZhdGUKLy8gQHBhcmFtIHtIVE1MRWxlbWVudHxSYW5nZX0gZWxlbWVudE9yUmFuZ2UKLy8gQHJldHVybnMge0Jvb2xlYW59CgoKZnVuY3Rpb24gaXNCb2R5KGVsZW1lbnRPclJhbmdlKSB7CiAgaWYgKCFpc0VsZW1lbnQoZWxlbWVudE9yUmFuZ2UpKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICByZXR1cm4gZWxlbWVudE9yUmFuZ2UgPT09IGVsZW1lbnRPclJhbmdlLm93bmVyRG9jdW1lbnQuYm9keTsKfQ=="},{"version":3,"sources":["/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-utils/src/dom/rect.js"],"names":["isRange","isWindow","getBorderWidths","isText","isElement","rectProperties","Rect","source","isSourceRange","Object","defineProperty","value","_source","writable","enumerable","rangeRects","getDomRangeRects","copyRectProperties","getBoundingRect","getBoundingClientRect","innerWidth","innerHeight","top","right","bottom","left","width","height","x","y","anotherRect","rect","Math","max","min","getIntersection","getArea","visibleRect","clone","isBody","parent","parentNode","commonAncestorContainer","parentRect","intersectionRect","prop","intersectRect","isEqual","scrollBarWidth","scrollBarHeight","direction","document","documentElement","clientWidth","clientHeight","getComputedStyle","borderWidths","offsetWidth","offsetHeight","ownerDocument","defaultView","range","rects","clientRects","Array","from","getClientRects","length","push","startContainer","boundingRectData","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","rectangleCount","p","elementOrRange","body"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module utils/dom/rect\n */\n\nimport isRange from './isrange';\nimport isWindow from './iswindow';\nimport getBorderWidths from './getborderwidths';\nimport isText from './istext';\nimport { isElement } from 'lodash-es';\n\nconst rectProperties = [ 'top', 'right', 'bottom', 'left', 'width', 'height' ];\n\n/**\n * A helper class representing a `ClientRect` object, e.g. value returned by\n * the native `object.getBoundingClientRect()` method. Provides a set of methods\n * to manipulate the rect and compare it against other rect instances.\n */\nexport default class Rect {\n\t/**\n\t * Creates an instance of rect.\n\t *\n\t *\t\t// Rect of an HTMLElement.\n\t *\t\tconst rectA = new Rect( document.body );\n\t *\n\t *\t\t// Rect of a DOM Range.\n\t *\t\tconst rectB = new Rect( document.getSelection().getRangeAt( 0 ) );\n\t *\n\t *\t\t// Rect of a window (web browser viewport).\n\t *\t\tconst rectC = new Rect( window );\n\t *\n\t *\t\t// Rect out of an object.\n\t *\t\tconst rectD = new Rect( { top: 0, right: 10, bottom: 10, left: 0, width: 10, height: 10 } );\n\t *\n\t *\t\t// Rect out of another Rect instance.\n\t *\t\tconst rectE = new Rect( rectD );\n\t *\n\t *\t\t// Rect out of a ClientRect.\n\t *\t\tconst rectF = new Rect( document.body.getClientRects().item( 0 ) );\n\t *\n\t * **Note**: By default a rect of an HTML element includes its CSS borders and scrollbars (if any)\n\t * ant the rect of a `window` includes scrollbars too. Use {@link #excludeScrollbarsAndBorders}\n\t * to get the inner part of the rect.\n\t *\n\t * @param {HTMLElement|Range|Window|ClientRect|module:utils/dom/rect~Rect|Object} source A source object to create the rect.\n\t */\n\tconstructor( source ) {\n\t\tconst isSourceRange = isRange( source );\n\n\t\t/**\n\t\t * The object this rect is for.\n\t\t *\n\t\t * @protected\n\t\t * @readonly\n\t\t * @member {HTMLElement|Range|ClientRect|module:utils/dom/rect~Rect|Object} #_source\n\t\t */\n\t\tObject.defineProperty( this, '_source', {\n\t\t\t// If the source is a Rect instance, copy it's #_source.\n\t\t\tvalue: source._source || source,\n\t\t\twritable: true,\n\t\t\tenumerable: false\n\t\t} );\n\n\t\tif ( isElement( source ) || isSourceRange ) {\n\t\t\t// The `Rect` class depends on `getBoundingClientRect` and `getClientRects` DOM methods. If the source\n\t\t\t// of a rect in an HTML element or a DOM range but it does not belong to any rendered DOM tree, these methods\n\t\t\t// will fail to obtain the geometry and the rect instance makes little sense to the features using it.\n\t\t\t// To get rid of this warning make sure the source passed to the constructor is a descendant of `window.document.body`.\n\t\t\t// @if CK_DEBUG // const sourceNode = isSourceRange ? source.startContainer : source;\n\t\t\t// @if CK_DEBUG // if ( !sourceNode.ownerDocument || !sourceNode.ownerDocument.body.contains( sourceNode ) ) {\n\t\t\t// @if CK_DEBUG // \tconsole.warn(\n\t\t\t// @if CK_DEBUG // \t\t'rect-source-not-in-dom: The source of this rect does not belong to any rendered DOM tree.',\n\t\t\t// @if CK_DEBUG // \t\t{ source } );\n\t\t\t// @if CK_DEBUG // }\n\n\t\t\tif ( isSourceRange ) {\n\t\t\t\tconst rangeRects = Rect.getDomRangeRects( source );\n\t\t\t\tcopyRectProperties( this, Rect.getBoundingRect( rangeRects ) );\n\t\t\t} else {\n\t\t\t\tcopyRectProperties( this, source.getBoundingClientRect() );\n\t\t\t}\n\t\t} else if ( isWindow( source ) ) {\n\t\t\tconst { innerWidth, innerHeight } = source;\n\n\t\t\tcopyRectProperties( this, {\n\t\t\t\ttop: 0,\n\t\t\t\tright: innerWidth,\n\t\t\t\tbottom: innerHeight,\n\t\t\t\tleft: 0,\n\t\t\t\twidth: innerWidth,\n\t\t\t\theight: innerHeight\n\t\t\t} );\n\t\t} else {\n\t\t\tcopyRectProperties( this, source );\n\t\t}\n\n\t\t/**\n\t\t * The \"top\" value of the rect.\n\t\t *\n\t\t * @readonly\n\t\t * @member {Number} #top\n\t\t */\n\n\t\t/**\n\t\t * The \"right\" value of the rect.\n\t\t *\n\t\t * @readonly\n\t\t * @member {Number} #right\n\t\t */\n\n\t\t/**\n\t\t * The \"bottom\" value of the rect.\n\t\t *\n\t\t * @readonly\n\t\t * @member {Number} #bottom\n\t\t */\n\n\t\t/**\n\t\t * The \"left\" value of the rect.\n\t\t *\n\t\t * @readonly\n\t\t * @member {Number} #left\n\t\t */\n\n\t\t/**\n\t\t * The \"width\" value of the rect.\n\t\t *\n\t\t * @readonly\n\t\t * @member {Number} #width\n\t\t */\n\n\t\t/**\n\t\t * The \"height\" value of the rect.\n\t\t *\n\t\t * @readonly\n\t\t * @member {Number} #height\n\t\t */\n\t}\n\n\t/**\n\t * Returns a clone of the rect.\n\t *\n\t * @returns {module:utils/dom/rect~Rect} A cloned rect.\n\t */\n\tclone() {\n\t\treturn new Rect( this );\n\t}\n\n\t/**\n\t * Moves the rect so that its upper–left corner lands in desired `[ x, y ]` location.\n\t *\n\t * @param {Number} x Desired horizontal location.\n\t * @param {Number} y Desired vertical location.\n\t * @returns {module:utils/dom/rect~Rect} A rect which has been moved.\n\t */\n\tmoveTo( x, y ) {\n\t\tthis.top = y;\n\t\tthis.right = x + this.width;\n\t\tthis.bottom = y + this.height;\n\t\tthis.left = x;\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Moves the rect in–place by a dedicated offset.\n\t *\n\t * @param {Number} x A horizontal offset.\n\t * @param {Number} y A vertical offset\n\t * @returns {module:utils/dom/rect~Rect} A rect which has been moved.\n\t */\n\tmoveBy( x, y ) {\n\t\tthis.top += y;\n\t\tthis.right += x;\n\t\tthis.left += x;\n\t\tthis.bottom += y;\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Returns a new rect a a result of intersection with another rect.\n\t *\n\t * @param {module:utils/dom/rect~Rect} anotherRect\n\t * @returns {module:utils/dom/rect~Rect}\n\t */\n\tgetIntersection( anotherRect ) {\n\t\tconst rect = {\n\t\t\ttop: Math.max( this.top, anotherRect.top ),\n\t\t\tright: Math.min( this.right, anotherRect.right ),\n\t\t\tbottom: Math.min( this.bottom, anotherRect.bottom ),\n\t\t\tleft: Math.max( this.left, anotherRect.left )\n\t\t};\n\n\t\trect.width = rect.right - rect.left;\n\t\trect.height = rect.bottom - rect.top;\n\n\t\tif ( rect.width < 0 || rect.height < 0 ) {\n\t\t\treturn null;\n\t\t} else {\n\t\t\treturn new Rect( rect );\n\t\t}\n\t}\n\n\t/**\n\t * Returns the area of intersection with another rect.\n\t *\n\t * @param {module:utils/dom/rect~Rect} anotherRect [description]\n\t * @returns {Number} Area of intersection.\n\t */\n\tgetIntersectionArea( anotherRect ) {\n\t\tconst rect = this.getIntersection( anotherRect );\n\n\t\tif ( rect ) {\n\t\t\treturn rect.getArea();\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t}\n\n\t/**\n\t * Returns the area of the rect.\n\t *\n\t * @returns {Number}\n\t */\n\tgetArea() {\n\t\treturn this.width * this.height;\n\t}\n\n\t/**\n\t * Returns a new rect, a part of the original rect, which is actually visible to the user,\n\t * e.g. an original rect cropped by parent element rects which have `overflow` set in CSS\n\t * other than `\"visible\"`.\n\t *\n\t * If there's no such visible rect, which is when the rect is limited by one or many of\n\t * the ancestors, `null` is returned.\n\t *\n\t * @returns {module:utils/dom/rect~Rect|null} A visible rect instance or `null`, if there's none.\n\t */\n\tgetVisible() {\n\t\tconst source = this._source;\n\t\tlet visibleRect = this.clone();\n\n\t\t// There's no ancestor to crop <body> with the overflow.\n\t\tif ( !isBody( source ) ) {\n\t\t\tlet parent = source.parentNode || source.commonAncestorContainer;\n\n\t\t\t// Check the ancestors all the way up to the <body>.\n\t\t\twhile ( parent && !isBody( parent ) ) {\n\t\t\t\tconst parentRect = new Rect( parent );\n\t\t\t\tconst intersectionRect = visibleRect.getIntersection( parentRect );\n\n\t\t\t\tif ( intersectionRect ) {\n\t\t\t\t\tif ( intersectionRect.getArea() < visibleRect.getArea() ) {\n\t\t\t\t\t\t// Reduce the visible rect to the intersection.\n\t\t\t\t\t\tvisibleRect = intersectionRect;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// There's no intersection, the rect is completely invisible.\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tparent = parent.parentNode;\n\t\t\t}\n\t\t}\n\n\t\treturn visibleRect;\n\t}\n\n\t/**\n\t * Checks if all property values ({@link #top}, {@link #left}, {@link #right},\n\t * {@link #bottom}, {@link #width} and {@link #height}) are the equal in both rect\n\t * instances.\n\t *\n\t * @param {module:utils/dom/rect~Rect} rect A rect instance to compare with.\n\t * @returns {Boolean} `true` when Rects are equal. `false` otherwise.\n\t */\n\tisEqual( anotherRect ) {\n\t\tfor ( const prop of rectProperties ) {\n\t\t\tif ( this[ prop ] !== anotherRect[ prop ] ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\t/**\n\t * Checks whether a rect fully contains another rect instance.\n\t *\n\t * @param {module:utils/dom/rect~Rect} anotherRect\n\t * @returns {Boolean} `true` if contains, `false` otherwise.\n\t */\n\tcontains( anotherRect ) {\n\t\tconst intersectRect = this.getIntersection( anotherRect );\n\n\t\treturn !!( intersectRect && intersectRect.isEqual( anotherRect ) );\n\t}\n\n\t/**\n\t * Excludes scrollbars and CSS borders from the rect.\n\t *\n\t * * Borders are removed when {@link #_source} is an HTML element.\n\t * * Scrollbars are excluded from HTML elements and the `window`.\n\t *\n\t * @returns {module:utils/dom/rect~Rect} A rect which has been updated.\n\t */\n\texcludeScrollbarsAndBorders() {\n\t\tconst source = this._source;\n\t\tlet scrollBarWidth, scrollBarHeight, direction;\n\n\t\tif ( isWindow( source ) ) {\n\t\t\tscrollBarWidth = source.innerWidth - source.document.documentElement.clientWidth;\n\t\t\tscrollBarHeight = source.innerHeight - source.document.documentElement.clientHeight;\n\t\t\tdirection = source.getComputedStyle( source.document.documentElement ).direction;\n\t\t} else {\n\t\t\tconst borderWidths = getBorderWidths( this._source );\n\n\t\t\tscrollBarWidth = source.offsetWidth - source.clientWidth - borderWidths.left - borderWidths.right;\n\t\t\tscrollBarHeight = source.offsetHeight - source.clientHeight - borderWidths.top - borderWidths.bottom;\n\t\t\tdirection = source.ownerDocument.defaultView.getComputedStyle( source ).direction;\n\n\t\t\tthis.left += borderWidths.left;\n\t\t\tthis.top += borderWidths.top;\n\t\t\tthis.right -= borderWidths.right;\n\t\t\tthis.bottom -= borderWidths.bottom;\n\t\t\tthis.width = this.right - this.left;\n\t\t\tthis.height = this.bottom - this.top;\n\t\t}\n\n\t\tthis.width -= scrollBarWidth;\n\n\t\tif ( direction === 'ltr' ) {\n\t\t\tthis.right -= scrollBarWidth;\n\t\t} else {\n\t\t\tthis.left += scrollBarWidth;\n\t\t}\n\n\t\tthis.height -= scrollBarHeight;\n\t\tthis.bottom -= scrollBarHeight;\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Returns an array of rects of the given native DOM Range.\n\t *\n\t * @param {Range} range A native DOM range.\n\t * @returns {Array.<module:utils/dom/rect~Rect>} DOM Range rects.\n\t */\n\tstatic getDomRangeRects( range ) {\n\t\tconst rects = [];\n\t\t// Safari does not iterate over ClientRectList using for...of loop.\n\t\tconst clientRects = Array.from( range.getClientRects() );\n\n\t\tif ( clientRects.length ) {\n\t\t\tfor ( const rect of clientRects ) {\n\t\t\t\trects.push( new Rect( rect ) );\n\t\t\t}\n\t\t}\n\t\t// If there's no client rects for the Range, use parent container's bounding rect\n\t\t// instead and adjust rect's width to simulate the actual geometry of such range.\n\t\t// https://github.com/ckeditor/ckeditor5-utils/issues/153\n\t\t// https://github.com/ckeditor/ckeditor5-ui/issues/317\n\t\telse {\n\t\t\tlet startContainer = range.startContainer;\n\n\t\t\tif ( isText( startContainer ) ) {\n\t\t\t\tstartContainer = startContainer.parentNode;\n\t\t\t}\n\n\t\t\tconst rect = new Rect( startContainer.getBoundingClientRect() );\n\t\t\trect.right = rect.left;\n\t\t\trect.width = 0;\n\n\t\t\trects.push( rect );\n\t\t}\n\n\t\treturn rects;\n\t}\n\n\t/**\n\t * Returns a bounding rectangle that contains all the given `rects`.\n\t *\n\t * @param {Iterable.<module:utils/dom/rect~Rect>} rects A list of rectangles that should be contained in the result rectangle.\n\t * @returns {module:utils/dom/rect~Rect|null} Bounding rectangle or `null` if no `rects` were given.\n\t */\n\tstatic getBoundingRect( rects ) {\n\t\tconst boundingRectData = {\n\t\t\tleft: Number.POSITIVE_INFINITY,\n\t\t\ttop: Number.POSITIVE_INFINITY,\n\t\t\tright: Number.NEGATIVE_INFINITY,\n\t\t\tbottom: Number.NEGATIVE_INFINITY\n\t\t};\n\t\tlet rectangleCount = 0;\n\n\t\tfor ( const rect of rects ) {\n\t\t\trectangleCount++;\n\n\t\t\tboundingRectData.left = Math.min( boundingRectData.left, rect.left );\n\t\t\tboundingRectData.top = Math.min( boundingRectData.top, rect.top );\n\t\t\tboundingRectData.right = Math.max( boundingRectData.right, rect.right );\n\t\t\tboundingRectData.bottom = Math.max( boundingRectData.bottom, rect.bottom );\n\t\t}\n\n\t\tif ( rectangleCount == 0 ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tboundingRectData.width = boundingRectData.right - boundingRectData.left;\n\t\tboundingRectData.height = boundingRectData.bottom - boundingRectData.top;\n\n\t\treturn new Rect( boundingRectData );\n\t}\n}\n\n// Acquires all the rect properties from the passed source.\n//\n// @private\n// @param {module:utils/dom/rect~Rect} rect\n// @param {ClientRect|module:utils/dom/rect~Rect|Object} source\nfunction copyRectProperties( rect, source ) {\n\tfor ( const p of rectProperties ) {\n\t\trect[ p ] = source[ p ];\n\t}\n}\n\n// Checks if provided object is a <body> HTML element.\n//\n// @private\n// @param {HTMLElement|Range} elementOrRange\n// @returns {Boolean}\nfunction isBody( elementOrRange ) {\n\tif ( !isElement( elementOrRange ) ) {\n\t\treturn false;\n\t}\n\n\treturn elementOrRange === elementOrRange.ownerDocument.body;\n}\n"]}]}