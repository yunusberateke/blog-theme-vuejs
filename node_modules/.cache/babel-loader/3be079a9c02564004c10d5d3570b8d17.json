{"remainingRequest":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/babel-loader/lib/index.js!/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js?{}!/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-engine/src/view/matcher.js","dependencies":[{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-engine/src/view/matcher.js","mtime":499162500000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9ob21lL2VrZWJlcmF0L1lhbmRleC5EaXNrL1Byb2plbGVyaW0vQmVuaW1Qcm9qZWxlcmltL3dlYnNpdGVtL3dlYnNpdGVtLXdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL2hvbWUvZWtlYmVyYXQvWWFuZGV4LkRpc2svUHJvamVsZXJpbS9CZW5pbVByb2plbGVyaW0vd2Vic2l0ZW0vd2Vic2l0ZW0td2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL2hvbWUvZWtlYmVyYXQvWWFuZGV4LkRpc2svUHJvamVsZXJpbS9CZW5pbVByb2plbGVyaW0vd2Vic2l0ZW0vd2Vic2l0ZW0td2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwoKLyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDIxLCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIGVuZ2luZS92aWV3L21hdGNoZXIKICovCgovKioKICogVmlldyBtYXRjaGVyIGNsYXNzLgogKiBJbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGNhbiBiZSB1c2VkIHRvIGZpbmQge0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy9lbGVtZW50fkVsZW1lbnQgZWxlbWVudHN9IHRoYXQgbWF0Y2ggZ2l2ZW4gcGF0dGVybi4KICovCnZhciBNYXRjaGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAvKioKICAgKiBDcmVhdGVzIG5ldyBpbnN0YW5jZSBvZiBNYXRjaGVyLgogICAqCiAgICogQHBhcmFtIHtTdHJpbmd8UmVnRXhwfE9iamVjdH0gW3BhdHRlcm5dIE1hdGNoIHBhdHRlcm5zLiBTZWUge0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy9tYXRjaGVyfk1hdGNoZXIjYWRkIGFkZCBtZXRob2R9IGZvcgogICAqIG1vcmUgaW5mb3JtYXRpb24uCiAgICovCiAgZnVuY3Rpb24gTWF0Y2hlcigpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNYXRjaGVyKTsKCiAgICAvKioKICAgICAqIEBwcml2YXRlCiAgICAgKiBAdHlwZSB7QXJyYXk8U3RyaW5nfFJlZ0V4cHxPYmplY3Q+fQogICAgICovCiAgICB0aGlzLl9wYXR0ZXJucyA9IFtdOwogICAgdGhpcy5hZGQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CiAgLyoqCiAgICogQWRkcyBwYXR0ZXJuIG9yIHBhdHRlcm5zIHRvIG1hdGNoZXIgaW5zdGFuY2UuCiAgICoKICAgKgkJLy8gU3RyaW5nLgogICAqCQltYXRjaGVyLmFkZCggJ2RpdicgKTsKICAgKgogICAqCQkvLyBSZWd1bGFyIGV4cHJlc3Npb24uCiAgICoJCW1hdGNoZXIuYWRkKCAvXlx3LyApOwogICAqCiAgICoJCS8vIFNpbmdsZSBjbGFzcy4KICAgKgkJbWF0Y2hlci5hZGQoIHsKICAgKgkJCWNsYXNzZXM6ICdmb29iYXInCiAgICoJCX0gKTsKICAgKgogICAqIFNlZSB7QGxpbmsgbW9kdWxlOmVuZ2luZS92aWV3L21hdGNoZXJ+TWF0Y2hlclBhdHRlcm59IGZvciBtb3JlIGV4YW1wbGVzLgogICAqCiAgICogTXVsdGlwbGUgcGF0dGVybnMgY2FuIGJlIGFkZGVkIGluIG9uZSBjYWxsOgogICAqCiAgICogCQltYXRjaGVyLmFkZCggJ2RpdicsIHsgY2xhc3NlczogJ2Zvb2JhcicgfSApOwogICAqCiAgICogQHBhcmFtIHtPYmplY3R8U3RyaW5nfFJlZ0V4cHxGdW5jdGlvbn0gcGF0dGVybiBPYmplY3QgZGVzY3JpYmluZyBwYXR0ZXJuIGRldGFpbHMuIElmIHN0cmluZyBvciByZWd1bGFyIGV4cHJlc3Npb24KICAgKiBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWQgdG8gbWF0Y2ggZWxlbWVudCdzIG5hbWUuIFBhdHRlcm4gY2FuIGJlIGFsc28gcHJvdmlkZWQgaW4gYSBmb3JtCiAgICogb2YgYSBmdW5jdGlvbiAtIHRoZW4gdGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aXRoIGVhY2gge0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy9lbGVtZW50fkVsZW1lbnQgZWxlbWVudH0gYXMgYSBwYXJhbWV0ZXIuCiAgICogRnVuY3Rpb24ncyByZXR1cm4gdmFsdWUgd2lsbCBiZSBzdG9yZWQgdW5kZXIgYG1hdGNoYCBrZXkgb2YgdGhlIG9iamVjdCByZXR1cm5lZCBmcm9tCiAgICoge0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy9tYXRjaGVyfk1hdGNoZXIjbWF0Y2ggbWF0Y2h9IG9yIHtAbGluayBtb2R1bGU6ZW5naW5lL3ZpZXcvbWF0Y2hlcn5NYXRjaGVyI21hdGNoQWxsIG1hdGNoQWxsfSBtZXRob2RzLgogICAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gW3BhdHRlcm4ubmFtZV0gTmFtZSBvciByZWd1bGFyIGV4cHJlc3Npb24gdG8gbWF0Y2ggZWxlbWVudCdzIG5hbWUuCiAgICogQHBhcmFtIHtPYmplY3R9IFtwYXR0ZXJuLmF0dHJpYnV0ZXNdIE9iamVjdCB3aXRoIGtleS12YWx1ZSBwYWlycyByZXByZXNlbnRpbmcgYXR0cmlidXRlcyB0byBtYXRjaC4gRWFjaCBvYmplY3Qga2V5CiAgICogcmVwcmVzZW50cyBhdHRyaWJ1dGUgbmFtZS4gVmFsdWUgdW5kZXIgdGhhdCBrZXkgY2FuIGJlIGVpdGhlcjoKICAgKiAqIGB0cnVlYCAtIHRoZW4gYXR0cmlidXRlIGlzIGp1c3QgcmVxdWlyZWQgKGNhbiBiZSBlbXB0eSksCiAgICogKiBhIHN0cmluZyAtIHRoZW4gYXR0cmlidXRlIGhhcyB0byBiZSBlcXVhbCwgb3IKICAgKiAqIGEgcmVndWxhciBleHByZXNzaW9uIC0gdGhlbiBhdHRyaWJ1dGUgaGFzIHRvIG1hdGNoIHRoZSBleHByZXNzaW9uLgogICAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cHxBcnJheX0gW3BhdHRlcm4uY2xhc3Nlc10gQ2xhc3MgbmFtZSBvciBhcnJheSBvZiBjbGFzcyBuYW1lcyB0byBtYXRjaC4gRWFjaCBuYW1lIGNhbiBiZQogICAqIHByb3ZpZGVkIGluIGEgZm9ybSBvZiBzdHJpbmcgb3IgcmVndWxhciBleHByZXNzaW9uLgogICAqIEBwYXJhbSB7T2JqZWN0fSBbcGF0dGVybi5zdHlsZXNdIE9iamVjdCB3aXRoIGtleS12YWx1ZSBwYWlycyByZXByZXNlbnRpbmcgc3R5bGVzIHRvIG1hdGNoLiBFYWNoIG9iamVjdCBrZXkKICAgKiByZXByZXNlbnRzIHN0eWxlIG5hbWUuIFZhbHVlIHVuZGVyIHRoYXQga2V5IGNhbiBiZSBlaXRoZXIgYSBzdHJpbmcgb3IgYSByZWd1bGFyIGV4cHJlc3Npb24gYW5kIGl0IHdpbGwgYmUgdXNlZAogICAqIHRvIG1hdGNoIHN0eWxlIHZhbHVlLgogICAqLwoKCiAgX2NyZWF0ZUNsYXNzKE1hdGNoZXIsIFt7CiAgICBrZXk6ICJhZGQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZCgpIHsKICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHBhdHRlcm4gPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7CiAgICAgICAgcGF0dGVybltfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgICAgfQoKICAgICAgZm9yICh2YXIgX2kgPSAwLCBfcGF0dGVybiA9IHBhdHRlcm47IF9pIDwgX3BhdHRlcm4ubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgdmFyIGl0ZW0gPSBfcGF0dGVybltfaV07CgogICAgICAgIC8vIFN0cmluZyBvciBSZWdFeHAgcGF0dGVybiBpcyB1c2VkIGFzIGVsZW1lbnQncyBuYW1lLgogICAgICAgIGlmICh0eXBlb2YgaXRlbSA9PSAnc3RyaW5nJyB8fCBpdGVtIGluc3RhbmNlb2YgUmVnRXhwKSB7CiAgICAgICAgICBpdGVtID0gewogICAgICAgICAgICBuYW1lOiBpdGVtCiAgICAgICAgICB9OwogICAgICAgIH0gLy8gU2luZ2xlIGNsYXNzIG5hbWUvUmVnRXhwIGNhbiBiZSBwcm92aWRlZC4KCgogICAgICAgIGlmIChpdGVtLmNsYXNzZXMgJiYgKHR5cGVvZiBpdGVtLmNsYXNzZXMgPT0gJ3N0cmluZycgfHwgaXRlbS5jbGFzc2VzIGluc3RhbmNlb2YgUmVnRXhwKSkgewogICAgICAgICAgaXRlbS5jbGFzc2VzID0gW2l0ZW0uY2xhc3Nlc107CiAgICAgICAgfQoKICAgICAgICB0aGlzLl9wYXR0ZXJucy5wdXNoKGl0ZW0pOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIE1hdGNoZXMgZWxlbWVudHMgZm9yIGN1cnJlbnRseSBzdG9yZWQgcGF0dGVybnMuIFJldHVybnMgbWF0Y2ggaW5mb3JtYXRpb24gYWJvdXQgZmlyc3QgZm91bmQKICAgICAqIHtAbGluayBtb2R1bGU6ZW5naW5lL3ZpZXcvZWxlbWVudH5FbGVtZW50IGVsZW1lbnR9LCBvdGhlcndpc2UgcmV0dXJucyBgbnVsbGAuCiAgICAgKgogICAgICogRXhhbXBsZSBvZiByZXR1cm5lZCBvYmplY3Q6CiAgICAgKgogICAgICoJCXsKICAgICAqCQkJZWxlbWVudDogPGluc3RhbmNlIG9mIGZvdW5kIGVsZW1lbnQ+LAogICAgICoJCQlwYXR0ZXJuOiA8cGF0dGVybiB1c2VkIHRvIG1hdGNoIGZvdW5kIGVsZW1lbnQ+LAogICAgICoJCQltYXRjaDogewogICAgICoJCQkJbmFtZTogdHJ1ZSwKICAgICAqCQkJCWF0dHJpYnV0ZXM6IFsgJ3RpdGxlJywgJ2hyZWYnIF0sCiAgICAgKgkJCQljbGFzc2VzOiBbICdmb28nIF0sCiAgICAgKgkJCQlzdHlsZXM6IFsgJ2NvbG9yJywgJ3Bvc2l0aW9uJyBdCiAgICAgKgkJCX0KICAgICAqCQl9CiAgICAgKgogICAgICogQHNlZSBtb2R1bGU6ZW5naW5lL3ZpZXcvbWF0Y2hlcn5NYXRjaGVyI2FkZAogICAgICogQHNlZSBtb2R1bGU6ZW5naW5lL3ZpZXcvbWF0Y2hlcn5NYXRjaGVyI21hdGNoQWxsCiAgICAgKiBAcGFyYW0gey4uLm1vZHVsZTplbmdpbmUvdmlldy9lbGVtZW50fkVsZW1lbnR9IGVsZW1lbnQgVmlldyBlbGVtZW50IHRvIG1hdGNoIGFnYWluc3Qgc3RvcmVkIHBhdHRlcm5zLgogICAgICogQHJldHVybnMge09iamVjdHxudWxsfSByZXN1bHQKICAgICAqIEByZXR1cm5zIHttb2R1bGU6ZW5naW5lL3ZpZXcvZWxlbWVudH5FbGVtZW50fSByZXN1bHQuZWxlbWVudCBNYXRjaGVkIHZpZXcgZWxlbWVudC4KICAgICAqIEByZXR1cm5zIHtPYmplY3R8U3RyaW5nfFJlZ0V4cHxGdW5jdGlvbn0gcmVzdWx0LnBhdHRlcm4gUGF0dGVybiB0aGF0IHdhcyB1c2VkIHRvIGZpbmQgbWF0Y2hlZCBlbGVtZW50LgogICAgICogQHJldHVybnMge09iamVjdH0gcmVzdWx0Lm1hdGNoIE9iamVjdCByZXByZXNlbnRpbmcgbWF0Y2hlZCBlbGVtZW50IHBhcnRzLgogICAgICogQHJldHVybnMge0Jvb2xlYW59IFtyZXN1bHQubWF0Y2gubmFtZV0gVHJ1ZSBpZiBuYW1lIG9mIHRoZSBlbGVtZW50IHdhcyBtYXRjaGVkLgogICAgICogQHJldHVybnMge0FycmF5fSBbcmVzdWx0Lm1hdGNoLmF0dHJpYnV0ZXNdIEFycmF5IHdpdGggbWF0Y2hlZCBhdHRyaWJ1dGUgbmFtZXMuCiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFtyZXN1bHQubWF0Y2guY2xhc3Nlc10gQXJyYXkgd2l0aCBtYXRjaGVkIGNsYXNzIG5hbWVzLgogICAgICogQHJldHVybnMge0FycmF5fSBbcmVzdWx0Lm1hdGNoLnN0eWxlc10gQXJyYXkgd2l0aCBtYXRjaGVkIHN0eWxlIG5hbWVzLgogICAgICovCgogIH0sIHsKICAgIGtleTogIm1hdGNoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBtYXRjaCgpIHsKICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBlbGVtZW50ID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7CiAgICAgICAgZWxlbWVudFtfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdOwogICAgICB9CgogICAgICBmb3IgKHZhciBfaTIgPSAwLCBfZWxlbWVudCA9IGVsZW1lbnQ7IF9pMiA8IF9lbGVtZW50Lmxlbmd0aDsgX2kyKyspIHsKICAgICAgICB2YXIgc2luZ2xlRWxlbWVudCA9IF9lbGVtZW50W19pMl07CgogICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLl9wYXR0ZXJucyksCiAgICAgICAgICAgIF9zdGVwOwoKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBfc3RlcC52YWx1ZTsKICAgICAgICAgICAgdmFyIG1hdGNoID0gaXNFbGVtZW50TWF0Y2hpbmcoc2luZ2xlRWxlbWVudCwgcGF0dGVybik7CgogICAgICAgICAgICBpZiAobWF0Y2gpIHsKICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgZWxlbWVudDogc2luZ2xlRWxlbWVudCwKICAgICAgICAgICAgICAgIHBhdHRlcm46IHBhdHRlcm4sCiAgICAgICAgICAgICAgICBtYXRjaDogbWF0Y2gKICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgICAvKioKICAgICAqIE1hdGNoZXMgZWxlbWVudHMgZm9yIGN1cnJlbnRseSBzdG9yZWQgcGF0dGVybnMuIFJldHVybnMgYXJyYXkgb2YgbWF0Y2ggaW5mb3JtYXRpb24gd2l0aCBhbGwgZm91bmQKICAgICAqIHtAbGluayBtb2R1bGU6ZW5naW5lL3ZpZXcvZWxlbWVudH5FbGVtZW50IGVsZW1lbnRzfS4gSWYgbm8gZWxlbWVudCBpcyBmb3VuZCAtIHJldHVybnMgYG51bGxgLgogICAgICoKICAgICAqIEBzZWUgbW9kdWxlOmVuZ2luZS92aWV3L21hdGNoZXJ+TWF0Y2hlciNhZGQKICAgICAqIEBzZWUgbW9kdWxlOmVuZ2luZS92aWV3L21hdGNoZXJ+TWF0Y2hlciNtYXRjaAogICAgICogQHBhcmFtIHsuLi5tb2R1bGU6ZW5naW5lL3ZpZXcvZWxlbWVudH5FbGVtZW50fSBlbGVtZW50IFZpZXcgZWxlbWVudCB0byBtYXRjaCBhZ2FpbnN0IHN0b3JlZCBwYXR0ZXJucy4KICAgICAqIEByZXR1cm5zIHtBcnJheS48T2JqZWN0PnxudWxsfSBBcnJheSB3aXRoIG1hdGNoIGluZm9ybWF0aW9uIGFib3V0IGZvdW5kIGVsZW1lbnRzIG9yIGBudWxsYC4gRm9yIG1vcmUgaW5mb3JtYXRpb24KICAgICAqIHNlZSB7QGxpbmsgbW9kdWxlOmVuZ2luZS92aWV3L21hdGNoZXJ+TWF0Y2hlciNtYXRjaCBtYXRjaCBtZXRob2R9IGRlc2NyaXB0aW9uLgogICAgICovCgogIH0sIHsKICAgIGtleTogIm1hdGNoQWxsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBtYXRjaEFsbCgpIHsKICAgICAgdmFyIHJlc3VsdHMgPSBbXTsKCiAgICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgZWxlbWVudCA9IG5ldyBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykgewogICAgICAgIGVsZW1lbnRbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTsKICAgICAgfQoKICAgICAgZm9yICh2YXIgX2kzID0gMCwgX2VsZW1lbnQyID0gZWxlbWVudDsgX2kzIDwgX2VsZW1lbnQyLmxlbmd0aDsgX2kzKyspIHsKICAgICAgICB2YXIgc2luZ2xlRWxlbWVudCA9IF9lbGVtZW50MltfaTNdOwoKICAgICAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuX3BhdHRlcm5zKSwKICAgICAgICAgICAgX3N0ZXAyOwoKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBfc3RlcDIudmFsdWU7CiAgICAgICAgICAgIHZhciBtYXRjaCA9IGlzRWxlbWVudE1hdGNoaW5nKHNpbmdsZUVsZW1lbnQsIHBhdHRlcm4pOwoKICAgICAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHsKICAgICAgICAgICAgICAgIGVsZW1lbnQ6IHNpbmdsZUVsZW1lbnQsCiAgICAgICAgICAgICAgICBwYXR0ZXJuOiBwYXR0ZXJuLAogICAgICAgICAgICAgICAgbWF0Y2g6IG1hdGNoCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBfaXRlcmF0b3IyLmYoKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiByZXN1bHRzLmxlbmd0aCA+IDAgPyByZXN1bHRzIDogbnVsbDsKICAgIH0KICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgbmFtZSBvZiB0aGUgZWxlbWVudCB0byBtYXRjaCBpZiB0aGVyZSBpcyBleGFjdGx5IG9uZSBwYXR0ZXJuIGFkZGVkIHRvIHRoZSBtYXRjaGVyIGluc3RhbmNlCiAgICAgKiBhbmQgaXQgbWF0Y2hlcyBlbGVtZW50IG5hbWUgZGVmaW5lZCBieSBgc3RyaW5nYCAobm90IGBSZWdFeHBgKS4gT3RoZXJ3aXNlLCByZXR1cm5zIGBudWxsYC4KICAgICAqCiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfG51bGx9IEVsZW1lbnQgbmFtZSB0cnlpbmcgdG8gbWF0Y2guCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZ2V0RWxlbWVudE5hbWUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEVsZW1lbnROYW1lKCkgewogICAgICBpZiAodGhpcy5fcGF0dGVybnMubGVuZ3RoICE9PSAxKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KCiAgICAgIHZhciBwYXR0ZXJuID0gdGhpcy5fcGF0dGVybnNbMF07CiAgICAgIHZhciBuYW1lID0gcGF0dGVybi5uYW1lOwogICAgICByZXR1cm4gdHlwZW9mIHBhdHRlcm4gIT0gJ2Z1bmN0aW9uJyAmJiBuYW1lICYmICEobmFtZSBpbnN0YW5jZW9mIFJlZ0V4cCkgPyBuYW1lIDogbnVsbDsKICAgIH0KICB9XSk7CgogIHJldHVybiBNYXRjaGVyOwp9KCk7IC8vIFJldHVybnMgbWF0Y2ggaW5mb3JtYXRpb24gaWYge0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy9lbGVtZW50fkVsZW1lbnQgZWxlbWVudH0gaXMgbWF0Y2hpbmcgcHJvdmlkZWQgcGF0dGVybi4KLy8gSWYgZWxlbWVudCBjYW5ub3QgYmUgbWF0Y2hlZCB0byBwcm92aWRlZCBwYXR0ZXJuIC0gcmV0dXJucyBgbnVsbGAuCi8vCi8vIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS92aWV3L2VsZW1lbnR+RWxlbWVudH0gZWxlbWVudAovLyBAcGFyYW0ge09iamVjdHxTdHJpbmd8UmVnRXhwfEZ1bmN0aW9ufSBwYXR0ZXJuCi8vIEByZXR1cm5zIHtPYmplY3R8bnVsbH0gUmV0dXJucyBvYmplY3Qgd2l0aCBtYXRjaCBpbmZvcm1hdGlvbiBvciBudWxsIGlmIGVsZW1lbnQgaXMgbm90IG1hdGNoaW5nLgoKCmV4cG9ydCB7IE1hdGNoZXIgYXMgZGVmYXVsdCB9OwoKZnVuY3Rpb24gaXNFbGVtZW50TWF0Y2hpbmcoZWxlbWVudCwgcGF0dGVybikgewogIC8vIElmIHBhdHRlcm4gaXMgcHJvdmlkZWQgYXMgZnVuY3Rpb24gLSByZXR1cm4gcmVzdWx0IG9mIHRoYXQgZnVuY3Rpb247CiAgaWYgKHR5cGVvZiBwYXR0ZXJuID09ICdmdW5jdGlvbicpIHsKICAgIHJldHVybiBwYXR0ZXJuKGVsZW1lbnQpOwogIH0KCiAgdmFyIG1hdGNoID0ge307IC8vIENoZWNrIGVsZW1lbnQncyBuYW1lLgoKICBpZiAocGF0dGVybi5uYW1lKSB7CiAgICBtYXRjaC5uYW1lID0gbWF0Y2hOYW1lKHBhdHRlcm4ubmFtZSwgZWxlbWVudC5uYW1lKTsKCiAgICBpZiAoIW1hdGNoLm5hbWUpIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfSAvLyBDaGVjayBlbGVtZW50J3MgYXR0cmlidXRlcy4KCgogIGlmIChwYXR0ZXJuLmF0dHJpYnV0ZXMpIHsKICAgIG1hdGNoLmF0dHJpYnV0ZXMgPSBtYXRjaEF0dHJpYnV0ZXMocGF0dGVybi5hdHRyaWJ1dGVzLCBlbGVtZW50KTsKCiAgICBpZiAoIW1hdGNoLmF0dHJpYnV0ZXMpIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfSAvLyBDaGVjayBlbGVtZW50J3MgY2xhc3Nlcy4KCgogIGlmIChwYXR0ZXJuLmNsYXNzZXMpIHsKICAgIG1hdGNoLmNsYXNzZXMgPSBtYXRjaENsYXNzZXMocGF0dGVybi5jbGFzc2VzLCBlbGVtZW50KTsKCiAgICBpZiAoIW1hdGNoLmNsYXNzZXMpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0gLy8gQ2hlY2sgZWxlbWVudCdzIHN0eWxlcy4KCgogIGlmIChwYXR0ZXJuLnN0eWxlcykgewogICAgbWF0Y2guc3R5bGVzID0gbWF0Y2hTdHlsZXMocGF0dGVybi5zdHlsZXMsIGVsZW1lbnQpOwoKICAgIGlmICghbWF0Y2guc3R5bGVzKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9CgogIHJldHVybiBtYXRjaDsKfSAvLyBDaGVja3MgaWYgbmFtZSBjYW4gYmUgbWF0Y2hlZCBieSBwcm92aWRlZCBwYXR0ZXJuLgovLwovLyBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IHBhdHRlcm4KLy8gQHBhcmFtIHtTdHJpbmd9IG5hbWUKLy8gQHJldHVybnMge0Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIG5hbWUgY2FuIGJlIG1hdGNoZWQsIGBmYWxzZWAgb3RoZXJ3aXNlLgoKCmZ1bmN0aW9uIG1hdGNoTmFtZShwYXR0ZXJuLCBuYW1lKSB7CiAgLy8gSWYgcGF0dGVybiBpcyBwcm92aWRlZCBhcyBSZWdFeHAgLSB0ZXN0IGFnYWluc3QgdGhpcyByZWdleHAuCiAgaWYgKHBhdHRlcm4gaW5zdGFuY2VvZiBSZWdFeHApIHsKICAgIHJldHVybiBwYXR0ZXJuLnRlc3QobmFtZSk7CiAgfQoKICByZXR1cm4gcGF0dGVybiA9PT0gbmFtZTsKfSAvLyBDaGVja3MgaWYgYXR0cmlidXRlcyBvZiBwcm92aWRlZCBlbGVtZW50IGNhbiBiZSBtYXRjaGVkIGFnYWluc3QgcHJvdmlkZWQgcGF0dGVybnMuCi8vCi8vIEBwYXJhbSB7T2JqZWN0fSBwYXR0ZXJucyBPYmplY3Qgd2l0aCBpbmZvcm1hdGlvbiBhYm91dCBhdHRyaWJ1dGVzIHRvIG1hdGNoLiBFYWNoIGtleSBvZiB0aGUgb2JqZWN0IHdpbGwgYmUKLy8gdXNlZCBhcyBhdHRyaWJ1dGUgbmFtZS4gVmFsdWUgb2YgZWFjaCBrZXkgY2FuIGJlIGEgc3RyaW5nIG9yIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYXRjaCBhZ2FpbnN0IGF0dHJpYnV0ZSB2YWx1ZS4KLy8gQHBhcmFtIHttb2R1bGU6ZW5naW5lL3ZpZXcvZWxlbWVudH5FbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgd2hpY2ggYXR0cmlidXRlcyB3aWxsIGJlIHRlc3RlZC4KLy8gQHJldHVybnMge0FycmF5fG51bGx9IFJldHVybnMgYXJyYXkgd2l0aCBtYXRjaGVkIGF0dHJpYnV0ZSBuYW1lcyBvciBgbnVsbGAgaWYgbm8gYXR0cmlidXRlcyB3ZXJlIG1hdGNoZWQuCgoKZnVuY3Rpb24gbWF0Y2hBdHRyaWJ1dGVzKHBhdHRlcm5zLCBlbGVtZW50KSB7CiAgdmFyIG1hdGNoID0gW107CgogIGZvciAodmFyIG5hbWUgaW4gcGF0dGVybnMpIHsKICAgIHZhciBwYXR0ZXJuID0gcGF0dGVybnNbbmFtZV07CgogICAgaWYgKGVsZW1lbnQuaGFzQXR0cmlidXRlKG5hbWUpKSB7CiAgICAgIHZhciBhdHRyaWJ1dGUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShuYW1lKTsKCiAgICAgIGlmIChwYXR0ZXJuID09PSB0cnVlKSB7CiAgICAgICAgbWF0Y2gucHVzaChuYW1lKTsKICAgICAgfSBlbHNlIGlmIChwYXR0ZXJuIGluc3RhbmNlb2YgUmVnRXhwKSB7CiAgICAgICAgaWYgKHBhdHRlcm4udGVzdChhdHRyaWJ1dGUpKSB7CiAgICAgICAgICBtYXRjaC5wdXNoKG5hbWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlID09PSBwYXR0ZXJuKSB7CiAgICAgICAgbWF0Y2gucHVzaChuYW1lKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfQoKICByZXR1cm4gbWF0Y2g7Cn0gLy8gQ2hlY2tzIGlmIGNsYXNzZXMgb2YgcHJvdmlkZWQgZWxlbWVudCBjYW4gYmUgbWF0Y2hlZCBhZ2FpbnN0IHByb3ZpZGVkIHBhdHRlcm5zLgovLwovLyBAcGFyYW0ge0FycmF5LjxTdHJpbmd8UmVnRXhwPn0gcGF0dGVybnMgQXJyYXkgb2Ygc3RyaW5ncyBvciByZWd1bGFyIGV4cHJlc3Npb25zIHRvIG1hdGNoIGFnYWluc3QgZWxlbWVudCdzIGNsYXNzZXMuCi8vIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS92aWV3L2VsZW1lbnR+RWxlbWVudH0gZWxlbWVudCBFbGVtZW50IHdoaWNoIGNsYXNzZXMgd2lsbCBiZSB0ZXN0ZWQuCi8vIEByZXR1cm5zIHtBcnJheXxudWxsfSBSZXR1cm5zIGFycmF5IHdpdGggbWF0Y2hlZCBjbGFzcyBuYW1lcyBvciBgbnVsbGAgaWYgbm8gY2xhc3NlcyB3ZXJlIG1hdGNoZWQuCgoKZnVuY3Rpb24gbWF0Y2hDbGFzc2VzKHBhdHRlcm5zLCBlbGVtZW50KSB7CiAgdmFyIG1hdGNoID0gW107CgogIHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocGF0dGVybnMpLAogICAgICBfc3RlcDM7CgogIHRyeSB7CiAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykgewogICAgICB2YXIgcGF0dGVybiA9IF9zdGVwMy52YWx1ZTsKCiAgICAgIGlmIChwYXR0ZXJuIGluc3RhbmNlb2YgUmVnRXhwKSB7CiAgICAgICAgdmFyIGNsYXNzZXMgPSBlbGVtZW50LmdldENsYXNzTmFtZXMoKTsKCiAgICAgICAgdmFyIF9pdGVyYXRvcjQgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihjbGFzc2VzKSwKICAgICAgICAgICAgX3N0ZXA0OwoKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3I0LnMoKTsgIShfc3RlcDQgPSBfaXRlcmF0b3I0Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIG5hbWUgPSBfc3RlcDQudmFsdWU7CgogICAgICAgICAgICBpZiAocGF0dGVybi50ZXN0KG5hbWUpKSB7CiAgICAgICAgICAgICAgbWF0Y2gucHVzaChuYW1lKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yNC5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvcjQuZigpOwogICAgICAgIH0KCiAgICAgICAgaWYgKG1hdGNoLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKGVsZW1lbnQuaGFzQ2xhc3MocGF0dGVybikpIHsKICAgICAgICBtYXRjaC5wdXNoKHBhdHRlcm4pOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICB9CiAgfSBjYXRjaCAoZXJyKSB7CiAgICBfaXRlcmF0b3IzLmUoZXJyKTsKICB9IGZpbmFsbHkgewogICAgX2l0ZXJhdG9yMy5mKCk7CiAgfQoKICByZXR1cm4gbWF0Y2g7Cn0gLy8gQ2hlY2tzIGlmIHN0eWxlcyBvZiBwcm92aWRlZCBlbGVtZW50IGNhbiBiZSBtYXRjaGVkIGFnYWluc3QgcHJvdmlkZWQgcGF0dGVybnMuCi8vCi8vIEBwYXJhbSB7T2JqZWN0fSBwYXR0ZXJucyBPYmplY3Qgd2l0aCBpbmZvcm1hdGlvbiBhYm91dCBzdHlsZXMgdG8gbWF0Y2guIEVhY2gga2V5IG9mIHRoZSBvYmplY3Qgd2lsbCBiZQovLyB1c2VkIGFzIHN0eWxlIG5hbWUuIFZhbHVlIG9mIGVhY2gga2V5IGNhbiBiZSBhIHN0cmluZyBvciByZWd1bGFyIGV4cHJlc3Npb24gdG8gbWF0Y2ggYWdhaW5zdCBzdHlsZSB2YWx1ZS4KLy8gQHBhcmFtIHttb2R1bGU6ZW5naW5lL3ZpZXcvZWxlbWVudH5FbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgd2hpY2ggc3R5bGVzIHdpbGwgYmUgdGVzdGVkLgovLyBAcmV0dXJucyB7QXJyYXl8bnVsbH0gUmV0dXJucyBhcnJheSB3aXRoIG1hdGNoZWQgc3R5bGUgbmFtZXMgb3IgYG51bGxgIGlmIG5vIHN0eWxlcyB3ZXJlIG1hdGNoZWQuCgoKZnVuY3Rpb24gbWF0Y2hTdHlsZXMocGF0dGVybnMsIGVsZW1lbnQpIHsKICB2YXIgbWF0Y2ggPSBbXTsKCiAgZm9yICh2YXIgbmFtZSBpbiBwYXR0ZXJucykgewogICAgdmFyIHBhdHRlcm4gPSBwYXR0ZXJuc1tuYW1lXTsKCiAgICBpZiAoZWxlbWVudC5oYXNTdHlsZShuYW1lKSkgewogICAgICB2YXIgc3R5bGUgPSBlbGVtZW50LmdldFN0eWxlKG5hbWUpOwoKICAgICAgaWYgKHBhdHRlcm4gaW5zdGFuY2VvZiBSZWdFeHApIHsKICAgICAgICBpZiAocGF0dGVybi50ZXN0KHN0eWxlKSkgewogICAgICAgICAgbWF0Y2gucHVzaChuYW1lKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHN0eWxlID09PSBwYXR0ZXJuKSB7CiAgICAgICAgbWF0Y2gucHVzaChuYW1lKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfQoKICByZXR1cm4gbWF0Y2g7Cn0KLyoqCiAqIEFuIGVudGl0eSB0aGF0IGlzIGEgdmFsaWQgcGF0dGVybiByZWNvZ25pemVkIGJ5IGEgbWF0Y2hlci4gYE1hdGNoZXJQYXR0ZXJuYCBpcyB1c2VkIGJ5IHtAbGluayB+TWF0Y2hlcn0gdG8gcmVjb2duaXplCiAqIGlmIGEgdmlldyBlbGVtZW50IGZpdHMgaW4gYSBncm91cCBvZiB2aWV3IGVsZW1lbnRzIGRlc2NyaWJlZCBieSB0aGUgcGF0dGVybi4KICoKICogYE1hdGNoZXJQYXR0ZXJuYCBjYW4gYmUgZ2l2ZW4gYXMgYSBgU3RyaW5nYCwgYSBgUmVnRXhwYCwgYW4gYE9iamVjdGAgb3IgYSBgRnVuY3Rpb25gLgogKgogKiBJZiBgTWF0Y2hlclBhdHRlcm5gIGlzIGdpdmVuIGFzIGEgYFN0cmluZ2Agb3IgYFJlZ0V4cGAsIGl0IHdpbGwgbWF0Y2ggYW55IHZpZXcgZWxlbWVudCB0aGF0IGhhcyBhIG1hdGNoaW5nIG5hbWU6CiAqCiAqCQkvLyBNYXRjaCBhbnkgZWxlbWVudCB3aXRoIG5hbWUgZXF1YWwgdG8gJ2RpdicuCiAqCQljb25zdCBwYXR0ZXJuID0gJ2Rpdic7CiAqCiAqCQkvLyBNYXRjaCBhbnkgZWxlbWVudCB3aGljaCBuYW1lIHN0YXJ0cyBvbiAncCcuCiAqCQljb25zdCBwYXR0ZXJuID0gL15wLzsKICoKICogSWYgYE1hdGNoZXJQYXR0ZXJuYCBpcyBnaXZlbiBhcyBhbiBgT2JqZWN0YCwgYWxsIHRoZSBvYmplY3QncyBwcm9wZXJ0aWVzIHdpbGwgYmUgbWF0Y2hlZCB3aXRoIHZpZXcgZWxlbWVudCBwcm9wZXJ0aWVzLgogKgogKgkJLy8gTWF0Y2ggdmlldyBlbGVtZW50J3MgbmFtZS4KICoJCWNvbnN0IHBhdHRlcm4gPSB7IG5hbWU6IC9ecC8gfTsKICoKICoJCS8vIE1hdGNoIHZpZXcgZWxlbWVudCB3aGljaCBoYXMgbWF0Y2hpbmcgYXR0cmlidXRlcy4KICoJCWNvbnN0IHBhdHRlcm4gPSB7CiAqCQkJYXR0cmlidXRlczogewogKgkJCQl0aXRsZTogJ2Zvb2JhcicsCS8vIEF0dHJpYnV0ZSB0aXRsZSBzaG91bGQgZXF1YWwgJ2Zvb2JhcicuCiAqCQkJCWZvbzogL15cdysvLAkJLy8gQXR0cmlidXRlIGZvbyBzaG91bGQgbWF0Y2ggL15cdysvIHJlZ2V4cC4KICoJCQkJYmFyOiB0cnVlCQkJLy8gQXR0cmlidXRlIGJhciBzaG91bGQgYmUgc2V0IChjYW4gYmUgZW1wdHkpLgogKgkJCX0KICoJCX07CiAqCiAqCQkvLyBNYXRjaCB2aWV3IGVsZW1lbnQgd2hpY2ggaGFzIGdpdmVuIGNsYXNzLgogKgkJY29uc3QgcGF0dGVybiA9IHsKICoJCQljbGFzc2VzOiAnZm9vYmFyJwogKgkJfTsKICoKICoJCS8vIE1hdGNoIHZpZXcgZWxlbWVudCBjbGFzcyB1c2luZyByZWd1bGFyIGV4cHJlc3Npb24uCiAqCQljb25zdCBwYXR0ZXJuID0gewogKgkJCWNsYXNzZXM6IC9mb28uLi4vCiAqCQl9OwogKgogKgkJLy8gTXVsdGlwbGUgY2xhc3NlcyB0byBtYXRjaC4KICoJCWNvbnN0IHBhdHRlcm4gPSB7CiAqCQkJY2xhc3NlczogWyAnYmF6JywgJ2JhcicsIC9mb28uLi4vIF0KICoJCX07CiAqCiAqCQkvLyBNYXRjaCB2aWV3IGVsZW1lbnQgd2hpY2ggaGFzIGdpdmVuIHN0eWxlcy4KICoJCWNvbnN0IHBhdHRlcm4gPSB7CiAqCQkJc3R5bGVzOiB7CiAqCQkJCXBvc2l0aW9uOiAnYWJzb2x1dGUnLAogKgkJCQljb2xvcjogL15cdypibHVlJC8KICoJCQl9CiAqCQl9OwogKgogKgkJLy8gUGF0dGVybiB3aXRoIG11bHRpcGxlIHByb3BlcnRpZXMuCiAqCQljb25zdCBwYXR0ZXJuID0gewogKgkJCW5hbWU6ICdzcGFuJywKICoJCQlzdHlsZXM6IHsKICoJCQkJJ2ZvbnQtd2VpZ2h0JzogJ2JvbGQnCiAqCQkJfSwKICoJCQljbGFzc2VzOiAnaGlnaGxpZ2h0ZWQnCiAqCQl9OwogKgogKiBJZiBgTWF0Y2hlclBhdHRlcm5gIGlzIGdpdmVuIGFzIGEgYEZ1bmN0aW9uYCwgdGhlIGZ1bmN0aW9uIHRha2VzIGEgdmlldyBlbGVtZW50IGFzIGEgZmlyc3QgYW5kIG9ubHkgcGFyYW1ldGVyIGFuZAogKiB0aGUgZnVuY3Rpb24gc2hvdWxkIGRlY2lkZSB3aGV0aGVyIHRoYXQgZWxlbWVudCBtYXRjaGVzLiBJZiBzbywgaXQgc2hvdWxkIHJldHVybiB3aGF0IHBhcnQgb2YgdGhlIHZpZXcgZWxlbWVudCBoYXMgYmVlbiBtYXRjaGVkLgogKiBPdGhlcndpc2UsIHRoZSBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIGBudWxsYC4gVGhlIHJldHVybmVkIHJlc3VsdCB3aWxsIGJlIGluY2x1ZGVkIGluIGBtYXRjaGAgcHJvcGVydHkgb2YgdGhlIG9iamVjdAogKiByZXR1cm5lZCBieSB7QGxpbmsgfk1hdGNoZXIjbWF0Y2h9IGNhbGwuCiAqCiAqCQkvLyBNYXRjaCBhbiBlbXB0eSA8ZGl2PiBlbGVtZW50LgogKgkJY29uc3QgcGF0dGVybiA9IGVsZW1lbnQgPT4gewogKgkJCWlmICggZWxlbWVudC5uYW1lID09ICdkaXYnICYmIGVsZW1lbnQuY2hpbGRDb3VudCA+IDAgKSB7CiAqCQkJCS8vIFJldHVybiB3aGljaCBwYXJ0IG9mIHRoZSBlbGVtZW50IHdhcyBtYXRjaGVkLgogKgkJCQlyZXR1cm4geyBuYW1lOiB0cnVlIH07CiAqCQkJfQogKgogKgkJCXJldHVybiBudWxsOwogKgkJfTsKICoKICoJCS8vIE1hdGNoIGEgPHA+IGVsZW1lbnQgd2l0aCBiaWcgZm9udCAoImhlYWRpbmctbGlrZSIgZWxlbWVudCkuCiAqCQljb25zdCBwYXR0ZXJuID0gZWxlbWVudCA9PiB7CiAqCQkJaWYgKCBlbGVtZW50Lm5hbWUgPT0gJ3AnICkgewogKgkJCQljb25zdCBmb250U2l6ZSA9IGVsZW1lbnQuZ2V0U3R5bGUoICdmb250LXNpemUnICk7CiAqCQkJCWNvbnN0IHNpemUgPSBmb250U2l6ZS5tYXRjaCggLyhcZCspL3B4ICk7CiAqCiAqCQkJCWlmICggc2l6ZSAmJiBOdW1iZXIoIHNpemVbIDEgXSApID4gMjYgKSB7CiAqCQkJCQlyZXR1cm4geyBuYW1lOiB0cnVlLCBhdHRyaWJ1dGU6IFsgJ2ZvbnQtc2l6ZScgXSB9OwogKgkJCQl9CiAqCQkJfQogKgogKgkJCXJldHVybiBudWxsOwogKgkJfTsKICoKICogYE1hdGNoZXJQYXR0ZXJuYCBpcyBkZWZpbmVkIGluIGEgd2F5IHRoYXQgaXQgaXMgYSBzdXBlcnNldCBvZiB7QGxpbmsgbW9kdWxlOmVuZ2luZS92aWV3L2VsZW1lbnRkZWZpbml0aW9ufkVsZW1lbnREZWZpbml0aW9ufSwKICogdGhhdCBpcywgZXZlcnkgYEVsZW1lbnREZWZpbml0aW9uYCBhbHNvIGNhbiBiZSB1c2VkIGFzIGEgYE1hdGNoZXJQYXR0ZXJuYC4KICoKICogQHR5cGVkZWYge1N0cmluZ3xSZWdFeHB8T2JqZWN0fEZ1bmN0aW9ufSBtb2R1bGU6ZW5naW5lL3ZpZXcvbWF0Y2hlcn5NYXRjaGVyUGF0dGVybgogKgogKiBAcHJvcGVydHkge1N0cmluZ3xSZWdFeHB9IFtuYW1lXSBWaWV3IGVsZW1lbnQgbmFtZSB0byBtYXRjaC4KICogQHByb3BlcnR5IHtTdHJpbmd8UmVnRXhwfEFycmF5LjxTdHJpbmd8UmVnRXhwPn0gW2NsYXNzZXNdIFZpZXcgZWxlbWVudCdzIGNsYXNzIG5hbWUocykgdG8gbWF0Y2guCiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBbc3R5bGVzXSBPYmplY3Qgd2l0aCBrZXktdmFsdWUgcGFpcnMgcmVwcmVzZW50aW5nIHN0eWxlcyB0byBtYXRjaC4KICogRWFjaCBvYmplY3Qga2V5IHJlcHJlc2VudHMgc3R5bGUgbmFtZS4gVmFsdWUgY2FuIGJlIGdpdmVuIGFzIGBTdHJpbmdgIG9yIGBSZWdFeHBgLgogKiBAcHJvcGVydHkge09iamVjdH0gW2F0dHJpYnV0ZXNdIE9iamVjdCB3aXRoIGtleS12YWx1ZSBwYWlycyByZXByZXNlbnRpbmcgYXR0cmlidXRlcyB0byBtYXRjaC4KICogRWFjaCBvYmplY3Qga2V5IHJlcHJlc2VudHMgYXR0cmlidXRlIG5hbWUuIFZhbHVlIGNhbiBiZSBnaXZlbiBhcyBgU3RyaW5nYCBvciBgUmVnRXhwYC4KICov"},{"version":3,"sources":["/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-engine/src/view/matcher.js"],"names":["Matcher","_patterns","add","pattern","item","RegExp","name","classes","push","element","singleElement","match","isElementMatching","results","length","matchName","attributes","matchAttributes","matchClasses","styles","matchStyles","test","patterns","hasAttribute","attribute","getAttribute","getClassNames","hasClass","hasStyle","style","getStyle"],"mappings":"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,MAYO,IAAKL,OAAO,CAACkB,QAAR,CAAkBxB,OAAlB,CAAL,EAAmC;AACzCQ,QAAAA,KAAK,CAACH,IAAN,CAAYL,OAAZ;AACA,OAFM,MAEA;AACN,eAAO,IAAP;AACA;AACD;AArByC;AAAA;AAAA;AAAA;AAAA;;AAuB1C,SAAOQ,KAAP;AACA,C,CAED;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASS,WAAT,CAAsBE,QAAtB,EAAgCb,OAAhC,EAA0C;AACzC,MAAME,KAAK,GAAG,EAAd;;AAEA,OAAM,IAAML,IAAZ,IAAoBgB,QAApB,EAA+B;AAC9B,QAAMnB,OAAO,GAAGmB,QAAQ,CAAEhB,IAAF,CAAxB;;AAEA,QAAKG,OAAO,CAACmB,QAAR,CAAkBtB,IAAlB,CAAL,EAAgC;AAC/B,UAAMuB,KAAK,GAAGpB,OAAO,CAACqB,QAAR,CAAkBxB,IAAlB,CAAd;;AAEA,UAAKH,OAAO,YAAYE,MAAxB,EAAiC;AAChC,YAAKF,OAAO,CAACkB,IAAR,CAAcQ,KAAd,CAAL,EAA6B;AAC5BlB,UAAAA,KAAK,CAACH,IAAN,CAAYF,IAAZ;AACA,SAFD,MAEO;AACN,iBAAO,IAAP;AACA;AACD,OAND,MAMO,IAAKuB,KAAK,KAAK1B,OAAf,EAAyB;AAC/BQ,QAAAA,KAAK,CAACH,IAAN,CAAYF,IAAZ;AACA,OAFM,MAEA;AACN,eAAO,IAAP;AACA;AACD,KAdD,MAcO;AACN,aAAO,IAAP;AACA;AACD;;AAED,SAAOK,KAAP;AACA;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module engine/view/matcher\n */\n\n/**\n * View matcher class.\n * Instance of this class can be used to find {@link module:engine/view/element~Element elements} that match given pattern.\n */\nexport default class Matcher {\n\t/**\n\t * Creates new instance of Matcher.\n\t *\n\t * @param {String|RegExp|Object} [pattern] Match patterns. See {@link module:engine/view/matcher~Matcher#add add method} for\n\t * more information.\n\t */\n\tconstructor( ...pattern ) {\n\t\t/**\n\t\t * @private\n\t\t * @type {Array<String|RegExp|Object>}\n\t\t */\n\t\tthis._patterns = [];\n\n\t\tthis.add( ...pattern );\n\t}\n\n\t/**\n\t * Adds pattern or patterns to matcher instance.\n\t *\n\t *\t\t// String.\n\t *\t\tmatcher.add( 'div' );\n\t *\n\t *\t\t// Regular expression.\n\t *\t\tmatcher.add( /^\\w/ );\n\t *\n\t *\t\t// Single class.\n\t *\t\tmatcher.add( {\n\t *\t\t\tclasses: 'foobar'\n\t *\t\t} );\n\t *\n\t * See {@link module:engine/view/matcher~MatcherPattern} for more examples.\n\t *\n\t * Multiple patterns can be added in one call:\n\t *\n\t * \t\tmatcher.add( 'div', { classes: 'foobar' } );\n\t *\n\t * @param {Object|String|RegExp|Function} pattern Object describing pattern details. If string or regular expression\n\t * is provided it will be used to match element's name. Pattern can be also provided in a form\n\t * of a function - then this function will be called with each {@link module:engine/view/element~Element element} as a parameter.\n\t * Function's return value will be stored under `match` key of the object returned from\n\t * {@link module:engine/view/matcher~Matcher#match match} or {@link module:engine/view/matcher~Matcher#matchAll matchAll} methods.\n\t * @param {String|RegExp} [pattern.name] Name or regular expression to match element's name.\n\t * @param {Object} [pattern.attributes] Object with key-value pairs representing attributes to match. Each object key\n\t * represents attribute name. Value under that key can be either:\n\t * * `true` - then attribute is just required (can be empty),\n\t * * a string - then attribute has to be equal, or\n\t * * a regular expression - then attribute has to match the expression.\n\t * @param {String|RegExp|Array} [pattern.classes] Class name or array of class names to match. Each name can be\n\t * provided in a form of string or regular expression.\n\t * @param {Object} [pattern.styles] Object with key-value pairs representing styles to match. Each object key\n\t * represents style name. Value under that key can be either a string or a regular expression and it will be used\n\t * to match style value.\n\t */\n\tadd( ...pattern ) {\n\t\tfor ( let item of pattern ) {\n\t\t\t// String or RegExp pattern is used as element's name.\n\t\t\tif ( typeof item == 'string' || item instanceof RegExp ) {\n\t\t\t\titem = { name: item };\n\t\t\t}\n\n\t\t\t// Single class name/RegExp can be provided.\n\t\t\tif ( item.classes && ( typeof item.classes == 'string' || item.classes instanceof RegExp ) ) {\n\t\t\t\titem.classes = [ item.classes ];\n\t\t\t}\n\n\t\t\tthis._patterns.push( item );\n\t\t}\n\t}\n\n\t/**\n\t * Matches elements for currently stored patterns. Returns match information about first found\n\t * {@link module:engine/view/element~Element element}, otherwise returns `null`.\n\t *\n\t * Example of returned object:\n\t *\n\t *\t\t{\n\t *\t\t\telement: <instance of found element>,\n\t *\t\t\tpattern: <pattern used to match found element>,\n\t *\t\t\tmatch: {\n\t *\t\t\t\tname: true,\n\t *\t\t\t\tattributes: [ 'title', 'href' ],\n\t *\t\t\t\tclasses: [ 'foo' ],\n\t *\t\t\t\tstyles: [ 'color', 'position' ]\n\t *\t\t\t}\n\t *\t\t}\n\t *\n\t * @see module:engine/view/matcher~Matcher#add\n\t * @see module:engine/view/matcher~Matcher#matchAll\n\t * @param {...module:engine/view/element~Element} element View element to match against stored patterns.\n\t * @returns {Object|null} result\n\t * @returns {module:engine/view/element~Element} result.element Matched view element.\n\t * @returns {Object|String|RegExp|Function} result.pattern Pattern that was used to find matched element.\n\t * @returns {Object} result.match Object representing matched element parts.\n\t * @returns {Boolean} [result.match.name] True if name of the element was matched.\n\t * @returns {Array} [result.match.attributes] Array with matched attribute names.\n\t * @returns {Array} [result.match.classes] Array with matched class names.\n\t * @returns {Array} [result.match.styles] Array with matched style names.\n\t */\n\tmatch( ...element ) {\n\t\tfor ( const singleElement of element ) {\n\t\t\tfor ( const pattern of this._patterns ) {\n\t\t\t\tconst match = isElementMatching( singleElement, pattern );\n\n\t\t\t\tif ( match ) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\telement: singleElement,\n\t\t\t\t\t\tpattern,\n\t\t\t\t\t\tmatch\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\t/**\n\t * Matches elements for currently stored patterns. Returns array of match information with all found\n\t * {@link module:engine/view/element~Element elements}. If no element is found - returns `null`.\n\t *\n\t * @see module:engine/view/matcher~Matcher#add\n\t * @see module:engine/view/matcher~Matcher#match\n\t * @param {...module:engine/view/element~Element} element View element to match against stored patterns.\n\t * @returns {Array.<Object>|null} Array with match information about found elements or `null`. For more information\n\t * see {@link module:engine/view/matcher~Matcher#match match method} description.\n\t */\n\tmatchAll( ...element ) {\n\t\tconst results = [];\n\n\t\tfor ( const singleElement of element ) {\n\t\t\tfor ( const pattern of this._patterns ) {\n\t\t\t\tconst match = isElementMatching( singleElement, pattern );\n\n\t\t\t\tif ( match ) {\n\t\t\t\t\tresults.push( {\n\t\t\t\t\t\telement: singleElement,\n\t\t\t\t\t\tpattern,\n\t\t\t\t\t\tmatch\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn results.length > 0 ? results : null;\n\t}\n\n\t/**\n\t * Returns the name of the element to match if there is exactly one pattern added to the matcher instance\n\t * and it matches element name defined by `string` (not `RegExp`). Otherwise, returns `null`.\n\t *\n\t * @returns {String|null} Element name trying to match.\n\t */\n\tgetElementName() {\n\t\tif ( this._patterns.length !== 1 ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst pattern = this._patterns[ 0 ];\n\t\tconst name = pattern.name;\n\n\t\treturn ( typeof pattern != 'function' && name && !( name instanceof RegExp ) ) ? name : null;\n\t}\n}\n\n// Returns match information if {@link module:engine/view/element~Element element} is matching provided pattern.\n// If element cannot be matched to provided pattern - returns `null`.\n//\n// @param {module:engine/view/element~Element} element\n// @param {Object|String|RegExp|Function} pattern\n// @returns {Object|null} Returns object with match information or null if element is not matching.\nfunction isElementMatching( element, pattern ) {\n\t// If pattern is provided as function - return result of that function;\n\tif ( typeof pattern == 'function' ) {\n\t\treturn pattern( element );\n\t}\n\n\tconst match = {};\n\t// Check element's name.\n\tif ( pattern.name ) {\n\t\tmatch.name = matchName( pattern.name, element.name );\n\n\t\tif ( !match.name ) {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t// Check element's attributes.\n\tif ( pattern.attributes ) {\n\t\tmatch.attributes = matchAttributes( pattern.attributes, element );\n\n\t\tif ( !match.attributes ) {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t// Check element's classes.\n\tif ( pattern.classes ) {\n\t\tmatch.classes = matchClasses( pattern.classes, element );\n\n\t\tif ( !match.classes ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t// Check element's styles.\n\tif ( pattern.styles ) {\n\t\tmatch.styles = matchStyles( pattern.styles, element );\n\n\t\tif ( !match.styles ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn match;\n}\n\n// Checks if name can be matched by provided pattern.\n//\n// @param {String|RegExp} pattern\n// @param {String} name\n// @returns {Boolean} Returns `true` if name can be matched, `false` otherwise.\nfunction matchName( pattern, name ) {\n\t// If pattern is provided as RegExp - test against this regexp.\n\tif ( pattern instanceof RegExp ) {\n\t\treturn pattern.test( name );\n\t}\n\n\treturn pattern === name;\n}\n\n// Checks if attributes of provided element can be matched against provided patterns.\n//\n// @param {Object} patterns Object with information about attributes to match. Each key of the object will be\n// used as attribute name. Value of each key can be a string or regular expression to match against attribute value.\n// @param {module:engine/view/element~Element} element Element which attributes will be tested.\n// @returns {Array|null} Returns array with matched attribute names or `null` if no attributes were matched.\nfunction matchAttributes( patterns, element ) {\n\tconst match = [];\n\n\tfor ( const name in patterns ) {\n\t\tconst pattern = patterns[ name ];\n\n\t\tif ( element.hasAttribute( name ) ) {\n\t\t\tconst attribute = element.getAttribute( name );\n\n\t\t\tif ( pattern === true ) {\n\t\t\t\tmatch.push( name );\n\t\t\t} else if ( pattern instanceof RegExp ) {\n\t\t\t\tif ( pattern.test( attribute ) ) {\n\t\t\t\t\tmatch.push( name );\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t} else if ( attribute === pattern ) {\n\t\t\t\tmatch.push( name );\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\treturn match;\n}\n\n// Checks if classes of provided element can be matched against provided patterns.\n//\n// @param {Array.<String|RegExp>} patterns Array of strings or regular expressions to match against element's classes.\n// @param {module:engine/view/element~Element} element Element which classes will be tested.\n// @returns {Array|null} Returns array with matched class names or `null` if no classes were matched.\nfunction matchClasses( patterns, element ) {\n\tconst match = [];\n\n\tfor ( const pattern of patterns ) {\n\t\tif ( pattern instanceof RegExp ) {\n\t\t\tconst classes = element.getClassNames();\n\n\t\t\tfor ( const name of classes ) {\n\t\t\t\tif ( pattern.test( name ) ) {\n\t\t\t\t\tmatch.push( name );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( match.length === 0 ) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t} else if ( element.hasClass( pattern ) ) {\n\t\t\tmatch.push( pattern );\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\treturn match;\n}\n\n// Checks if styles of provided element can be matched against provided patterns.\n//\n// @param {Object} patterns Object with information about styles to match. Each key of the object will be\n// used as style name. Value of each key can be a string or regular expression to match against style value.\n// @param {module:engine/view/element~Element} element Element which styles will be tested.\n// @returns {Array|null} Returns array with matched style names or `null` if no styles were matched.\nfunction matchStyles( patterns, element ) {\n\tconst match = [];\n\n\tfor ( const name in patterns ) {\n\t\tconst pattern = patterns[ name ];\n\n\t\tif ( element.hasStyle( name ) ) {\n\t\t\tconst style = element.getStyle( name );\n\n\t\t\tif ( pattern instanceof RegExp ) {\n\t\t\t\tif ( pattern.test( style ) ) {\n\t\t\t\t\tmatch.push( name );\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t} else if ( style === pattern ) {\n\t\t\t\tmatch.push( name );\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\treturn match;\n}\n\n/**\n * An entity that is a valid pattern recognized by a matcher. `MatcherPattern` is used by {@link ~Matcher} to recognize\n * if a view element fits in a group of view elements described by the pattern.\n *\n * `MatcherPattern` can be given as a `String`, a `RegExp`, an `Object` or a `Function`.\n *\n * If `MatcherPattern` is given as a `String` or `RegExp`, it will match any view element that has a matching name:\n *\n *\t\t// Match any element with name equal to 'div'.\n *\t\tconst pattern = 'div';\n *\n *\t\t// Match any element which name starts on 'p'.\n *\t\tconst pattern = /^p/;\n *\n * If `MatcherPattern` is given as an `Object`, all the object's properties will be matched with view element properties.\n *\n *\t\t// Match view element's name.\n *\t\tconst pattern = { name: /^p/ };\n *\n *\t\t// Match view element which has matching attributes.\n *\t\tconst pattern = {\n *\t\t\tattributes: {\n *\t\t\t\ttitle: 'foobar',\t// Attribute title should equal 'foobar'.\n *\t\t\t\tfoo: /^\\w+/,\t\t// Attribute foo should match /^\\w+/ regexp.\n *\t\t\t\tbar: true\t\t\t// Attribute bar should be set (can be empty).\n *\t\t\t}\n *\t\t};\n *\n *\t\t// Match view element which has given class.\n *\t\tconst pattern = {\n *\t\t\tclasses: 'foobar'\n *\t\t};\n *\n *\t\t// Match view element class using regular expression.\n *\t\tconst pattern = {\n *\t\t\tclasses: /foo.../\n *\t\t};\n *\n *\t\t// Multiple classes to match.\n *\t\tconst pattern = {\n *\t\t\tclasses: [ 'baz', 'bar', /foo.../ ]\n *\t\t};\n *\n *\t\t// Match view element which has given styles.\n *\t\tconst pattern = {\n *\t\t\tstyles: {\n *\t\t\t\tposition: 'absolute',\n *\t\t\t\tcolor: /^\\w*blue$/\n *\t\t\t}\n *\t\t};\n *\n *\t\t// Pattern with multiple properties.\n *\t\tconst pattern = {\n *\t\t\tname: 'span',\n *\t\t\tstyles: {\n *\t\t\t\t'font-weight': 'bold'\n *\t\t\t},\n *\t\t\tclasses: 'highlighted'\n *\t\t};\n *\n * If `MatcherPattern` is given as a `Function`, the function takes a view element as a first and only parameter and\n * the function should decide whether that element matches. If so, it should return what part of the view element has been matched.\n * Otherwise, the function should return `null`. The returned result will be included in `match` property of the object\n * returned by {@link ~Matcher#match} call.\n *\n *\t\t// Match an empty <div> element.\n *\t\tconst pattern = element => {\n *\t\t\tif ( element.name == 'div' && element.childCount > 0 ) {\n *\t\t\t\t// Return which part of the element was matched.\n *\t\t\t\treturn { name: true };\n *\t\t\t}\n *\n *\t\t\treturn null;\n *\t\t};\n *\n *\t\t// Match a <p> element with big font (\"heading-like\" element).\n *\t\tconst pattern = element => {\n *\t\t\tif ( element.name == 'p' ) {\n *\t\t\t\tconst fontSize = element.getStyle( 'font-size' );\n *\t\t\t\tconst size = fontSize.match( /(\\d+)/px );\n *\n *\t\t\t\tif ( size && Number( size[ 1 ] ) > 26 ) {\n *\t\t\t\t\treturn { name: true, attribute: [ 'font-size' ] };\n *\t\t\t\t}\n *\t\t\t}\n *\n *\t\t\treturn null;\n *\t\t};\n *\n * `MatcherPattern` is defined in a way that it is a superset of {@link module:engine/view/elementdefinition~ElementDefinition},\n * that is, every `ElementDefinition` also can be used as a `MatcherPattern`.\n *\n * @typedef {String|RegExp|Object|Function} module:engine/view/matcher~MatcherPattern\n *\n * @property {String|RegExp} [name] View element name to match.\n * @property {String|RegExp|Array.<String|RegExp>} [classes] View element's class name(s) to match.\n * @property {Object} [styles] Object with key-value pairs representing styles to match.\n * Each object key represents style name. Value can be given as `String` or `RegExp`.\n * @property {Object} [attributes] Object with key-value pairs representing attributes to match.\n * Each object key represents attribute name. Value can be given as `String` or `RegExp`.\n */\n"]}]}