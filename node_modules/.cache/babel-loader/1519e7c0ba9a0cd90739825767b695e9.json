{"remainingRequest":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/babel-loader/lib/index.js!/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js?{}!/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-typing/src/textwatcher.js","dependencies":[{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-typing/src/textwatcher.js","mtime":499162500000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiL2hvbWUvZWtlYmVyYXQvWWFuZGV4LkRpc2svUHJvamVsZXJpbS9CZW5pbVByb2plbGVyaW0vd2Vic2l0ZW0vd2Vic2l0ZW0td2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9ob21lL2VrZWJlcmF0L1lhbmRleC5EaXNrL1Byb2plbGVyaW0vQmVuaW1Qcm9qZWxlcmltL3dlYnNpdGVtL3dlYnNpdGVtLXdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9ob21lL2VrZWJlcmF0L1lhbmRleC5EaXNrL1Byb2plbGVyaW0vQmVuaW1Qcm9qZWxlcmltL3dlYnNpdGVtL3dlYnNpdGVtLXdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwoKLyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDIxLCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIHR5cGluZy90ZXh0d2F0Y2hlcgogKi8KaW1wb3J0IG1peCBmcm9tICdAY2tlZGl0b3IvY2tlZGl0b3I1LXV0aWxzL3NyYy9taXgnOwppbXBvcnQgT2JzZXJ2YWJsZU1peGluIGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtdXRpbHMvc3JjL29ic2VydmFibGVtaXhpbic7CmltcG9ydCBnZXRMYXN0VGV4dExpbmUgZnJvbSAnLi91dGlscy9nZXRsYXN0dGV4dGxpbmUnOwovKioKICogVGhlIHRleHQgd2F0Y2hlciBmZWF0dXJlLgogKgogKiBGaXJlcyB0aGUge0BsaW5rIG1vZHVsZTp0eXBpbmcvdGV4dHdhdGNoZXJ+VGV4dFdhdGNoZXIjZXZlbnQ6bWF0Y2hlZDpkYXRhIGBtYXRjaGVkOmRhdGFgfSwKICoge0BsaW5rIG1vZHVsZTp0eXBpbmcvdGV4dHdhdGNoZXJ+VGV4dFdhdGNoZXIjZXZlbnQ6bWF0Y2hlZDpzZWxlY3Rpb24gYG1hdGNoZWQ6c2VsZWN0aW9uYH0gYW5kCiAqIHtAbGluayBtb2R1bGU6dHlwaW5nL3RleHR3YXRjaGVyflRleHRXYXRjaGVyI2V2ZW50OnVubWF0Y2hlZCBgdW5tYXRjaGVkYH0gZXZlbnRzIG9uIHR5cGluZyBvciBzZWxlY3Rpb24gY2hhbmdlcy4KICoKICogQHByaXZhdGUKICogQG1peGVzIG1vZHVsZTp1dGlscy9vYnNlcnZhYmxlbWl4aW5+T2JzZXJ2YWJsZU1peGluCiAqLwoKdmFyIFRleHRXYXRjaGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAvKioKICAgKiBDcmVhdGVzIGEgdGV4dCB3YXRjaGVyIGluc3RhbmNlLgogICAqCiAgICogQHBhcmFtIHttb2R1bGU6ZW5naW5lL21vZGVsL21vZGVsfk1vZGVsfSBtb2RlbAogICAqIEBwYXJhbSB7RnVuY3Rpb259IHRlc3RDYWxsYmFjayBTZWUge0BsaW5rIG1vZHVsZTp0eXBpbmcvdGV4dHdhdGNoZXJ+VGV4dFdhdGNoZXIjdGVzdENhbGxiYWNrfS4KICAgKi8KICBmdW5jdGlvbiBUZXh0V2F0Y2hlcihtb2RlbCwgdGVzdENhbGxiYWNrKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0V2F0Y2hlcik7CgogICAgLyoqCiAgICAgKiBUaGUgZWRpdG9yJ3MgbW9kZWwuCiAgICAgKgogICAgICogQHJlYWRvbmx5CiAgICAgKiBAbWVtYmVyIHttb2R1bGU6ZW5naW5lL21vZGVsL21vZGVsfk1vZGVsfQogICAgICovCiAgICB0aGlzLm1vZGVsID0gbW9kZWw7CiAgICAvKioKICAgICAqIFRoZSBmdW5jdGlvbiB1c2VkIHRvIG1hdGNoIHRoZSB0ZXh0LgogICAgICoKICAgICAqIFRoZSB0ZXN0IGNhbGxiYWNrIGNhbiByZXR1cm4gMyB2YWx1ZXM6CiAgICAgKgogICAgICogKiBgZmFsc2VgIGlmIHRoZXJlIGlzIG5vIG1hdGNoLAogICAgICogKiBgdHJ1ZWAgaWYgdGhlcmUgaXMgYSBtYXRjaCwKICAgICAqICogYW4gb2JqZWN0IGlmIHRoZXJlIGlzIGEgbWF0Y2ggYW5kIHdlIHdhbnQgdG8gcGFzcyBzb21lIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gdG8gdGhlIHtAbGluayAjZXZlbnQ6bWF0Y2hlZDpkYXRhfSBldmVudC4KICAgICAqCiAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gI3Rlc3RDYWxsYmFjawogICAgICogQHJldHVybnMge09iamVjdH0gdGVzdFJlc3VsdAogICAgICovCgogICAgdGhpcy50ZXN0Q2FsbGJhY2sgPSB0ZXN0Q2FsbGJhY2s7CiAgICAvKioKICAgICAqIFdoZXRoZXIgdGhlcmUgaXMgYSBtYXRjaCBjdXJyZW50bHkuCiAgICAgKgogICAgICogQHJlYWRvbmx5CiAgICAgKiBAbWVtYmVyIHtCb29sZWFufQogICAgICovCgogICAgdGhpcy5oYXNNYXRjaCA9IGZhbHNlOwogICAgLyoqCiAgICAgKiBGbGFnIGluZGljYXRpbmcgd2hldGhlciB0aGUgYFRleHRXYXRjaGVyYCBpbnN0YW5jZSBpcyBlbmFibGVkIG9yIGRpc2FibGVkLgogICAgICogQSBkaXNhYmxlZCBUZXh0V2F0Y2hlciB3aWxsIG5vdCBldmFsdWF0ZSB0ZXh0LgogICAgICoKICAgICAqIFRvIGRpc2FibGUgVGV4dFdhdGNoZXI6CiAgICAgKgogICAgICoJCWNvbnN0IHdhdGNoZXIgPSBuZXcgVGV4dFdhdGNoZXIoIGVkaXRvci5tb2RlbCwgdGVzdENhbGxiYWNrICk7CiAgICAgKgogICAgICoJCS8vIEFmdGVyIHRoaXMgYSB0ZXN0Q2FsbGJhY2sgd2lsbCBub3QgYmUgY2FsbGVkLgogICAgICoJCXdhdGNoZXIuaXNFbmFibGVkID0gZmFsc2U7CiAgICAgKgogICAgICogQG9ic2VydmFibGUKICAgICAqIEBtZW1iZXIge0Jvb2xlYW59ICNpc0VuYWJsZWQKICAgICAqLwoKICAgIHRoaXMuc2V0KCdpc0VuYWJsZWQnLCB0cnVlKTsgLy8gVG9nZ2xlIHRleHQgd2F0Y2hpbmcgb24gaXNFbmFibGVkIHN0YXRlIGNoYW5nZS4KCiAgICB0aGlzLm9uKCdjaGFuZ2U6aXNFbmFibGVkJywgZnVuY3Rpb24gKCkgewogICAgICBpZiAoX3RoaXMuaXNFbmFibGVkKSB7CiAgICAgICAgX3RoaXMuX3N0YXJ0TGlzdGVuaW5nKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgX3RoaXMuc3RvcExpc3RlbmluZyhtb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24pOwoKICAgICAgICBfdGhpcy5zdG9wTGlzdGVuaW5nKG1vZGVsLmRvY3VtZW50KTsKICAgICAgfQogICAgfSk7CgogICAgdGhpcy5fc3RhcnRMaXN0ZW5pbmcoKTsKICB9CiAgLyoqCiAgICogU3RhcnRzIGxpc3RlbmluZyB0byB0aGUgZWRpdG9yIGZvciB0eXBpbmcgYW5kIHNlbGVjdGlvbiBldmVudHMuCiAgICoKICAgKiBAcHJpdmF0ZQogICAqLwoKCiAgX2NyZWF0ZUNsYXNzKFRleHRXYXRjaGVyLCBbewogICAga2V5OiAiX3N0YXJ0TGlzdGVuaW5nIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfc3RhcnRMaXN0ZW5pbmcoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIG1vZGVsID0gdGhpcy5tb2RlbDsKICAgICAgdmFyIGRvY3VtZW50ID0gbW9kZWwuZG9jdW1lbnQ7CiAgICAgIHRoaXMubGlzdGVuVG8oZG9jdW1lbnQuc2VsZWN0aW9uLCAnY2hhbmdlOnJhbmdlJywgZnVuY3Rpb24gKGV2dCwgX3JlZikgewogICAgICAgIHZhciBkaXJlY3RDaGFuZ2UgPSBfcmVmLmRpcmVjdENoYW5nZTsKCiAgICAgICAgLy8gSW5kaXJlY3QgY2hhbmdlcyAoaS5lLiB3aGVuIHRoZSB1c2VyIHR5cGVzIG9yIGV4dGVybmFsIGNoYW5nZXMgYXJlIGFwcGxpZWQpIGFyZSBoYW5kbGVkIGluIHRoZSBkb2N1bWVudCdzIGNoYW5nZSBldmVudC4KICAgICAgICBpZiAoIWRpcmVjdENoYW5nZSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gLy8gQWN0IG9ubHkgb24gY29sbGFwc2VkIHNlbGVjdGlvbi4KCgogICAgICAgIGlmICghZG9jdW1lbnQuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKSB7CiAgICAgICAgICBpZiAoX3RoaXMyLmhhc01hdGNoKSB7CiAgICAgICAgICAgIF90aGlzMi5maXJlKCd1bm1hdGNoZWQnKTsKCiAgICAgICAgICAgIF90aGlzMi5oYXNNYXRjaCA9IGZhbHNlOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIF90aGlzMi5fZXZhbHVhdGVUZXh0QmVmb3JlU2VsZWN0aW9uKCdzZWxlY3Rpb24nKTsKICAgICAgfSk7CiAgICAgIHRoaXMubGlzdGVuVG8oZG9jdW1lbnQsICdjaGFuZ2U6ZGF0YScsIGZ1bmN0aW9uIChldnQsIGJhdGNoKSB7CiAgICAgICAgaWYgKGJhdGNoLnR5cGUgPT0gJ3RyYW5zcGFyZW50JykgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMyLl9ldmFsdWF0ZVRleHRCZWZvcmVTZWxlY3Rpb24oJ2RhdGEnLCB7CiAgICAgICAgICBiYXRjaDogYmF0Y2gKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgICAvKioKICAgICAqIENoZWNrcyB0aGUgZWRpdG9yIGNvbnRlbnQgZm9yIG1hdGNoZWQgdGV4dC4KICAgICAqCiAgICAgKiBAZmlyZXMgbWF0Y2hlZDpkYXRhCiAgICAgKiBAZmlyZXMgbWF0Y2hlZDpzZWxlY3Rpb24KICAgICAqIEBmaXJlcyB1bm1hdGNoZWQKICAgICAqCiAgICAgKiBAcHJpdmF0ZQogICAgICogQHBhcmFtIHsnZGF0YSd8J3NlbGVjdGlvbid9IHN1ZmZpeCBBIHN1ZmZpeCB1c2VkIGZvciBnZW5lcmF0aW5nIHRoZSBldmVudCBuYW1lLgogICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgRGF0YSBvYmplY3QgZm9yIGV2ZW50LgogICAgICovCgogIH0sIHsKICAgIGtleTogIl9ldmFsdWF0ZVRleHRCZWZvcmVTZWxlY3Rpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9ldmFsdWF0ZVRleHRCZWZvcmVTZWxlY3Rpb24oc3VmZml4KSB7CiAgICAgIHZhciBkYXRhID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTsKICAgICAgdmFyIG1vZGVsID0gdGhpcy5tb2RlbDsKICAgICAgdmFyIGRvY3VtZW50ID0gbW9kZWwuZG9jdW1lbnQ7CiAgICAgIHZhciBzZWxlY3Rpb24gPSBkb2N1bWVudC5zZWxlY3Rpb247CiAgICAgIHZhciByYW5nZUJlZm9yZVNlbGVjdGlvbiA9IG1vZGVsLmNyZWF0ZVJhbmdlKG1vZGVsLmNyZWF0ZVBvc2l0aW9uQXQoc2VsZWN0aW9uLmZvY3VzLnBhcmVudCwgMCksIHNlbGVjdGlvbi5mb2N1cyk7CgogICAgICB2YXIgX2dldExhc3RUZXh0TGluZSA9IGdldExhc3RUZXh0TGluZShyYW5nZUJlZm9yZVNlbGVjdGlvbiwgbW9kZWwpLAogICAgICAgICAgdGV4dCA9IF9nZXRMYXN0VGV4dExpbmUudGV4dCwKICAgICAgICAgIHJhbmdlID0gX2dldExhc3RUZXh0TGluZS5yYW5nZTsKCiAgICAgIHZhciB0ZXN0UmVzdWx0ID0gdGhpcy50ZXN0Q2FsbGJhY2sodGV4dCk7CgogICAgICBpZiAoIXRlc3RSZXN1bHQgJiYgdGhpcy5oYXNNYXRjaCkgewogICAgICAgIHRoaXMuZmlyZSgndW5tYXRjaGVkJyk7CiAgICAgIH0KCiAgICAgIHRoaXMuaGFzTWF0Y2ggPSAhIXRlc3RSZXN1bHQ7CgogICAgICBpZiAodGVzdFJlc3VsdCkgewogICAgICAgIHZhciBldmVudERhdGEgPSBPYmplY3QuYXNzaWduKGRhdGEsIHsKICAgICAgICAgIHRleHQ6IHRleHQsCiAgICAgICAgICByYW5nZTogcmFuZ2UKICAgICAgICB9KTsgLy8gSWYgdGhlIHRlc3QgY2FsbGJhY2sgcmV0dXJucyBhbiBvYmplY3Qgd2l0aCBhZGRpdGlvbmFsIGRhdGEsIGFzc2lnbiB0aGUgZGF0YSBhcyB3ZWxsLgoKICAgICAgICBpZiAoX3R5cGVvZih0ZXN0UmVzdWx0KSA9PSAnb2JqZWN0JykgewogICAgICAgICAgT2JqZWN0LmFzc2lnbihldmVudERhdGEsIHRlc3RSZXN1bHQpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5maXJlKCJtYXRjaGVkOiIuY29uY2F0KHN1ZmZpeCksIGV2ZW50RGF0YSk7CiAgICAgIH0KICAgIH0KICB9XSk7CgogIHJldHVybiBUZXh0V2F0Y2hlcjsKfSgpOwoKZXhwb3J0IHsgVGV4dFdhdGNoZXIgYXMgZGVmYXVsdCB9OwptaXgoVGV4dFdhdGNoZXIsIE9ic2VydmFibGVNaXhpbik7Ci8qKgogKiBGaXJlZCB3aGVuZXZlciB0aGUgdGV4dCB3YXRjaGVyIGZvdW5kIGEgbWF0Y2ggZm9yIGRhdGEgY2hhbmdlcy4KICoKICogQGV2ZW50IG1hdGNoZWQ6ZGF0YQogKiBAcGFyYW0ge09iamVjdH0gZGF0YSBFdmVudCBkYXRhLgogKiBAcGFyYW0ge1N0cmluZ30gZGF0YS50ZXh0IFRoZSBmdWxsIHRleHQgYmVmb3JlIHNlbGVjdGlvbiB0byB3aGljaCB0aGUgcmVnZXhwIHdhcyBhcHBsaWVkLgogKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvbW9kZWwvcmFuZ2V+UmFuZ2V9IGRhdGEucmFuZ2UgVGhlIHJhbmdlIHJlcHJlc2VudGluZyB0aGUgcG9zaXRpb24gb2YgdGhlIGBkYXRhLnRleHRgLgogKiBAcGFyYW0ge09iamVjdH0gW2RhdGEudGVzdFJlc3VsdF0gVGhlIGFkZGl0aW9uYWwgZGF0YSByZXR1cm5lZCBmcm9tIHRoZSB7QGxpbmsgbW9kdWxlOnR5cGluZy90ZXh0d2F0Y2hlcn5UZXh0V2F0Y2hlciN0ZXN0Q2FsbGJhY2t9LgogKi8KCi8qKgogKiBGaXJlZCB3aGVuZXZlciB0aGUgdGV4dCB3YXRjaGVyIGZvdW5kIGEgbWF0Y2ggZm9yIHNlbGVjdGlvbiBjaGFuZ2VzLgogKgogKiBAZXZlbnQgbWF0Y2hlZDpzZWxlY3Rpb24KICogQHBhcmFtIHtPYmplY3R9IGRhdGEgRXZlbnQgZGF0YS4KICogQHBhcmFtIHtTdHJpbmd9IGRhdGEudGV4dCBUaGUgZnVsbCB0ZXh0IGJlZm9yZSBzZWxlY3Rpb24uCiAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS9tb2RlbC9yYW5nZX5SYW5nZX0gZGF0YS5yYW5nZSBUaGUgcmFuZ2UgcmVwcmVzZW50aW5nIHRoZSBwb3NpdGlvbiBvZiB0aGUgYGRhdGEudGV4dGAuCiAqIEBwYXJhbSB7T2JqZWN0fSBbZGF0YS50ZXN0UmVzdWx0XSBUaGUgYWRkaXRpb25hbCBkYXRhIHJldHVybmVkIGZyb20gdGhlIHtAbGluayBtb2R1bGU6dHlwaW5nL3RleHR3YXRjaGVyflRleHRXYXRjaGVyI3Rlc3RDYWxsYmFja30uCiAqLwoKLyoqCiAqIEZpcmVkIHdoZW5ldmVyIHRoZSB0ZXh0IGRvZXMgbm90IG1hdGNoIGFueW1vcmUuIEZpcmVkIG9ubHkgd2hlbiB0aGUgdGV4dCB3YXRjaGVyIGZvdW5kIGEgbWF0Y2guCiAqCiAqIEBldmVudCB1bm1hdGNoZWQKICov"},{"version":3,"sources":["/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-typing/src/textwatcher.js"],"names":["mix","ObservableMixin","getLastTextLine","TextWatcher","model","testCallback","hasMatch","set","on","isEnabled","_startListening","stopListening","document","selection","listenTo","evt","directChange","isCollapsed","fire","_evaluateTextBeforeSelection","batch","type","suffix","data","rangeBeforeSelection","createRange","createPositionAt","focus","parent","text","range","testResult","eventData","Object","assign"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module typing/textwatcher\n */\n\nimport mix from '@ckeditor/ckeditor5-utils/src/mix';\nimport ObservableMixin from '@ckeditor/ckeditor5-utils/src/observablemixin';\nimport getLastTextLine from './utils/getlasttextline';\n\n/**\n * The text watcher feature.\n *\n * Fires the {@link module:typing/textwatcher~TextWatcher#event:matched:data `matched:data`},\n * {@link module:typing/textwatcher~TextWatcher#event:matched:selection `matched:selection`} and\n * {@link module:typing/textwatcher~TextWatcher#event:unmatched `unmatched`} events on typing or selection changes.\n *\n * @private\n * @mixes module:utils/observablemixin~ObservableMixin\n */\nexport default class TextWatcher {\n\t/**\n\t * Creates a text watcher instance.\n\t *\n\t * @param {module:engine/model/model~Model} model\n\t * @param {Function} testCallback See {@link module:typing/textwatcher~TextWatcher#testCallback}.\n\t */\n\tconstructor( model, testCallback ) {\n\t\t/**\n\t\t * The editor's model.\n\t\t *\n\t\t * @readonly\n\t\t * @member {module:engine/model/model~Model}\n\t\t */\n\t\tthis.model = model;\n\n\t\t/**\n\t\t * The function used to match the text.\n\t\t *\n\t\t * The test callback can return 3 values:\n\t\t *\n\t\t * * `false` if there is no match,\n\t\t * * `true` if there is a match,\n\t\t * * an object if there is a match and we want to pass some additional information to the {@link #event:matched:data} event.\n\t\t *\n\t\t * @member {Function} #testCallback\n\t\t * @returns {Object} testResult\n\t\t */\n\t\tthis.testCallback = testCallback;\n\n\t\t/**\n\t\t * Whether there is a match currently.\n\t\t *\n\t\t * @readonly\n\t\t * @member {Boolean}\n\t\t */\n\t\tthis.hasMatch = false;\n\n\t\t/**\n\t\t * Flag indicating whether the `TextWatcher` instance is enabled or disabled.\n\t\t * A disabled TextWatcher will not evaluate text.\n\t\t *\n\t\t * To disable TextWatcher:\n\t\t *\n\t\t *\t\tconst watcher = new TextWatcher( editor.model, testCallback );\n\t\t *\n\t\t *\t\t// After this a testCallback will not be called.\n\t\t *\t\twatcher.isEnabled = false;\n\t\t *\n\t\t * @observable\n\t\t * @member {Boolean} #isEnabled\n\t\t */\n\t\tthis.set( 'isEnabled', true );\n\n\t\t// Toggle text watching on isEnabled state change.\n\t\tthis.on( 'change:isEnabled', () => {\n\t\t\tif ( this.isEnabled ) {\n\t\t\t\tthis._startListening();\n\t\t\t} else {\n\t\t\t\tthis.stopListening( model.document.selection );\n\t\t\t\tthis.stopListening( model.document );\n\t\t\t}\n\t\t} );\n\n\t\tthis._startListening();\n\t}\n\n\t/**\n\t * Starts listening to the editor for typing and selection events.\n\t *\n\t * @private\n\t */\n\t_startListening() {\n\t\tconst model = this.model;\n\t\tconst document = model.document;\n\n\t\tthis.listenTo( document.selection, 'change:range', ( evt, { directChange } ) => {\n\t\t\t// Indirect changes (i.e. when the user types or external changes are applied) are handled in the document's change event.\n\t\t\tif ( !directChange ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Act only on collapsed selection.\n\t\t\tif ( !document.selection.isCollapsed ) {\n\t\t\t\tif ( this.hasMatch ) {\n\t\t\t\t\tthis.fire( 'unmatched' );\n\t\t\t\t\tthis.hasMatch = false;\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._evaluateTextBeforeSelection( 'selection' );\n\t\t} );\n\n\t\tthis.listenTo( document, 'change:data', ( evt, batch ) => {\n\t\t\tif ( batch.type == 'transparent' ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._evaluateTextBeforeSelection( 'data', { batch } );\n\t\t} );\n\t}\n\n\t/**\n\t * Checks the editor content for matched text.\n\t *\n\t * @fires matched:data\n\t * @fires matched:selection\n\t * @fires unmatched\n\t *\n\t * @private\n\t * @param {'data'|'selection'} suffix A suffix used for generating the event name.\n\t * @param {Object} data Data object for event.\n\t */\n\t_evaluateTextBeforeSelection( suffix, data = {} ) {\n\t\tconst model = this.model;\n\t\tconst document = model.document;\n\t\tconst selection = document.selection;\n\n\t\tconst rangeBeforeSelection = model.createRange( model.createPositionAt( selection.focus.parent, 0 ), selection.focus );\n\n\t\tconst { text, range } = getLastTextLine( rangeBeforeSelection, model );\n\n\t\tconst testResult = this.testCallback( text );\n\n\t\tif ( !testResult && this.hasMatch ) {\n\t\t\tthis.fire( 'unmatched' );\n\t\t}\n\n\t\tthis.hasMatch = !!testResult;\n\n\t\tif ( testResult ) {\n\t\t\tconst eventData = Object.assign( data, { text, range } );\n\n\t\t\t// If the test callback returns an object with additional data, assign the data as well.\n\t\t\tif ( typeof testResult == 'object' ) {\n\t\t\t\tObject.assign( eventData, testResult );\n\t\t\t}\n\n\t\t\tthis.fire( `matched:${ suffix }`, eventData );\n\t\t}\n\t}\n}\n\nmix( TextWatcher, ObservableMixin );\n\n/**\n * Fired whenever the text watcher found a match for data changes.\n *\n * @event matched:data\n * @param {Object} data Event data.\n * @param {String} data.text The full text before selection to which the regexp was applied.\n * @param {module:engine/model/range~Range} data.range The range representing the position of the `data.text`.\n * @param {Object} [data.testResult] The additional data returned from the {@link module:typing/textwatcher~TextWatcher#testCallback}.\n */\n\n/**\n * Fired whenever the text watcher found a match for selection changes.\n *\n * @event matched:selection\n * @param {Object} data Event data.\n * @param {String} data.text The full text before selection.\n * @param {module:engine/model/range~Range} data.range The range representing the position of the `data.text`.\n * @param {Object} [data.testResult] The additional data returned from the {@link module:typing/textwatcher~TextWatcher#testCallback}.\n */\n\n/**\n * Fired whenever the text does not match anymore. Fired only when the text watcher found a match.\n *\n * @event unmatched\n */\n"]}]}