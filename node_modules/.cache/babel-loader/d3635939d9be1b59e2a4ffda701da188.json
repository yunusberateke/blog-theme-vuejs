{"remainingRequest":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/babel-loader/lib/index.js!/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js?{}!/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-clipboard/src/clipboardpipeline.js","dependencies":[{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-clipboard/src/clipboardpipeline.js","mtime":499162500000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvaG9tZS9la2ViZXJhdC9ZYW5kZXguRGlzay9Qcm9qZWxlcmltL0JlbmltUHJvamVsZXJpbS93ZWJzaXRlbS93ZWJzaXRlbS13ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvaG9tZS9la2ViZXJhdC9ZYW5kZXguRGlzay9Qcm9qZWxlcmltL0JlbmltUHJvamVsZXJpbS93ZWJzaXRlbS93ZWJzaXRlbS13ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvaG9tZS9la2ViZXJhdC9ZYW5kZXguRGlzay9Qcm9qZWxlcmltL0JlbmltUHJvamVsZXJpbS93ZWJzaXRlbS93ZWJzaXRlbS13ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvaG9tZS9la2ViZXJhdC9ZYW5kZXguRGlzay9Qcm9qZWxlcmltL0JlbmltUHJvamVsZXJpbS93ZWJzaXRlbS93ZWJzaXRlbS13ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CgovKioKICogQGxpY2Vuc2UgQ29weXJpZ2h0IChjKSAyMDAzLTIwMjEsIENLU291cmNlIC0gRnJlZGVyaWNvIEtuYWJiZW4uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqIEZvciBsaWNlbnNpbmcsIHNlZSBMSUNFTlNFLm1kIG9yIGh0dHBzOi8vY2tlZGl0b3IuY29tL2xlZ2FsL2NrZWRpdG9yLW9zcy1saWNlbnNlCiAqLwoKLyoqCiAqIEBtb2R1bGUgY2xpcGJvYXJkL2NsaXBib2FyZHBpcGVsaW5lCiAqLwppbXBvcnQgUGx1Z2luIGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtY29yZS9zcmMvcGx1Z2luJzsKaW1wb3J0IEV2ZW50SW5mbyBmcm9tICdAY2tlZGl0b3IvY2tlZGl0b3I1LXV0aWxzL3NyYy9ldmVudGluZm8nOwppbXBvcnQgQ2xpcGJvYXJkT2JzZXJ2ZXIgZnJvbSAnLi9jbGlwYm9hcmRvYnNlcnZlcic7CmltcG9ydCBwbGFpblRleHRUb0h0bWwgZnJvbSAnLi91dGlscy9wbGFpbnRleHR0b2h0bWwnOwppbXBvcnQgbm9ybWFsaXplQ2xpcGJvYXJkSHRtbCBmcm9tICcuL3V0aWxzL25vcm1hbGl6ZWNsaXBib2FyZGRhdGEnOwppbXBvcnQgdmlld1RvUGxhaW5UZXh0IGZyb20gJy4vdXRpbHMvdmlld3RvcGxhaW50ZXh0LmpzJzsgLy8gSW5wdXQgcGlwZWxpbmUgZXZlbnRzIG92ZXJ2aWV3OgovLwovLyAgICAgICAgICAgICAg4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQICAgICAgICAgIOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkAovLyAgICAgICAgICAgICAg4pSCICAgICB2aWV3LkRvY3VtZW50ICAgIOKUgiAgICAgICAgICDilIIgICAgIHZpZXcuRG9jdW1lbnQgICAg4pSCCi8vICAgICAgICAgICAgICDilIIgICAgICAgICBwYXN0ZSAgICAgICAg4pSCICAgICAgICAgIOKUgiAgICAgICAgIGRyb3AgICAgICAgICDilIIKLy8gICAgICAgICAgICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUrOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmCAgICAgICAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilKzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJgKLy8gICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUggovLyAgICAgICAgICAgICAgICAgICAgICAgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUggovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFbilIDilIDilIDilIDilIDilIDilIDilIDilJAKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIgICB2aWV3LkRvY3VtZW50ICDilIIgICBSZXRyaWV2ZXMgdGV4dC9odG1sIG9yIHRleHQvcGxhaW4gZnJvbSBkYXRhLmRhdGFUcmFuc2ZlcgovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiAgY2xpcGJvYXJkSW5wdXQgIOKUgiAgIGFuZCBwcm9jZXNzZXMgaXQgdG8gdmlldy5Eb2N1bWVudEZyYWdtZW50LgovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUrOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAVuKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIgICBDbGlwYm9hcmRQaXBlbGluZSAgIOKUgiAgIENvbnZlcnRzIHZpZXcuRG9jdW1lbnRGcmFnbWVudCB0byBtb2RlbC5Eb2N1bWVudEZyYWdtZW50LgovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIgIGlucHV0VHJhbnNmb3JtYXRpb24gIOKUggovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilKzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJgKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBW4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIgIENsaXBib2FyZFBpcGVsaW5lICDilIIgICBDYWxscyBtb2RlbC5pbnNlcnRDb250ZW50KCkuCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIgICBjb250ZW50SW5zZXJ0aW9uICDilIIKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmAovLwovLwovLyBPdXRwdXQgcGlwZWxpbmUgZXZlbnRzIG92ZXJ2aWV3OgovLwovLyAgICAgICAgICAgICAg4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQICAgICAgICAgIOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkAovLyAgICAgICAgICAgICAg4pSCICAgICB2aWV3LkRvY3VtZW50ICAgIOKUgiAgICAgICAgICDilIIgICAgIHZpZXcuRG9jdW1lbnQgICAg4pSCICAgUmV0cmlldmVzIHRoZSBzZWxlY3RlZCBtb2RlbC5Eb2N1bWVudEZyYWdtZW50Ci8vICAgICAgICAgICAgICDilIIgICAgICAgICBjb3B5ICAgICAgICAg4pSCICAgICAgICAgIOKUgiAgICAgICAgICBjdXQgICAgICAgICDilIIgICBhbmQgY29udmVydHMgaXQgdG8gdmlldy5Eb2N1bWVudEZyYWdtZW50LgovLyAgICAgICAgICAgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSs4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYICAgICAgICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUrOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmAovLyAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCCi8vICAgICAgICAgICAgICAgICAgICAgICAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJgKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAVuKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiAgIHZpZXcuRG9jdW1lbnQgIOKUgiAgIFByb2Nlc3NlcyB2aWV3LkRvY3VtZW50RnJhZ21lbnQgdG8gdGV4dC9odG1sIGFuZCB0ZXh0L3BsYWluCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCICBjbGlwYm9hcmRPdXRwdXQg4pSCICAgYW5kIHN0b3JlcyB0aGUgcmVzdWx0cyBpbiBkYXRhLmRhdGFUcmFuc2Zlci4KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJgKLy8KCi8qKgogKiBUaGUgY2xpcGJvYXJkIHBpcGVsaW5lIGZlYXR1cmUuIEl0IGlzIHJlc3BvbnNpYmxlIGZvciBpbnRlcmNlcHRpbmcgdGhlIGBwYXN0ZWAgYW5kIGBkcm9wYCBldmVudHMgYW5kCiAqIHBhc3NpbmcgdGhlIHBhc3RlZCBjb250ZW50IHRocm91Z2ggYSBzZXJpZXMgb2YgZXZlbnRzIGluIG9yZGVyIHRvIGluc2VydCBpdCBpbnRvIHRoZSBlZGl0b3IncyBjb250ZW50LgogKiBJdCBhbHNvIGhhbmRsZXMgdGhlIGBjdXRgIGFuZCBgY29weWAgZXZlbnRzIHRvIGZpbGwgdGhlIG5hdGl2ZSBjbGlwYm9hcmQgd2l0aCB0aGUgc2VyaWFsaXplZCBlZGl0b3IncyBkYXRhLgogKgogKiAjIElucHV0IHBpcGVsaW5lCiAqCiAqIFRoZSBiZWhhdmlvciBvZiB0aGUgZGVmYXVsdCBoYW5kbGVycyAoYWxsIGF0IGEgYGxvd2AgcHJpb3JpdHkpOgogKgogKiAjIyBFdmVudDogYHBhc3RlYCBvciBgZHJvcGAKICoKICogMS4gVHJhbnNsYXRlcyB0aGUgZXZlbnQgZGF0YS4KICogMi4gRmlyZXMgdGhlIHtAbGluayBtb2R1bGU6ZW5naW5lL3ZpZXcvZG9jdW1lbnR+RG9jdW1lbnQjZXZlbnQ6Y2xpcGJvYXJkSW5wdXQgYHZpZXcuRG9jdW1lbnQjY2xpcGJvYXJkSW5wdXRgfSBldmVudC4KICoKICogIyMgRXZlbnQ6IGB2aWV3LkRvY3VtZW50I2NsaXBib2FyZElucHV0YAogKgogKiAxLiBJZiB0aGUgYGRhdGEuY29udGVudGAgZXZlbnQgZmllbGQgaXMgYWxyZWFkeSBzZXQgKGJ5IHNvbWUgbGlzdGVuZXIgb24gYSBoaWdoZXIgcHJpb3JpdHkpLCBpdCB0YWtlcyB0aGlzIGNvbnRlbnQgYW5kIGZpcmVzIHRoZSBldmVudAogKiAgICBmcm9tIHRoZSBsYXN0IHBvaW50LgogKiAyLiBPdGhlcndpc2UsIGl0IHJldHJpZXZlcyBgdGV4dC9odG1sYCBvciBgdGV4dC9wbGFpbmAgZnJvbSBgZGF0YS5kYXRhVHJhbnNmZXJgLgogKiAzLiBOb3JtYWxpemVzIHRoZSByYXcgZGF0YSBieSBhcHBseWluZyBzaW1wbGUgZmlsdGVycyBvbiBzdHJpbmcgZGF0YS4KICogNC4gUHJvY2Vzc2VzIHRoZSByYXcgZGF0YSB0byB7QGxpbmsgbW9kdWxlOmVuZ2luZS92aWV3L2RvY3VtZW50ZnJhZ21lbnR+RG9jdW1lbnRGcmFnbWVudCBgdmlldy5Eb2N1bWVudEZyYWdtZW50YH0gd2l0aCB0aGUKICogICAge0BsaW5rIG1vZHVsZTplbmdpbmUvY29udHJvbGxlci9kYXRhY29udHJvbGxlcn5EYXRhQ29udHJvbGxlciNodG1sUHJvY2Vzc29yIGBEYXRhQ29udHJvbGxlciNodG1sUHJvY2Vzc29yYH0uCiAqIDUuIEZpcmVzIHRoZSB7QGxpbmsgbW9kdWxlOmNsaXBib2FyZC9jbGlwYm9hcmRwaXBlbGluZX5DbGlwYm9hcmRQaXBlbGluZSNldmVudDppbnB1dFRyYW5zZm9ybWF0aW9uCiAqICAgYENsaXBib2FyZFBpcGVsaW5lI2lucHV0VHJhbnNmb3JtYXRpb25gfSBldmVudCB3aXRoIHRoZSB2aWV3IGRvY3VtZW50IGZyYWdtZW50IGluIHRoZSBgZGF0YS5jb250ZW50YCBldmVudCBmaWVsZC4KICoKICogIyMgRXZlbnQ6IGBDbGlwYm9hcmRQaXBlbGluZSNpbnB1dFRyYW5zZm9ybWF0aW9uYAogKgogKiAxLiBDb252ZXJ0cyB7QGxpbmsgbW9kdWxlOmVuZ2luZS92aWV3L2RvY3VtZW50ZnJhZ21lbnR+RG9jdW1lbnRGcmFnbWVudCBgdmlldy5Eb2N1bWVudEZyYWdtZW50YH0gZnJvbSB0aGUgYGRhdGEuY29udGVudGAgZmllbGQgdG8KICogICAge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvZG9jdW1lbnRmcmFnbWVudH5Eb2N1bWVudEZyYWdtZW50IGBtb2RlbC5Eb2N1bWVudEZyYWdtZW50YH0uCiAqIDIuIEZpcmVzIHRoZSB7QGxpbmsgbW9kdWxlOmNsaXBib2FyZC9jbGlwYm9hcmRwaXBlbGluZX5DbGlwYm9hcmRQaXBlbGluZSNldmVudDpjb250ZW50SW5zZXJ0aW9uIGBDbGlwYm9hcmRQaXBlbGluZSNjb250ZW50SW5zZXJ0aW9uYH0KICogICAgZXZlbnQgd2l0aCB0aGUgbW9kZWwgZG9jdW1lbnQgZnJhZ21lbnQgaW4gdGhlIGBkYXRhLmNvbnRlbnRgIGV2ZW50IGZpZWxkLgogKiAgICAqKk5vdGUqKjogVGhlIGBDbGlwYm9hcmRQaXBlbGluZSNjb250ZW50SW5zZXJ0aW9uYCBldmVudCBpcyBmaXJlZCB3aXRoaW4gYSBtb2RlbCBjaGFuZ2UgYmxvY2sgdG8gYWxsb3cgb3RoZXIgaGFuZGxlcnMKICogICAgdG8gcnVuIGluIHRoZSBzYW1lIGJsb2NrIHdpdGhvdXQgcG9zdC1maXhlcnMgY2FsbGVkIGluIGJldHdlZW4gKGkuZS4sIHRoZSBzZWxlY3Rpb24gcG9zdC1maXhlcikuCiAqCiAqICMjIEV2ZW50OiBgQ2xpcGJvYXJkUGlwZWxpbmUjY29udGVudEluc2VydGlvbmAKICoKICogMS4gQ2FsbHMge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvbW9kZWx+TW9kZWwjaW5zZXJ0Q29udGVudCBgbW9kZWwuaW5zZXJ0Q29udGVudCgpYH0gdG8gaW5zZXJ0IGBkYXRhLmNvbnRlbnRgCiAqICAgIGF0IHRoZSBjdXJyZW50IHNlbGVjdGlvbiBwb3NpdGlvbi4KICoKICogIyBPdXRwdXQgcGlwZWxpbmUKICoKICogVGhlIGJlaGF2aW9yIG9mIHRoZSBkZWZhdWx0IGhhbmRsZXJzIChhbGwgYXQgYSBgbG93YCBwcmlvcml0eSk6CiAqCiAqICMjIEV2ZW50OiBgY29weWAsIGBjdXRgIG9yIGBkcmFnc3RhcnRgCiAqCiAqIDEuIFJldHJpZXZlcyB0aGUgc2VsZWN0ZWQge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvZG9jdW1lbnRmcmFnbWVudH5Eb2N1bWVudEZyYWdtZW50IGBtb2RlbC5Eb2N1bWVudEZyYWdtZW50YH0gYnkgY2FsbGluZwogKiAgICB7QGxpbmsgbW9kdWxlOmVuZ2luZS9tb2RlbC9tb2RlbH5Nb2RlbCNnZXRTZWxlY3RlZENvbnRlbnQgYG1vZGVsI2dldFNlbGVjdGVkQ29udGVudCgpYH0uCiAqIDIuIENvbnZlcnRzIHRoZSBtb2RlbCBkb2N1bWVudCBmcmFnbWVudCB0byB7QGxpbmsgbW9kdWxlOmVuZ2luZS92aWV3L2RvY3VtZW50ZnJhZ21lbnR+RG9jdW1lbnRGcmFnbWVudCBgdmlldy5Eb2N1bWVudEZyYWdtZW50YH0uCiAqIDMuIEZpcmVzIHRoZSB7QGxpbmsgbW9kdWxlOmVuZ2luZS92aWV3L2RvY3VtZW50fkRvY3VtZW50I2V2ZW50OmNsaXBib2FyZE91dHB1dCBgdmlldy5Eb2N1bWVudCNjbGlwYm9hcmRPdXRwdXRgfSBldmVudAogKiAgICB3aXRoIHRoZSB2aWV3IGRvY3VtZW50IGZyYWdtZW50IGluIHRoZSBgZGF0YS5jb250ZW50YCBldmVudCBmaWVsZC4KICoKICogIyMgRXZlbnQ6IGB2aWV3LkRvY3VtZW50I2NsaXBib2FyZE91dHB1dGAKICoKICogMS4gUHJvY2Vzc2VzIGBkYXRhLmNvbnRlbnRgIHRvIEhUTUwgYW5kIHBsYWluIHRleHQgd2l0aCB0aGUKICogICAge0BsaW5rIG1vZHVsZTplbmdpbmUvY29udHJvbGxlci9kYXRhY29udHJvbGxlcn5EYXRhQ29udHJvbGxlciNodG1sUHJvY2Vzc29yIGBEYXRhQ29udHJvbGxlciNodG1sUHJvY2Vzc29yYH0uCiAqIDIuIFVwZGF0ZXMgdGhlIGBkYXRhLmRhdGFUcmFuc2ZlcmAgZGF0YSBmb3IgYHRleHQvaHRtbGAgYW5kIGB0ZXh0L3BsYWluYCB3aXRoIHRoZSBwcm9jZXNzZWQgZGF0YS4KICogMy4gRm9yIHRoZSBgY3V0YCBtZXRob2QsIGNhbGxzIHtAbGluayBtb2R1bGU6ZW5naW5lL21vZGVsL21vZGVsfk1vZGVsI2RlbGV0ZUNvbnRlbnQgYG1vZGVsLmRlbGV0ZUNvbnRlbnQoKWB9CiAqICAgIG9uIHRoZSBjdXJyZW50IHNlbGVjdGlvbi4KICoKICogUmVhZCBtb3JlIGFib3V0IHRoZSBjbGlwYm9hcmQgaW50ZWdyYXRpb24gaW4gdGhlIHtAZ2xpbmsgZnJhbWV3b3JrL2d1aWRlcy9kZWVwLWRpdmUvY2xpcGJvYXJkIGNsaXBib2FyZCBkZWVwIGRpdmUgZ3VpZGV9LgogKgogKiBAZXh0ZW5kcyBtb2R1bGU6Y29yZS9wbHVnaW5+UGx1Z2luCiAqLwoKdmFyIENsaXBib2FyZFBpcGVsaW5lID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUGx1Z2luKSB7CiAgX2luaGVyaXRzKENsaXBib2FyZFBpcGVsaW5lLCBfUGx1Z2luKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihDbGlwYm9hcmRQaXBlbGluZSk7CgogIGZ1bmN0aW9uIENsaXBib2FyZFBpcGVsaW5lKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENsaXBib2FyZFBpcGVsaW5lKTsKCiAgICByZXR1cm4gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQ2xpcGJvYXJkUGlwZWxpbmUsIFt7CiAgICBrZXk6ICJpbml0IiwKICAgIHZhbHVlOgogICAgLyoqCiAgICAgKiBAaW5oZXJpdERvYwogICAgICovCiAgICBmdW5jdGlvbiBpbml0KCkgewogICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7CiAgICAgIHZhciB2aWV3ID0gZWRpdG9yLmVkaXRpbmcudmlldzsKICAgICAgdmlldy5hZGRPYnNlcnZlcihDbGlwYm9hcmRPYnNlcnZlcik7CgogICAgICB0aGlzLl9zZXR1cFBhc3RlRHJvcCgpOwoKICAgICAgdGhpcy5fc2V0dXBDb3B5Q3V0KCk7CiAgICB9CiAgICAvKioKICAgICAqIFRoZSBjbGlwYm9hcmQgcGFzdGUgcGlwZWxpbmUuCiAgICAgKgogICAgICogQHByaXZhdGUKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJfc2V0dXBQYXN0ZURyb3AiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cFBhc3RlRHJvcCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjsKICAgICAgdmFyIG1vZGVsID0gZWRpdG9yLm1vZGVsOwogICAgICB2YXIgdmlldyA9IGVkaXRvci5lZGl0aW5nLnZpZXc7CiAgICAgIHZhciB2aWV3RG9jdW1lbnQgPSB2aWV3LmRvY3VtZW50OyAvLyBQYXN0aW5nIGFuZCBkcm9wcGluZyBpcyBkaXNhYmxlZCB3aGVuIGVkaXRvciBpcyBpbiB0aGUgcmVhZC1vbmx5IG1vZGUuCiAgICAgIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2NrZWRpdG9yL2NrZWRpdG9yNS1jbGlwYm9hcmQvaXNzdWVzLzI2LgoKICAgICAgdGhpcy5saXN0ZW5Ubyh2aWV3RG9jdW1lbnQsICdjbGlwYm9hcmRJbnB1dCcsIGZ1bmN0aW9uIChldnQpIHsKICAgICAgICBpZiAoZWRpdG9yLmlzUmVhZE9ubHkpIHsKICAgICAgICAgIGV2dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgcHJpb3JpdHk6ICdoaWdoZXN0JwogICAgICB9KTsKICAgICAgdGhpcy5saXN0ZW5Ubyh2aWV3RG9jdW1lbnQsICdjbGlwYm9hcmRJbnB1dCcsIGZ1bmN0aW9uIChldnQsIGRhdGEpIHsKICAgICAgICB2YXIgZGF0YVRyYW5zZmVyID0gZGF0YS5kYXRhVHJhbnNmZXI7CiAgICAgICAgdmFyIGNvbnRlbnQgPSBkYXRhLmNvbnRlbnQgfHwgJyc7IC8vIFNvbWUgZmVhdHVyZSBjb3VsZCBhbHJlYWR5IGluamVjdCBjb250ZW50IGluIHRoZSBoaWdoZXIgcHJpb3JpdHkgZXZlbnQgaGFuZGxlciAoaS5lLiwgY29kZUJsb2NrKS4KCiAgICAgICAgaWYgKCFjb250ZW50KSB7CiAgICAgICAgICBpZiAoZGF0YVRyYW5zZmVyLmdldERhdGEoJ3RleHQvaHRtbCcpKSB7CiAgICAgICAgICAgIGNvbnRlbnQgPSBub3JtYWxpemVDbGlwYm9hcmRIdG1sKGRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0L2h0bWwnKSk7CiAgICAgICAgICB9IGVsc2UgaWYgKGRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0L3BsYWluJykpIHsKICAgICAgICAgICAgY29udGVudCA9IHBsYWluVGV4dFRvSHRtbChkYXRhVHJhbnNmZXIuZ2V0RGF0YSgndGV4dC9wbGFpbicpKTsKICAgICAgICAgIH0KCiAgICAgICAgICBjb250ZW50ID0gX3RoaXMuZWRpdG9yLmRhdGEuaHRtbFByb2Nlc3Nvci50b1ZpZXcoY29udGVudCk7CiAgICAgICAgfQoKICAgICAgICB2YXIgZXZlbnRJbmZvID0gbmV3IEV2ZW50SW5mbyhfdGhpcywgJ2lucHV0VHJhbnNmb3JtYXRpb24nKTsKCiAgICAgICAgX3RoaXMuZmlyZShldmVudEluZm8sIHsKICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQsCiAgICAgICAgICBkYXRhVHJhbnNmZXI6IGRhdGFUcmFuc2ZlciwKICAgICAgICAgIHRhcmdldFJhbmdlczogZGF0YS50YXJnZXRSYW5nZXMsCiAgICAgICAgICBtZXRob2Q6IGRhdGEubWV0aG9kCiAgICAgICAgfSk7IC8vIElmIENLRWRpdG9yIGhhbmRsZWQgdGhlIGlucHV0LCBkbyBub3QgYnViYmxlIHRoZSBvcmlnaW5hbCBldmVudCBhbnkgZnVydGhlci4KICAgICAgICAvLyBUaGlzIGhlbHBzIGV4dGVybmFsIGludGVncmF0aW9ucyByZWNvZ25pemUgdGhpcyBmYWN0IGFuZCBhY3QgYWNjb3JkaW5nbHkuCiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2NrZWRpdG9yL2NrZWRpdG9yNS11cGxvYWQvaXNzdWVzLzkyCgoKICAgICAgICBpZiAoZXZlbnRJbmZvLnN0b3AuY2FsbGVkKSB7CiAgICAgICAgICBldnQuc3RvcCgpOwogICAgICAgIH0KCiAgICAgICAgdmlldy5zY3JvbGxUb1RoZVNlbGVjdGlvbigpOwogICAgICB9LCB7CiAgICAgICAgcHJpb3JpdHk6ICdsb3cnCiAgICAgIH0pOwogICAgICB0aGlzLmxpc3RlblRvKHRoaXMsICdpbnB1dFRyYW5zZm9ybWF0aW9uJywgZnVuY3Rpb24gKGV2dCwgZGF0YSkgewogICAgICAgIGlmIChkYXRhLmNvbnRlbnQuaXNFbXB0eSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmFyIGRhdGFDb250cm9sbGVyID0gX3RoaXMuZWRpdG9yLmRhdGE7IC8vIENvbnZlcnQgdGhlIHBhc3RlZCBjb250ZW50IGludG8gYSBtb2RlbCBkb2N1bWVudCBmcmFnbWVudC4KICAgICAgICAvLyBUaGUgY29udmVyc2lvbiBpcyBjb250ZXh0dWFsLCBidXQgaW4gdGhpcyBjYXNlIGFuICJhbGwgYWxsb3dlZCIgY29udGV4dCBpcyBuZWVkZWQKICAgICAgICAvLyBhbmQgZm9yIHRoYXQgd2UgdXNlIHRoZSAkY2xpcGJvYXJkSG9sZGVyIGl0ZW0uCgogICAgICAgIHZhciBtb2RlbEZyYWdtZW50ID0gZGF0YUNvbnRyb2xsZXIudG9Nb2RlbChkYXRhLmNvbnRlbnQsICckY2xpcGJvYXJkSG9sZGVyJyk7CgogICAgICAgIGlmIChtb2RlbEZyYWdtZW50LmNoaWxkQ291bnQgPT0gMCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgZXZ0LnN0b3AoKTsgLy8gRmlyZSBjb250ZW50IGluc2VydGlvbiBldmVudCBpbiBhIHNpbmdsZSBjaGFuZ2UgYmxvY2sgdG8gYWxsb3cgb3RoZXIgaGFuZGxlcnMgdG8gcnVuIGluIHRoZSBzYW1lIGJsb2NrCiAgICAgICAgLy8gd2l0aG91dCBwb3N0LWZpeGVycyBjYWxsZWQgaW4gYmV0d2VlbiAoaS5lLiwgdGhlIHNlbGVjdGlvbiBwb3N0LWZpeGVyKS4KCiAgICAgICAgbW9kZWwuY2hhbmdlKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLmZpcmUoJ2NvbnRlbnRJbnNlcnRpb24nLCB7CiAgICAgICAgICAgIGNvbnRlbnQ6IG1vZGVsRnJhZ21lbnQsCiAgICAgICAgICAgIG1ldGhvZDogZGF0YS5tZXRob2QsCiAgICAgICAgICAgIGRhdGFUcmFuc2ZlcjogZGF0YS5kYXRhVHJhbnNmZXIsCiAgICAgICAgICAgIHRhcmdldFJhbmdlczogZGF0YS50YXJnZXRSYW5nZXMKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9LCB7CiAgICAgICAgcHJpb3JpdHk6ICdsb3cnCiAgICAgIH0pOwogICAgICB0aGlzLmxpc3RlblRvKHRoaXMsICdjb250ZW50SW5zZXJ0aW9uJywgZnVuY3Rpb24gKGV2dCwgZGF0YSkgewogICAgICAgIGRhdGEucmVzdWx0UmFuZ2UgPSBtb2RlbC5pbnNlcnRDb250ZW50KGRhdGEuY29udGVudCk7CiAgICAgIH0sIHsKICAgICAgICBwcmlvcml0eTogJ2xvdycKICAgICAgfSk7CiAgICB9CiAgICAvKioKICAgICAqIFRoZSBjbGlwYm9hcmQgY29weS9jdXQgcGlwZWxpbmUuCiAgICAgKgogICAgICogQHByaXZhdGUKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJfc2V0dXBDb3B5Q3V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBDb3B5Q3V0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjsKICAgICAgdmFyIG1vZGVsRG9jdW1lbnQgPSBlZGl0b3IubW9kZWwuZG9jdW1lbnQ7CiAgICAgIHZhciB2aWV3ID0gZWRpdG9yLmVkaXRpbmcudmlldzsKICAgICAgdmFyIHZpZXdEb2N1bWVudCA9IHZpZXcuZG9jdW1lbnQ7CgogICAgICBmdW5jdGlvbiBvbkNvcHlDdXQoZXZ0LCBkYXRhKSB7CiAgICAgICAgdmFyIGRhdGFUcmFuc2ZlciA9IGRhdGEuZGF0YVRyYW5zZmVyOwogICAgICAgIGRhdGEucHJldmVudERlZmF1bHQoKTsKICAgICAgICB2YXIgY29udGVudCA9IGVkaXRvci5kYXRhLnRvVmlldyhlZGl0b3IubW9kZWwuZ2V0U2VsZWN0ZWRDb250ZW50KG1vZGVsRG9jdW1lbnQuc2VsZWN0aW9uKSk7CiAgICAgICAgdmlld0RvY3VtZW50LmZpcmUoJ2NsaXBib2FyZE91dHB1dCcsIHsKICAgICAgICAgIGRhdGFUcmFuc2ZlcjogZGF0YVRyYW5zZmVyLAogICAgICAgICAgY29udGVudDogY29udGVudCwKICAgICAgICAgIG1ldGhvZDogZXZ0Lm5hbWUKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdGhpcy5saXN0ZW5Ubyh2aWV3RG9jdW1lbnQsICdjb3B5Jywgb25Db3B5Q3V0LCB7CiAgICAgICAgcHJpb3JpdHk6ICdsb3cnCiAgICAgIH0pOwogICAgICB0aGlzLmxpc3RlblRvKHZpZXdEb2N1bWVudCwgJ2N1dCcsIGZ1bmN0aW9uIChldnQsIGRhdGEpIHsKICAgICAgICAvLyBDdXR0aW5nIGlzIGRpc2FibGVkIHdoZW4gZWRpdG9yIGlzIGluIHRoZSByZWFkLW9ubHkgbW9kZS4KICAgICAgICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9ja2VkaXRvci9ja2VkaXRvcjUtY2xpcGJvYXJkL2lzc3Vlcy8yNi4KICAgICAgICBpZiAoZWRpdG9yLmlzUmVhZE9ubHkpIHsKICAgICAgICAgIGRhdGEucHJldmVudERlZmF1bHQoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgb25Db3B5Q3V0KGV2dCwgZGF0YSk7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgcHJpb3JpdHk6ICdsb3cnCiAgICAgIH0pOwogICAgICB0aGlzLmxpc3RlblRvKHZpZXdEb2N1bWVudCwgJ2NsaXBib2FyZE91dHB1dCcsIGZ1bmN0aW9uIChldnQsIGRhdGEpIHsKICAgICAgICBpZiAoIWRhdGEuY29udGVudC5pc0VtcHR5KSB7CiAgICAgICAgICBkYXRhLmRhdGFUcmFuc2Zlci5zZXREYXRhKCd0ZXh0L2h0bWwnLCBfdGhpczIuZWRpdG9yLmRhdGEuaHRtbFByb2Nlc3Nvci50b0RhdGEoZGF0YS5jb250ZW50KSk7CiAgICAgICAgICBkYXRhLmRhdGFUcmFuc2Zlci5zZXREYXRhKCd0ZXh0L3BsYWluJywgdmlld1RvUGxhaW5UZXh0KGRhdGEuY29udGVudCkpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGRhdGEubWV0aG9kID09ICdjdXQnKSB7CiAgICAgICAgICBlZGl0b3IubW9kZWwuZGVsZXRlQ29udGVudChtb2RlbERvY3VtZW50LnNlbGVjdGlvbik7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgcHJpb3JpdHk6ICdsb3cnCiAgICAgIH0pOwogICAgfQogIH1dLCBbewogICAga2V5OiAicGx1Z2luTmFtZSIsCiAgICBnZXQ6CiAgICAvKioKICAgICAqIEBpbmhlcml0RG9jCiAgICAgKi8KICAgIGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuICdDbGlwYm9hcmRQaXBlbGluZSc7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQ2xpcGJvYXJkUGlwZWxpbmU7Cn0oUGx1Z2luKTsKLyoqCiAqIEZpcmVkIHdpdGggdGhlIGBjb250ZW50YCwgYGRhdGFUcmFuc2ZlcmAsIGBtZXRob2RgLCBhbmQgYHRhcmdldFJhbmdlc2AgcHJvcGVydGllczoKICoKICogKiBUaGUgYGNvbnRlbnRgIHdoaWNoIGNvbWVzIGZyb20gdGhlIGNsaXBib2FyZCAoaXQgd2FzIHBhc3RlZCBvciBkcm9wcGVkKSBzaG91bGQgYmUgcHJvY2Vzc2VkIGluIG9yZGVyIHRvIGJlIGluc2VydGVkIGludG8gdGhlIGVkaXRvci4KICogKiBUaGUgYGRhdGFUcmFuc2ZlcmAgb2JqZWN0IGlzIGF2YWlsYWJsZSBpbiBjYXNlIHRoZSB0cmFuc2Zvcm1hdGlvbiBmdW5jdGlvbnMgbmVlZCBhY2Nlc3MgdG8gdGhlIHJhdyBjbGlwYm9hcmQgZGF0YS4KICogKiBUaGUgYG1ldGhvZGAgaW5kaWNhdGVzIHRoZSBvcmlnaW5hbCBET00gZXZlbnQgKGZvciBleGFtcGxlIGAnZHJvcCdgIG9yIGAncGFzdGUnYCkuCiAqICogVGhlIGB0YXJnZXRSYW5nZXNgIHByb3BlcnR5IGlzIGFuIGFycmF5IG9mIHZpZXcgcmFuZ2VzIChpdCBpcyBhdmFpbGFibGUgb25seSBmb3IgYCdkcm9wJ2ApLgogKgogKiBJdCBpcyBhIHBhcnQgb2YgdGhlIHtAZ2xpbmsgZnJhbWV3b3JrL2d1aWRlcy9kZWVwLWRpdmUvY2xpcGJvYXJkI2lucHV0LXBpcGVsaW5lIGNsaXBib2FyZCBpbnB1dCBwaXBlbGluZX0uCiAqCiAqICoqTm90ZSoqOiBZb3Ugc2hvdWxkIG5vdCBzdG9wIHRoaXMgZXZlbnQgaWYgeW91IHdhbnQgdG8gY2hhbmdlIHRoZSBpbnB1dCBkYXRhLiBZb3Ugc2hvdWxkIG1vZGlmeSB0aGUgYGNvbnRlbnRgIHByb3BlcnR5IGluc3RlYWQuCiAqCiAqIEBzZWUgbW9kdWxlOmNsaXBib2FyZC9jbGlwYm9hcmRvYnNlcnZlcn5DbGlwYm9hcmRPYnNlcnZlcgogKiBAc2VlIG1vZHVsZTpjbGlwYm9hcmQvY2xpcGJvYXJkcGlwZWxpbmV+Q2xpcGJvYXJkUGlwZWxpbmUKICogQGV2ZW50IG1vZHVsZTpjbGlwYm9hcmQvY2xpcGJvYXJkcGlwZWxpbmV+Q2xpcGJvYXJkUGlwZWxpbmUjZXZlbnQ6aW5wdXRUcmFuc2Zvcm1hdGlvbgogKiBAcGFyYW0ge09iamVjdH0gZGF0YSBUaGUgZXZlbnQgZGF0YS4KICogQHBhcmFtIHttb2R1bGU6ZW5naW5lL3ZpZXcvZG9jdW1lbnRmcmFnbWVudH5Eb2N1bWVudEZyYWdtZW50fSBkYXRhLmNvbnRlbnQgVGhlIGV2ZW50IGRhdGEuIFRoZSBjb250ZW50IHRvIGJlIGluc2VydGVkIGludG8gdGhlIGVkaXRvci4KICogSXQgY2FuIGJlIG1vZGlmaWVkIGJ5IGV2ZW50IGxpc3RlbmVycy4gUmVhZCBtb3JlIGFib3V0IHRoZSBjbGlwYm9hcmQgcGlwZWxpbmVzIGluCiAqIHRoZSB7QGdsaW5rIGZyYW1ld29yay9ndWlkZXMvZGVlcC1kaXZlL2NsaXBib2FyZCBjbGlwYm9hcmQgZGVlcCBkaXZlIGd1aWRlfS4KICogQHBhcmFtIHttb2R1bGU6Y2xpcGJvYXJkL2RhdGF0cmFuc2Zlcn5EYXRhVHJhbnNmZXJ9IGRhdGEuZGF0YVRyYW5zZmVyIFRoZSBkYXRhIHRyYW5zZmVyIGluc3RhbmNlLgogKiBAcGFyYW0geydwYXN0ZSd8J2Ryb3AnfSBkYXRhLm1ldGhvZCBXaGV0aGVyIHRoZSBldmVudCB3YXMgdHJpZ2dlcmVkIGJ5IGEgcGFzdGUgb3IgZHJvcCBvcGVyYXRpb24uCiAqIEBwYXJhbSB7QXJyYXkuPG1vZHVsZTplbmdpbmUvdmlldy9yYW5nZX5SYW5nZT59IGRhdGEudGFyZ2V0UmFuZ2VzIFRoZSB0YXJnZXQgZHJvcCByYW5nZXMuCiAqLwoKLyoqCiAqIEZpcmVkIHdpdGggdGhlIGBjb250ZW50YCwgYGRhdGFUcmFuc2ZlcmAsIGBtZXRob2RgLCBhbmQgYHRhcmdldFJhbmdlc2AgcHJvcGVydGllczoKICoKICogKiBUaGUgYGNvbnRlbnRgIHdoaWNoIGNvbWVzIGZyb20gdGhlIGNsaXBib2FyZCAod2FzIHBhc3RlZCBvciBkcm9wcGVkKSBzaG91bGQgYmUgcHJvY2Vzc2VkIGluIG9yZGVyIHRvIGJlIGluc2VydGVkIGludG8gdGhlIGVkaXRvci4KICogKiBUaGUgYGRhdGFUcmFuc2ZlcmAgb2JqZWN0IGlzIGF2YWlsYWJsZSBpbiBjYXNlIHRoZSB0cmFuc2Zvcm1hdGlvbiBmdW5jdGlvbnMgbmVlZCBhY2Nlc3MgdG8gdGhlIHJhdyBjbGlwYm9hcmQgZGF0YS4KICogKiBUaGUgYG1ldGhvZGAgaW5kaWNhdGVzIHRoZSBvcmlnaW5hbCBET00gZXZlbnQgKGZvciBleGFtcGxlIGAnZHJvcCdgIG9yIGAncGFzdGUnYCkuCiAqICogVGhlIGB0YXJnZXRSYW5nZXNgIHByb3BlcnR5IGlzIGFuIGFycmF5IG9mIHZpZXcgcmFuZ2VzIChpdCBpcyBhdmFpbGFibGUgb25seSBmb3IgYCdkcm9wJ2ApLgogKgogKiBFdmVudCBoYW5kbGVycyBjYW4gbW9kaWZ5IHRoZSBjb250ZW50IGFjY29yZGluZyB0byB0aGUgZmluYWwgaW5zZXJ0aW9uIHBvc2l0aW9uLgogKgogKiBJdCBpcyBhIHBhcnQgb2YgdGhlIHtAZ2xpbmsgZnJhbWV3b3JrL2d1aWRlcy9kZWVwLWRpdmUvY2xpcGJvYXJkI2lucHV0LXBpcGVsaW5lIGNsaXBib2FyZCBpbnB1dCBwaXBlbGluZX0uCiAqCiAqICoqTm90ZSoqOiBZb3Ugc2hvdWxkIG5vdCBzdG9wIHRoaXMgZXZlbnQgaWYgeW91IHdhbnQgdG8gY2hhbmdlIHRoZSBpbnB1dCBkYXRhLiBZb3Ugc2hvdWxkIG1vZGlmeSB0aGUgYGNvbnRlbnRgIHByb3BlcnR5IGluc3RlYWQuCiAqCiAqIEBzZWUgbW9kdWxlOmNsaXBib2FyZC9jbGlwYm9hcmRvYnNlcnZlcn5DbGlwYm9hcmRPYnNlcnZlcgogKiBAc2VlIG1vZHVsZTpjbGlwYm9hcmQvY2xpcGJvYXJkcGlwZWxpbmV+Q2xpcGJvYXJkUGlwZWxpbmUKICogQHNlZSBtb2R1bGU6Y2xpcGJvYXJkL2NsaXBib2FyZHBpcGVsaW5lfkNsaXBib2FyZFBpcGVsaW5lI2V2ZW50OmlucHV0VHJhbnNmb3JtYXRpb24KICogQGV2ZW50IG1vZHVsZTpjbGlwYm9hcmQvY2xpcGJvYXJkcGlwZWxpbmV+Q2xpcGJvYXJkUGlwZWxpbmUjZXZlbnQ6Y29udGVudEluc2VydGlvbgogKiBAcGFyYW0ge09iamVjdH0gZGF0YSBUaGUgZXZlbnQgZGF0YS4KICogQHBhcmFtIHttb2R1bGU6ZW5naW5lL21vZGVsL2RvY3VtZW50ZnJhZ21lbnR+RG9jdW1lbnRGcmFnbWVudH0gZGF0YS5jb250ZW50IFRoZSBldmVudCBkYXRhLiBUaGUgY29udGVudCB0byBiZSBpbnNlcnRlZCBpbnRvIHRoZSBlZGl0b3IuCiAqIFJlYWQgbW9yZSBhYm91dCB0aGUgY2xpcGJvYXJkIHBpcGVsaW5lcyBpbiB0aGUge0BnbGluayBmcmFtZXdvcmsvZ3VpZGVzL2RlZXAtZGl2ZS9jbGlwYm9hcmQgY2xpcGJvYXJkIGRlZXAgZGl2ZSBndWlkZX0uCiAqIEBwYXJhbSB7bW9kdWxlOmNsaXBib2FyZC9kYXRhdHJhbnNmZXJ+RGF0YVRyYW5zZmVyfSBkYXRhLmRhdGFUcmFuc2ZlciBUaGUgZGF0YSB0cmFuc2ZlciBpbnN0YW5jZS4KICogQHBhcmFtIHsncGFzdGUnfCdkcm9wJ30gZGF0YS5tZXRob2QgV2hldGhlciB0aGUgZXZlbnQgd2FzIHRyaWdnZXJlZCBieSBhIHBhc3RlIG9yIGRyb3Agb3BlcmF0aW9uLgogKiBAcGFyYW0ge0FycmF5Ljxtb2R1bGU6ZW5naW5lL3ZpZXcvcmFuZ2V+UmFuZ2U+fSBkYXRhLnRhcmdldFJhbmdlcyBUaGUgdGFyZ2V0IGRyb3AgcmFuZ2VzLgogKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvbW9kZWwvcmFuZ2V+UmFuZ2V9IGRhdGEucmVzdWx0UmFuZ2UgVGhlIHJlc3VsdCBvZiB0aGUgYG1vZGVsLmluc2VydENvbnRlbnQoKWAgY2FsbAogKiAgKGluc2VydGVkIGJ5IHRoZSBldmVudCBoYW5kbGVyIGF0IGEgbG93IHByaW9yaXR5KS4KICovCgovKioKICogRmlyZWQgb24ge0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy9kb2N1bWVudH5Eb2N1bWVudCNldmVudDpjb3B5fSBhbmQge0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy9kb2N1bWVudH5Eb2N1bWVudCNldmVudDpjdXR9CiAqIHdpdGggYSBjb3B5IG9mIHRoZSBzZWxlY3RlZCBjb250ZW50LiBUaGUgY29udGVudCBjYW4gYmUgcHJvY2Vzc2VkIGJlZm9yZSBpdCBlbmRzIHVwIGluIHRoZSBjbGlwYm9hcmQuCiAqCiAqIEl0IGlzIGEgcGFydCBvZiB0aGUge0BnbGluayBmcmFtZXdvcmsvZ3VpZGVzL2RlZXAtZGl2ZS9jbGlwYm9hcmQjb3V0cHV0LXBpcGVsaW5lIGNsaXBib2FyZCBvdXRwdXQgcGlwZWxpbmV9LgogKgogKiBAc2VlIG1vZHVsZTpjbGlwYm9hcmQvY2xpcGJvYXJkb2JzZXJ2ZXJ+Q2xpcGJvYXJkT2JzZXJ2ZXIKICogQHNlZSBtb2R1bGU6Y2xpcGJvYXJkL2NsaXBib2FyZHBpcGVsaW5lfkNsaXBib2FyZFBpcGVsaW5lCiAqIEBldmVudCBtb2R1bGU6ZW5naW5lL3ZpZXcvZG9jdW1lbnR+RG9jdW1lbnQjZXZlbnQ6Y2xpcGJvYXJkT3V0cHV0CiAqIEBwYXJhbSB7bW9kdWxlOmNsaXBib2FyZC9jbGlwYm9hcmRwaXBlbGluZX5DbGlwYm9hcmRPdXRwdXRFdmVudERhdGF9IGRhdGEgVGhlIGV2ZW50IGRhdGEuCiAqLwoKLyoqCiAqIFRoZSB2YWx1ZSBvZiB0aGUge0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy9kb2N1bWVudH5Eb2N1bWVudCNldmVudDpjbGlwYm9hcmRPdXRwdXR9IGV2ZW50LgogKgogKiBAY2xhc3MgbW9kdWxlOmNsaXBib2FyZC9jbGlwYm9hcmRwaXBlbGluZX5DbGlwYm9hcmRPdXRwdXRFdmVudERhdGEKICovCgovKioKICogVGhlIGRhdGEgdHJhbnNmZXIgaW5zdGFuY2UuCiAqCiAqIEByZWFkb25seQogKiBAbWVtYmVyIHttb2R1bGU6Y2xpcGJvYXJkL2RhdGF0cmFuc2Zlcn5EYXRhVHJhbnNmZXJ9IG1vZHVsZTpjbGlwYm9hcmQvY2xpcGJvYXJkcGlwZWxpbmV+Q2xpcGJvYXJkT3V0cHV0RXZlbnREYXRhI2RhdGFUcmFuc2ZlcgogKi8KCi8qKgogKiBDb250ZW50IHRvIGJlIHB1dCBpbnRvIHRoZSBjbGlwYm9hcmQuIEl0IGNhbiBiZSBtb2RpZmllZCBieSB0aGUgZXZlbnQgbGlzdGVuZXJzLgogKiBSZWFkIG1vcmUgYWJvdXQgdGhlIGNsaXBib2FyZCBwaXBlbGluZXMgaW4gdGhlIHtAZ2xpbmsgZnJhbWV3b3JrL2d1aWRlcy9kZWVwLWRpdmUvY2xpcGJvYXJkIGNsaXBib2FyZCBkZWVwIGRpdmUgZ3VpZGV9LgogKgogKiBAbWVtYmVyIHttb2R1bGU6ZW5naW5lL3ZpZXcvZG9jdW1lbnRmcmFnbWVudH5Eb2N1bWVudEZyYWdtZW50fSBtb2R1bGU6Y2xpcGJvYXJkL2NsaXBib2FyZHBpcGVsaW5lfkNsaXBib2FyZE91dHB1dEV2ZW50RGF0YSNjb250ZW50CiAqLwoKLyoqCiAqIFdoZXRoZXIgdGhlIGV2ZW50IHdhcyB0cmlnZ2VyZWQgYnkgYSBjb3B5IG9yIGN1dCBvcGVyYXRpb24uCiAqCiAqIEBtZW1iZXIgeydjb3B5J3wnY3V0J30gbW9kdWxlOmNsaXBib2FyZC9jbGlwYm9hcmRwaXBlbGluZX5DbGlwYm9hcmRPdXRwdXRFdmVudERhdGEjbWV0aG9kCiAqLwoKCmV4cG9ydCB7IENsaXBib2FyZFBpcGVsaW5lIGFzIGRlZmF1bHQgfTs="},{"version":3,"sources":["/home/ekeberat/Yandex.Disk/Projelerim/BenimProjelerim/websitem/websitem-web/node_modules/@ckeditor/ckeditor5-clipboard/src/clipboardpipeline.js"],"names":["Plugin","EventInfo","ClipboardObserver","plainTextToHtml","normalizeClipboardHtml","viewToPlainText","ClipboardPipeline","editor","view","editing","addObserver","_setupPasteDrop","_setupCopyCut","model","viewDocument","document","listenTo","evt","isReadOnly","stop","priority","data","dataTransfer","content","getData","htmlProcessor","toView","eventInfo","fire","targetRanges","method","called","scrollToTheSelection","isEmpty","dataController","modelFragment","toModel","childCount","change","resultRange","insertContent","modelDocument","onCopyCut","preventDefault","getSelectedContent","selection","name","setData","toData","deleteContent"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAEA,OAAOA,MAAP,MAAmB,qCAAnB;AACA,OAAOC,SAAP,MAAsB,yCAAtB;AAEA,OAAOC,iBAAP,MAA8B,qBAA9B;AAEA,OAAOC,eAAP,MAA4B,yBAA5B;AACA,OAAOC,sBAAP,MAAmC,gCAAnC;AACA,OAAOC,eAAP,MAA4B,4BAA5B,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;IACqBC,iB;;;;;;;;;;;;;;AAQpB;AACD;AACA;AACC,oBAAO;AACN,UAAMC,MAAM,GAAG,KAAKA,MAApB;AACA,UAAMC,IAAI,GAAGD,MAAM,CAACE,OAAP,CAAeD,IAA5B;AAEAA,MAAAA,IAAI,CAACE,WAAL,CAAkBR,iBAAlB;;AAEA,WAAKS,eAAL;;AACA,WAAKC,aAAL;AACA;AAED;AACD;AACA;AACA;AACA;;;;WACC,2BAAkB;AAAA;;AACjB,UAAML,MAAM,GAAG,KAAKA,MAApB;AACA,UAAMM,KAAK,GAAGN,MAAM,CAACM,KAArB;AACA,UAAML,IAAI,GAAGD,MAAM,CAACE,OAAP,CAAeD,IAA5B;AACA,UAAMM,YAAY,GAAGN,IAAI,CAACO,QAA1B,CAJiB,CAMjB;AACA;;AACA,WAAKC,QAAL,CAAeF,YAAf,E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","sourcesContent":["/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module clipboard/clipboardpipeline\n */\n\nimport Plugin from '@ckeditor/ckeditor5-core/src/plugin';\nimport EventInfo from '@ckeditor/ckeditor5-utils/src/eventinfo';\n\nimport ClipboardObserver from './clipboardobserver';\n\nimport plainTextToHtml from './utils/plaintexttohtml';\nimport normalizeClipboardHtml from './utils/normalizeclipboarddata';\nimport viewToPlainText from './utils/viewtoplaintext.js';\n\n// Input pipeline events overview:\n//\n//              ┌──────────────────────┐          ┌──────────────────────┐\n//              │     view.Document    │          │     view.Document    │\n//              │         paste        │          │         drop         │\n//              └───────────┬──────────┘          └───────────┬──────────┘\n//                          │                                 │\n//                          └────────────────┌────────────────┘\n//                                           │\n//                                 ┌─────────V────────┐\n//                                 │   view.Document  │   Retrieves text/html or text/plain from data.dataTransfer\n//                                 │  clipboardInput  │   and processes it to view.DocumentFragment.\n//                                 └─────────┬────────┘\n//                                           │\n//                               ┌───────────V───────────┐\n//                               │   ClipboardPipeline   │   Converts view.DocumentFragment to model.DocumentFragment.\n//                               │  inputTransformation  │\n//                               └───────────┬───────────┘\n//                                           │\n//                                ┌──────────V──────────┐\n//                                │  ClipboardPipeline  │   Calls model.insertContent().\n//                                │   contentInsertion  │\n//                                └─────────────────────┘\n//\n//\n// Output pipeline events overview:\n//\n//              ┌──────────────────────┐          ┌──────────────────────┐\n//              │     view.Document    │          │     view.Document    │   Retrieves the selected model.DocumentFragment\n//              │         copy         │          │          cut         │   and converts it to view.DocumentFragment.\n//              └───────────┬──────────┘          └───────────┬──────────┘\n//                          │                                 │\n//                          └────────────────┌────────────────┘\n//                                           │\n//                                 ┌─────────V────────┐\n//                                 │   view.Document  │   Processes view.DocumentFragment to text/html and text/plain\n//                                 │  clipboardOutput │   and stores the results in data.dataTransfer.\n//                                 └──────────────────┘\n//\n\n/**\n * The clipboard pipeline feature. It is responsible for intercepting the `paste` and `drop` events and\n * passing the pasted content through a series of events in order to insert it into the editor's content.\n * It also handles the `cut` and `copy` events to fill the native clipboard with the serialized editor's data.\n *\n * # Input pipeline\n *\n * The behavior of the default handlers (all at a `low` priority):\n *\n * ## Event: `paste` or `drop`\n *\n * 1. Translates the event data.\n * 2. Fires the {@link module:engine/view/document~Document#event:clipboardInput `view.Document#clipboardInput`} event.\n *\n * ## Event: `view.Document#clipboardInput`\n *\n * 1. If the `data.content` event field is already set (by some listener on a higher priority), it takes this content and fires the event\n *    from the last point.\n * 2. Otherwise, it retrieves `text/html` or `text/plain` from `data.dataTransfer`.\n * 3. Normalizes the raw data by applying simple filters on string data.\n * 4. Processes the raw data to {@link module:engine/view/documentfragment~DocumentFragment `view.DocumentFragment`} with the\n *    {@link module:engine/controller/datacontroller~DataController#htmlProcessor `DataController#htmlProcessor`}.\n * 5. Fires the {@link module:clipboard/clipboardpipeline~ClipboardPipeline#event:inputTransformation\n *   `ClipboardPipeline#inputTransformation`} event with the view document fragment in the `data.content` event field.\n *\n * ## Event: `ClipboardPipeline#inputTransformation`\n *\n * 1. Converts {@link module:engine/view/documentfragment~DocumentFragment `view.DocumentFragment`} from the `data.content` field to\n *    {@link module:engine/model/documentfragment~DocumentFragment `model.DocumentFragment`}.\n * 2. Fires the {@link module:clipboard/clipboardpipeline~ClipboardPipeline#event:contentInsertion `ClipboardPipeline#contentInsertion`}\n *    event with the model document fragment in the `data.content` event field.\n *    **Note**: The `ClipboardPipeline#contentInsertion` event is fired within a model change block to allow other handlers\n *    to run in the same block without post-fixers called in between (i.e., the selection post-fixer).\n *\n * ## Event: `ClipboardPipeline#contentInsertion`\n *\n * 1. Calls {@link module:engine/model/model~Model#insertContent `model.insertContent()`} to insert `data.content`\n *    at the current selection position.\n *\n * # Output pipeline\n *\n * The behavior of the default handlers (all at a `low` priority):\n *\n * ## Event: `copy`, `cut` or `dragstart`\n *\n * 1. Retrieves the selected {@link module:engine/model/documentfragment~DocumentFragment `model.DocumentFragment`} by calling\n *    {@link module:engine/model/model~Model#getSelectedContent `model#getSelectedContent()`}.\n * 2. Converts the model document fragment to {@link module:engine/view/documentfragment~DocumentFragment `view.DocumentFragment`}.\n * 3. Fires the {@link module:engine/view/document~Document#event:clipboardOutput `view.Document#clipboardOutput`} event\n *    with the view document fragment in the `data.content` event field.\n *\n * ## Event: `view.Document#clipboardOutput`\n *\n * 1. Processes `data.content` to HTML and plain text with the\n *    {@link module:engine/controller/datacontroller~DataController#htmlProcessor `DataController#htmlProcessor`}.\n * 2. Updates the `data.dataTransfer` data for `text/html` and `text/plain` with the processed data.\n * 3. For the `cut` method, calls {@link module:engine/model/model~Model#deleteContent `model.deleteContent()`}\n *    on the current selection.\n *\n * Read more about the clipboard integration in the {@glink framework/guides/deep-dive/clipboard clipboard deep dive guide}.\n *\n * @extends module:core/plugin~Plugin\n */\nexport default class ClipboardPipeline extends Plugin {\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic get pluginName() {\n\t\treturn 'ClipboardPipeline';\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tinit() {\n\t\tconst editor = this.editor;\n\t\tconst view = editor.editing.view;\n\n\t\tview.addObserver( ClipboardObserver );\n\n\t\tthis._setupPasteDrop();\n\t\tthis._setupCopyCut();\n\t}\n\n\t/**\n\t * The clipboard paste pipeline.\n\t *\n\t * @private\n\t */\n\t_setupPasteDrop() {\n\t\tconst editor = this.editor;\n\t\tconst model = editor.model;\n\t\tconst view = editor.editing.view;\n\t\tconst viewDocument = view.document;\n\n\t\t// Pasting and dropping is disabled when editor is in the read-only mode.\n\t\t// See: https://github.com/ckeditor/ckeditor5-clipboard/issues/26.\n\t\tthis.listenTo( viewDocument, 'clipboardInput', evt => {\n\t\t\tif ( editor.isReadOnly ) {\n\t\t\t\tevt.stop();\n\t\t\t}\n\t\t}, { priority: 'highest' } );\n\n\t\tthis.listenTo( viewDocument, 'clipboardInput', ( evt, data ) => {\n\t\t\tconst dataTransfer = data.dataTransfer;\n\t\t\tlet content = data.content || '';\n\n\t\t\t// Some feature could already inject content in the higher priority event handler (i.e., codeBlock).\n\t\t\tif ( !content ) {\n\t\t\t\tif ( dataTransfer.getData( 'text/html' ) ) {\n\t\t\t\t\tcontent = normalizeClipboardHtml( dataTransfer.getData( 'text/html' ) );\n\t\t\t\t} else if ( dataTransfer.getData( 'text/plain' ) ) {\n\t\t\t\t\tcontent = plainTextToHtml( dataTransfer.getData( 'text/plain' ) );\n\t\t\t\t}\n\n\t\t\t\tcontent = this.editor.data.htmlProcessor.toView( content );\n\t\t\t}\n\n\t\t\tconst eventInfo = new EventInfo( this, 'inputTransformation' );\n\n\t\t\tthis.fire( eventInfo, {\n\t\t\t\tcontent,\n\t\t\t\tdataTransfer,\n\t\t\t\ttargetRanges: data.targetRanges,\n\t\t\t\tmethod: data.method\n\t\t\t} );\n\n\t\t\t// If CKEditor handled the input, do not bubble the original event any further.\n\t\t\t// This helps external integrations recognize this fact and act accordingly.\n\t\t\t// https://github.com/ckeditor/ckeditor5-upload/issues/92\n\t\t\tif ( eventInfo.stop.called ) {\n\t\t\t\tevt.stop();\n\t\t\t}\n\n\t\t\tview.scrollToTheSelection();\n\t\t}, { priority: 'low' } );\n\n\t\tthis.listenTo( this, 'inputTransformation', ( evt, data ) => {\n\t\t\tif ( data.content.isEmpty ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst dataController = this.editor.data;\n\n\t\t\t// Convert the pasted content into a model document fragment.\n\t\t\t// The conversion is contextual, but in this case an \"all allowed\" context is needed\n\t\t\t// and for that we use the $clipboardHolder item.\n\t\t\tconst modelFragment = dataController.toModel( data.content, '$clipboardHolder' );\n\n\t\t\tif ( modelFragment.childCount == 0 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tevt.stop();\n\n\t\t\t// Fire content insertion event in a single change block to allow other handlers to run in the same block\n\t\t\t// without post-fixers called in between (i.e., the selection post-fixer).\n\t\t\tmodel.change( () => {\n\t\t\t\tthis.fire( 'contentInsertion', {\n\t\t\t\t\tcontent: modelFragment,\n\t\t\t\t\tmethod: data.method,\n\t\t\t\t\tdataTransfer: data.dataTransfer,\n\t\t\t\t\ttargetRanges: data.targetRanges\n\t\t\t\t} );\n\t\t\t} );\n\t\t}, { priority: 'low' } );\n\n\t\tthis.listenTo( this, 'contentInsertion', ( evt, data ) => {\n\t\t\tdata.resultRange = model.insertContent( data.content );\n\t\t}, { priority: 'low' } );\n\t}\n\n\t/**\n\t * The clipboard copy/cut pipeline.\n\t *\n\t * @private\n\t */\n\t_setupCopyCut() {\n\t\tconst editor = this.editor;\n\t\tconst modelDocument = editor.model.document;\n\t\tconst view = editor.editing.view;\n\t\tconst viewDocument = view.document;\n\n\t\tfunction onCopyCut( evt, data ) {\n\t\t\tconst dataTransfer = data.dataTransfer;\n\n\t\t\tdata.preventDefault();\n\n\t\t\tconst content = editor.data.toView( editor.model.getSelectedContent( modelDocument.selection ) );\n\n\t\t\tviewDocument.fire( 'clipboardOutput', { dataTransfer, content, method: evt.name } );\n\t\t}\n\n\t\tthis.listenTo( viewDocument, 'copy', onCopyCut, { priority: 'low' } );\n\t\tthis.listenTo( viewDocument, 'cut', ( evt, data ) => {\n\t\t\t// Cutting is disabled when editor is in the read-only mode.\n\t\t\t// See: https://github.com/ckeditor/ckeditor5-clipboard/issues/26.\n\t\t\tif ( editor.isReadOnly ) {\n\t\t\t\tdata.preventDefault();\n\t\t\t} else {\n\t\t\t\tonCopyCut( evt, data );\n\t\t\t}\n\t\t}, { priority: 'low' } );\n\n\t\tthis.listenTo( viewDocument, 'clipboardOutput', ( evt, data ) => {\n\t\t\tif ( !data.content.isEmpty ) {\n\t\t\t\tdata.dataTransfer.setData( 'text/html', this.editor.data.htmlProcessor.toData( data.content ) );\n\t\t\t\tdata.dataTransfer.setData( 'text/plain', viewToPlainText( data.content ) );\n\t\t\t}\n\n\t\t\tif ( data.method == 'cut' ) {\n\t\t\t\teditor.model.deleteContent( modelDocument.selection );\n\t\t\t}\n\t\t}, { priority: 'low' } );\n\t}\n}\n\n/**\n * Fired with the `content`, `dataTransfer`, `method`, and `targetRanges` properties:\n *\n * * The `content` which comes from the clipboard (it was pasted or dropped) should be processed in order to be inserted into the editor.\n * * The `dataTransfer` object is available in case the transformation functions need access to the raw clipboard data.\n * * The `method` indicates the original DOM event (for example `'drop'` or `'paste'`).\n * * The `targetRanges` property is an array of view ranges (it is available only for `'drop'`).\n *\n * It is a part of the {@glink framework/guides/deep-dive/clipboard#input-pipeline clipboard input pipeline}.\n *\n * **Note**: You should not stop this event if you want to change the input data. You should modify the `content` property instead.\n *\n * @see module:clipboard/clipboardobserver~ClipboardObserver\n * @see module:clipboard/clipboardpipeline~ClipboardPipeline\n * @event module:clipboard/clipboardpipeline~ClipboardPipeline#event:inputTransformation\n * @param {Object} data The event data.\n * @param {module:engine/view/documentfragment~DocumentFragment} data.content The event data. The content to be inserted into the editor.\n * It can be modified by event listeners. Read more about the clipboard pipelines in\n * the {@glink framework/guides/deep-dive/clipboard clipboard deep dive guide}.\n * @param {module:clipboard/datatransfer~DataTransfer} data.dataTransfer The data transfer instance.\n * @param {'paste'|'drop'} data.method Whether the event was triggered by a paste or drop operation.\n * @param {Array.<module:engine/view/range~Range>} data.targetRanges The target drop ranges.\n */\n\n/**\n * Fired with the `content`, `dataTransfer`, `method`, and `targetRanges` properties:\n *\n * * The `content` which comes from the clipboard (was pasted or dropped) should be processed in order to be inserted into the editor.\n * * The `dataTransfer` object is available in case the transformation functions need access to the raw clipboard data.\n * * The `method` indicates the original DOM event (for example `'drop'` or `'paste'`).\n * * The `targetRanges` property is an array of view ranges (it is available only for `'drop'`).\n *\n * Event handlers can modify the content according to the final insertion position.\n *\n * It is a part of the {@glink framework/guides/deep-dive/clipboard#input-pipeline clipboard input pipeline}.\n *\n * **Note**: You should not stop this event if you want to change the input data. You should modify the `content` property instead.\n *\n * @see module:clipboard/clipboardobserver~ClipboardObserver\n * @see module:clipboard/clipboardpipeline~ClipboardPipeline\n * @see module:clipboard/clipboardpipeline~ClipboardPipeline#event:inputTransformation\n * @event module:clipboard/clipboardpipeline~ClipboardPipeline#event:contentInsertion\n * @param {Object} data The event data.\n * @param {module:engine/model/documentfragment~DocumentFragment} data.content The event data. The content to be inserted into the editor.\n * Read more about the clipboard pipelines in the {@glink framework/guides/deep-dive/clipboard clipboard deep dive guide}.\n * @param {module:clipboard/datatransfer~DataTransfer} data.dataTransfer The data transfer instance.\n * @param {'paste'|'drop'} data.method Whether the event was triggered by a paste or drop operation.\n * @param {Array.<module:engine/view/range~Range>} data.targetRanges The target drop ranges.\n * @param {module:engine/model/range~Range} data.resultRange The result of the `model.insertContent()` call\n *  (inserted by the event handler at a low priority).\n */\n\n/**\n * Fired on {@link module:engine/view/document~Document#event:copy} and {@link module:engine/view/document~Document#event:cut}\n * with a copy of the selected content. The content can be processed before it ends up in the clipboard.\n *\n * It is a part of the {@glink framework/guides/deep-dive/clipboard#output-pipeline clipboard output pipeline}.\n *\n * @see module:clipboard/clipboardobserver~ClipboardObserver\n * @see module:clipboard/clipboardpipeline~ClipboardPipeline\n * @event module:engine/view/document~Document#event:clipboardOutput\n * @param {module:clipboard/clipboardpipeline~ClipboardOutputEventData} data The event data.\n */\n\n/**\n * The value of the {@link module:engine/view/document~Document#event:clipboardOutput} event.\n *\n * @class module:clipboard/clipboardpipeline~ClipboardOutputEventData\n */\n\n/**\n * The data transfer instance.\n *\n * @readonly\n * @member {module:clipboard/datatransfer~DataTransfer} module:clipboard/clipboardpipeline~ClipboardOutputEventData#dataTransfer\n */\n\n/**\n * Content to be put into the clipboard. It can be modified by the event listeners.\n * Read more about the clipboard pipelines in the {@glink framework/guides/deep-dive/clipboard clipboard deep dive guide}.\n *\n * @member {module:engine/view/documentfragment~DocumentFragment} module:clipboard/clipboardpipeline~ClipboardOutputEventData#content\n */\n\n/**\n * Whether the event was triggered by a copy or cut operation.\n *\n * @member {'copy'|'cut'} module:clipboard/clipboardpipeline~ClipboardOutputEventData#method\n */\n"]}]}